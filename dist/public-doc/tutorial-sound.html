<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tutorial: sound</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">

    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"applicationName":"YandexAudio","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""},"linenums":true,"default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">YandexAudio</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="ya.music.Audio.config">
            <span class="title">
                <a href="ya.music.Audio.config.html">ya.music.Audio.config</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.config.audio">
            <span class="title">
                <a href="ya.music.Audio.config.audio.html">ya.music.Audio.config.audio</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.config.audio.retry"><a href="ya.music.Audio.config.audio.html#.retry">retry</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.config.flash">
            <span class="title">
                <a href="ya.music.Audio.config.flash.html">ya.music.Audio.config.flash</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.config.flash.callback"><a href="ya.music.Audio.config.flash.html#.callback">callback</a></li>
            
                <li data-name="ya.music.Audio.config.flash.clickTimeout"><a href="ya.music.Audio.config.flash.html#.clickTimeout">clickTimeout</a></li>
            
                <li data-name="ya.music.Audio.config.flash.heartBeatInterval"><a href="ya.music.Audio.config.flash.html#.heartBeatInterval">heartBeatInterval</a></li>
            
                <li data-name="ya.music.Audio.config.flash.initTimeout"><a href="ya.music.Audio.config.flash.html#.initTimeout">initTimeout</a></li>
            
                <li data-name="ya.music.Audio.config.flash.loadTimeout"><a href="ya.music.Audio.config.flash.html#.loadTimeout">loadTimeout</a></li>
            
                <li data-name="ya.music.Audio.config.flash.name"><a href="ya.music.Audio.config.flash.html#.name">name</a></li>
            
                <li data-name="ya.music.Audio.config.flash.path"><a href="ya.music.Audio.config.flash.html#.path">path</a></li>
            
                <li data-name="ya.music.Audio.config.flash.playerID"><a href="ya.music.Audio.config.flash.html#.playerID">playerID</a></li>
            
                <li data-name="ya.music.Audio.config.flash.version"><a href="ya.music.Audio.config.flash.html#.version">version</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.config.html5">
            <span class="title">
                <a href="ya.music.Audio.config.html5.html">ya.music.Audio.config.html5</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.config.html5.blacklist"><a href="ya.music.Audio.config.html5.html#.blacklist">blacklist</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.fx.volumeLib">
            <span class="title">
                <a href="ya.music.Audio.fx.volumeLib.html">ya.music.Audio.fx.volumeLib</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.fx.volumeLib.EPSILON"><a href="ya.music.Audio.fx.volumeLib.html#.EPSILON">EPSILON</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ya.music.Audio.fx.volumeLib.fromDBFS"><a href="ya.music.Audio.fx.volumeLib.html#.fromDBFS">fromDBFS</a></li>
            
                <li data-name="ya.music.Audio.fx.volumeLib.fromExponent"><a href="ya.music.Audio.fx.volumeLib.html#.fromExponent">fromExponent</a></li>
            
                <li data-name="ya.music.Audio.fx.volumeLib.toDBFS"><a href="ya.music.Audio.fx.volumeLib.html#.toDBFS">toDBFS</a></li>
            
                <li data-name="ya.music.Audio.fx.volumeLib.toExponent"><a href="ya.music.Audio.fx.volumeLib.html#.toExponent">toExponent</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Events">
            <span class="title">
                <a href="Events.html">Events</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Events.eventize"><a href="Events.html#.eventize">eventize</a></li>
            
                <li data-name="Events.mixin"><a href="Events.html#.mixin">mixin</a></li>
            
                <li data-name="Events#clearListeners"><a href="Events.html#clearListeners">clearListeners</a></li>
            
                <li data-name="Events#muteEvents"><a href="Events.html#muteEvents">muteEvents</a></li>
            
                <li data-name="Events#off"><a href="Events.html#off">off</a></li>
            
                <li data-name="Events#on"><a href="Events.html#on">on</a></li>
            
                <li data-name="Events#once"><a href="Events.html#once">once</a></li>
            
                <li data-name="Events#pipeEvents"><a href="Events.html#pipeEvents">pipeEvents</a></li>
            
                <li data-name="Events#trigger"><a href="Events.html#trigger">trigger</a></li>
            
                <li data-name="Events#unmuteEvents"><a href="Events.html#unmuteEvents">unmuteEvents</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Promise">
            <span class="title">
                <a href="Promise.html">Promise</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Promise.all"><a href="Promise.html#.all">all</a></li>
            
                <li data-name="Promise.race"><a href="Promise.html#.race">race</a></li>
            
                <li data-name="Promise.reject"><a href="Promise.html#.reject">reject</a></li>
            
                <li data-name="Promise.resolve"><a href="Promise.html#.resolve">resolve</a></li>
            
                <li data-name="Promise#catch"><a href="Promise.html#catch">catch</a></li>
            
                <li data-name="Promise#then"><a href="Promise.html#then">then</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio">
            <span class="title">
                <a href="ya.music.Audio.html">ya.music.Audio</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.audioContext"><a href="ya.music.Audio.html#.audioContext">audioContext</a></li>
            
                <li data-name="ya.music.Audio.info"><a href="ya.music.Audio.html#.info">info</a></li>
            
                <li data-name="ya.music.Audio#EVENT_CRASHED"><a href="ya.music.Audio.html#EVENT_CRASHED">EVENT_CRASHED</a></li>
            
                <li data-name="ya.music.Audio#EVENT_ENDED"><a href="ya.music.Audio.html#EVENT_ENDED">EVENT_ENDED</a></li>
            
                <li data-name="ya.music.Audio#EVENT_ERROR"><a href="ya.music.Audio.html#EVENT_ERROR">EVENT_ERROR</a></li>
            
                <li data-name="ya.music.Audio#EVENT_LOADED"><a href="ya.music.Audio.html#EVENT_LOADED">EVENT_LOADED</a></li>
            
                <li data-name="ya.music.Audio#EVENT_LOADING"><a href="ya.music.Audio.html#EVENT_LOADING">EVENT_LOADING</a></li>
            
                <li data-name="ya.music.Audio#EVENT_PAUSE"><a href="ya.music.Audio.html#EVENT_PAUSE">EVENT_PAUSE</a></li>
            
                <li data-name="ya.music.Audio#EVENT_PLAY"><a href="ya.music.Audio.html#EVENT_PLAY">EVENT_PLAY</a></li>
            
                <li data-name="ya.music.Audio#EVENT_PROGRESS"><a href="ya.music.Audio.html#EVENT_PROGRESS">EVENT_PROGRESS</a></li>
            
                <li data-name="ya.music.Audio#EVENT_STATE"><a href="ya.music.Audio.html#EVENT_STATE">EVENT_STATE</a></li>
            
                <li data-name="ya.music.Audio#EVENT_STOP"><a href="ya.music.Audio.html#EVENT_STOP">EVENT_STOP</a></li>
            
                <li data-name="ya.music.Audio#EVENT_SWAP"><a href="ya.music.Audio.html#EVENT_SWAP">EVENT_SWAP</a></li>
            
                <li data-name="ya.music.Audio#EVENT_VOLUME"><a href="ya.music.Audio.html#EVENT_VOLUME">EVENT_VOLUME</a></li>
            
                <li data-name="ya.music.Audio#PRELOADER_EVENT"><a href="ya.music.Audio.html#PRELOADER_EVENT">PRELOADER_EVENT</a></li>
            
                <li data-name="ya.music.Audio#STATE_CRASHED"><a href="ya.music.Audio.html#STATE_CRASHED">STATE_CRASHED</a></li>
            
                <li data-name="ya.music.Audio#STATE_IDLE"><a href="ya.music.Audio.html#STATE_IDLE">STATE_IDLE</a></li>
            
                <li data-name="ya.music.Audio#STATE_INIT"><a href="ya.music.Audio.html#STATE_INIT">STATE_INIT</a></li>
            
                <li data-name="ya.music.Audio#STATE_PAUSED"><a href="ya.music.Audio.html#STATE_PAUSED">STATE_PAUSED</a></li>
            
                <li data-name="ya.music.Audio#STATE_PLAYING"><a href="ya.music.Audio.html#STATE_PLAYING">STATE_PLAYING</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            <span class="subtitle">Typedefs</span>
            
                <li data-name="ya.music.Audio~AudioPlayerTimes"><a href="ya.music.Audio.html#~AudioPlayerTimes">AudioPlayerTimes</a></li>
            
                <li data-name="ya.music.Audio~AudioPreprocessor"><a href="ya.music.Audio.html#~AudioPreprocessor">AudioPreprocessor</a></li>
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ya.music.Audio#clearListeners"><a href="ya.music.Audio.html#clearListeners">clearListeners</a></li>
            
                <li data-name="ya.music.Audio#getDuration"><a href="ya.music.Audio.html#getDuration">getDuration</a></li>
            
                <li data-name="ya.music.Audio#getLoaded"><a href="ya.music.Audio.html#getLoaded">getLoaded</a></li>
            
                <li data-name="ya.music.Audio#getPlayed"><a href="ya.music.Audio.html#getPlayed">getPlayed</a></li>
            
                <li data-name="ya.music.Audio#getPlayId"><a href="ya.music.Audio.html#getPlayId">getPlayId</a></li>
            
                <li data-name="ya.music.Audio#getPosition"><a href="ya.music.Audio.html#getPosition">getPosition</a></li>
            
                <li data-name="ya.music.Audio#getSrc"><a href="ya.music.Audio.html#getSrc">getSrc</a></li>
            
                <li data-name="ya.music.Audio#getState"><a href="ya.music.Audio.html#getState">getState</a></li>
            
                <li data-name="ya.music.Audio#getType"><a href="ya.music.Audio.html#getType">getType</a></li>
            
                <li data-name="ya.music.Audio#getVolume"><a href="ya.music.Audio.html#getVolume">getVolume</a></li>
            
                <li data-name="ya.music.Audio#initPromise"><a href="ya.music.Audio.html#initPromise">initPromise</a></li>
            
                <li data-name="ya.music.Audio#isDeviceVolume"><a href="ya.music.Audio.html#isDeviceVolume">isDeviceVolume</a></li>
            
                <li data-name="ya.music.Audio#isPreloaded"><a href="ya.music.Audio.html#isPreloaded">isPreloaded</a></li>
            
                <li data-name="ya.music.Audio#isPreloading"><a href="ya.music.Audio.html#isPreloading">isPreloading</a></li>
            
                <li data-name="ya.music.Audio#muteEvents"><a href="ya.music.Audio.html#muteEvents">muteEvents</a></li>
            
                <li data-name="ya.music.Audio#off"><a href="ya.music.Audio.html#off">off</a></li>
            
                <li data-name="ya.music.Audio#on"><a href="ya.music.Audio.html#on">on</a></li>
            
                <li data-name="ya.music.Audio#once"><a href="ya.music.Audio.html#once">once</a></li>
            
                <li data-name="ya.music.Audio#pause"><a href="ya.music.Audio.html#pause">pause</a></li>
            
                <li data-name="ya.music.Audio#pipeEvents"><a href="ya.music.Audio.html#pipeEvents">pipeEvents</a></li>
            
                <li data-name="ya.music.Audio#play"><a href="ya.music.Audio.html#play">play</a></li>
            
                <li data-name="ya.music.Audio#playPreloaded"><a href="ya.music.Audio.html#playPreloaded">playPreloaded</a></li>
            
                <li data-name="ya.music.Audio#preload"><a href="ya.music.Audio.html#preload">preload</a></li>
            
                <li data-name="ya.music.Audio#restart"><a href="ya.music.Audio.html#restart">restart</a></li>
            
                <li data-name="ya.music.Audio#resume"><a href="ya.music.Audio.html#resume">resume</a></li>
            
                <li data-name="ya.music.Audio#setAudioPreprocessor"><a href="ya.music.Audio.html#setAudioPreprocessor">setAudioPreprocessor</a></li>
            
                <li data-name="ya.music.Audio#setPosition"><a href="ya.music.Audio.html#setPosition">setPosition</a></li>
            
                <li data-name="ya.music.Audio#setVolume"><a href="ya.music.Audio.html#setVolume">setVolume</a></li>
            
                <li data-name="ya.music.Audio#stop"><a href="ya.music.Audio.html#stop">stop</a></li>
            
                <li data-name="ya.music.Audio#toggleWebAudioAPI"><a href="ya.music.Audio.html#toggleWebAudioAPI">toggleWebAudioAPI</a></li>
            
                <li data-name="ya.music.Audio#trigger"><a href="ya.music.Audio.html#trigger">trigger</a></li>
            
                <li data-name="ya.music.Audio#unmuteEvents"><a href="ya.music.Audio.html#unmuteEvents">unmuteEvents</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="ya.music.Audio#event:crashed"><a href="ya.music.Audio.html#event:crashed">crashed</a></li>
            
                <li data-name="ya.music.Audio#event:ended"><a href="ya.music.Audio.html#event:ended">ended</a></li>
            
                <li data-name="ya.music.Audio#event:error"><a href="ya.music.Audio.html#event:error">error</a></li>
            
                <li data-name="ya.music.Audio#event:loaded"><a href="ya.music.Audio.html#event:loaded">loaded</a></li>
            
                <li data-name="ya.music.Audio#event:loading"><a href="ya.music.Audio.html#event:loading">loading</a></li>
            
                <li data-name="ya.music.Audio#event:pause"><a href="ya.music.Audio.html#event:pause">pause</a></li>
            
                <li data-name="ya.music.Audio#event:play"><a href="ya.music.Audio.html#event:play">play</a></li>
            
                <li data-name="ya.music.Audio#event:progress"><a href="ya.music.Audio.html#event:progress">progress</a></li>
            
                <li data-name="ya.music.Audio#event:state"><a href="ya.music.Audio.html#event:state">state</a></li>
            
                <li data-name="ya.music.Audio#event:stop"><a href="ya.music.Audio.html#event:stop">stop</a></li>
            
                <li data-name="ya.music.Audio#event:swap"><a href="ya.music.Audio.html#event:swap">swap</a></li>
            
                <li data-name="ya.music.Audio#event:volumechange"><a href="ya.music.Audio.html#event:volumechange">volumechange</a></li>
            
                <li data-name="ya.music.Audio#preloader:error"><a href="ya.music.Audio.html#event:preloader:error">preloader:error</a></li>
            
                <li data-name="ya.music.Audio#preloader:loaded"><a href="ya.music.Audio.html#event:preloader:loaded">preloader:loaded</a></li>
            
                <li data-name="ya.music.Audio#preloader:loading"><a href="ya.music.Audio.html#event:preloader:loading">preloader:loading</a></li>
            
                <li data-name="ya.music.Audio#preloader:pause"><a href="ya.music.Audio.html#event:preloader:pause">preloader:pause</a></li>
            
                <li data-name="ya.music.Audio#preloader:progress"><a href="ya.music.Audio.html#event:preloader:progress">preloader:progress</a></li>
            
                <li data-name="ya.music.Audio#preloader:stop"><a href="ya.music.Audio.html#event:preloader:stop">preloader:stop</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.AudioError">
            <span class="title">
                <a href="ya.music.Audio.AudioError.html">ya.music.Audio.AudioError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.fx.Equalizer">
            <span class="title">
                <a href="ya.music.Audio.fx.Equalizer.html">ya.music.Audio.fx.Equalizer</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.fx.Equalizer.DEFAULT_BANDS"><a href="ya.music.Audio.fx.Equalizer.html#.DEFAULT_BANDS">DEFAULT_BANDS</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer.DEFAULT_PRESETS"><a href="ya.music.Audio.fx.Equalizer.html#.DEFAULT_PRESETS">DEFAULT_PRESETS</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#EVENT_CHANGE"><a href="ya.music.Audio.fx.Equalizer.html#EVENT_CHANGE">EVENT_CHANGE</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            <span class="subtitle">Typedefs</span>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerPreset"><a href="ya.music.Audio.fx.Equalizer.html#~EqualizerPreset">EqualizerPreset</a></li>
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ya.music.Audio.fx.Equalizer#clearListeners"><a href="ya.music.Audio.fx.Equalizer.html#clearListeners">clearListeners</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#guessPreamp"><a href="ya.music.Audio.fx.Equalizer.html#guessPreamp">guessPreamp</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#loadPreset"><a href="ya.music.Audio.fx.Equalizer.html#loadPreset">loadPreset</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#muteEvents"><a href="ya.music.Audio.fx.Equalizer.html#muteEvents">muteEvents</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#off"><a href="ya.music.Audio.fx.Equalizer.html#off">off</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#on"><a href="ya.music.Audio.fx.Equalizer.html#on">on</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#once"><a href="ya.music.Audio.fx.Equalizer.html#once">once</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#pipeEvents"><a href="ya.music.Audio.fx.Equalizer.html#pipeEvents">pipeEvents</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#savePreset"><a href="ya.music.Audio.fx.Equalizer.html#savePreset">savePreset</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#trigger"><a href="ya.music.Audio.fx.Equalizer.html#trigger">trigger</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer#unmuteEvents"><a href="ya.music.Audio.fx.Equalizer.html#unmuteEvents">unmuteEvents</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="ya.music.Audio.fx.Equalizer#event:change"><a href="ya.music.Audio.fx.Equalizer.html#event:change">change</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.fx.Equalizer~EqualizerBand">
            <span class="title">
                <a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html">ya.music.Audio.fx.Equalizer~EqualizerBand</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#clearListeners"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#clearListeners">clearListeners</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#getFreq"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#getFreq">getFreq</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#getValue"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#getValue">getValue</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#muteEvents"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#muteEvents">muteEvents</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#off"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#off">off</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#on"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#on">on</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#once"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#once">once</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#pipeEvents"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#pipeEvents">pipeEvents</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#setValue"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#setValue">setValue</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#trigger"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#trigger">trigger</a></li>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#unmuteEvents"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#unmuteEvents">unmuteEvents</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="ya.music.Audio.fx.Equalizer~EqualizerBand#event:change"><a href="ya.music.Audio.fx.Equalizer-EqualizerBand.html#event:change">change</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.LoaderError">
            <span class="title">
                <a href="ya.music.Audio.LoaderError.html">ya.music.Audio.LoaderError</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.LoaderError.FAILED"><a href="ya.music.Audio.LoaderError.html#.FAILED">FAILED</a></li>
            
                <li data-name="ya.music.Audio.LoaderError.TIMEOUT"><a href="ya.music.Audio.LoaderError.html#.TIMEOUT">TIMEOUT</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.Logger">
            <span class="title">
                <a href="ya.music.Audio.Logger.html">ya.music.Audio.Logger</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.Logger.ignores"><a href="ya.music.Audio.Logger.html#.ignores">ignores</a></li>
            
                <li data-name="ya.music.Audio.Logger.logLevels"><a href="ya.music.Audio.Logger.html#.logLevels">logLevels</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ya.music.Audio.Logger.log"><a href="ya.music.Audio.Logger.html#.log">log</a></li>
            
                <li data-name="ya.music.Audio.Logger#debug"><a href="ya.music.Audio.Logger.html#debug">debug</a></li>
            
                <li data-name="ya.music.Audio.Logger#error"><a href="ya.music.Audio.Logger.html#error">error</a></li>
            
                <li data-name="ya.music.Audio.Logger#info"><a href="ya.music.Audio.Logger.html#info">info</a></li>
            
                <li data-name="ya.music.Audio.Logger#log"><a href="ya.music.Audio.Logger.html#log">log</a></li>
            
                <li data-name="ya.music.Audio.Logger#trace"><a href="ya.music.Audio.Logger.html#trace">trace</a></li>
            
                <li data-name="ya.music.Audio.Logger#warn"><a href="ya.music.Audio.Logger.html#warn">warn</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ya.music.Audio.PlaybackError">
            <span class="title">
                <a href="ya.music.Audio.PlaybackError.html">ya.music.Audio.PlaybackError</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="ya.music.Audio.PlaybackError.BAD_DATA"><a href="ya.music.Audio.PlaybackError.html#.BAD_DATA">BAD_DATA</a></li>
            
                <li data-name="ya.music.Audio.PlaybackError.CONNECTION_ABORTED"><a href="ya.music.Audio.PlaybackError.html#.CONNECTION_ABORTED">CONNECTION_ABORTED</a></li>
            
                <li data-name="ya.music.Audio.PlaybackError.DECODE_ERROR"><a href="ya.music.Audio.PlaybackError.html#.DECODE_ERROR">DECODE_ERROR</a></li>
            
                <li data-name="ya.music.Audio.PlaybackError.html5"><a href="ya.music.Audio.PlaybackError.html#.html5">html5</a></li>
            
                <li data-name="ya.music.Audio.PlaybackError.NETWORK_ERROR"><a href="ya.music.Audio.PlaybackError.html#.NETWORK_ERROR">NETWORK_ERROR</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="tutorial-sound.html">Tutorial: sound</h1>
        <section>

<header>
    

</header>

<article>
    <h1>Немножко про теорию звука</h1><p>Я попробую на пальцах описать некоторые основные понятия, которые требуется знать, при цифровой обработке звука. 
В этом разделе нет серьёзной математики вроде быстрых преобразований Фурье и прочего - эти формулы не сложно найти в 
сети. Тут описывается только сама суть и смысл вещей с которыми придётся столкнуться.</p>
<h2>Оцифровка, или Туда и обратно</h2><p>Прежде всего разберёмся с тем, что такое цифровой сигнал, как он получается из аналогового и откуда собственно берётся
аналоговый сигнал. Максимально просто аналоговый сигнал можно описать как колебания напряжения возникающие из-за
колебаний мембраны в микрофоне.</p>
<p><img src="images/spectro.jpg" alt="Рис. 1. Спектрограмма звука." width="100%" /></p>
<p><em>(Рис. 1. Спектрограмма звука.)</em></p>
<p>Это осциллограмма звука - так выглядит аудио сигнал. Думаю каждый хоть раз в жизни видел подобные картинки. 
Как же происходит преобразование аналогового сигнала в цифровой? Для того чтобы понять этот процесс нужно нарисовать
осциллограмму звука на миллеметровой бумаге. Теперь для каждой вертикальной линии найти точку пересечения с 
осциллограммой и найти ближайшее целое значение по вертикальной шкале. Собственно набор таких значений и будет 
простейшей записью цифрового сигнала.</p>
<p><a href="https://www.desmos.com/calculator/aojmanpjrl"><img src="images/discretization.jpg" alt="Рис. 2. Интерактивный пример сложения волн и оцифровки сигнала" width="100%" /></a></p>
<p><em>(Рис. 2. Интерактивный пример сложения волн и оцифровки сигнала: https://www.desmos.com/calculator/aojmanpjrl)</em></p>
<p>Чтобы лучше разобраться с тем, как накладываются друг на друга волны разной частоты и как происходит оцифровка можно
воспользоваться эти интерактивным примером. В левом меню можно включать/выключать отображение графиков, настраивать 
параметры входных данных и параметры дискретизации, или можно просто двигать контрольные точки.</p>
<p>На <a href="https://ru.wikipedia.org/wiki/Аналого-цифровой_преобразователь">аппаратном уровне</a> это разумеется выглядит значительно
сложнее и сигнал может кодироваться совершенно разными способами в зависимости от аппаратуры. Самым распространённым
способом кодирования является <a href="https://ru.wikipedia.org/wiki/Импульсно-кодовая_модуляция">импульсно-кодовая модуляция</a>
при которой записывается не конкретное значение уровня сигнала в каждый момент времени, а разница между текущим и
предыдущим значением - это позволяет снизить количество бит на каждый отсчёт примерно на 25%. Этот способ кодирования
применяется в наиболее распространённых аудио-форматах (WAV, MP3, WMA, OGG, FLAC, APE), которые используют контейнер
<a href="http://wav-pcm.narod.ru/">PCM WAV</a>.</p>
<p>В реальности при записи аудио чаще всего записывается не один, а сразу несколько каналов, для создания стерео-эффекта. В
зависимости от используемого формата хранения эти каналы могут храниться независимо или же уровни сигнала могут 
записываться как разница между уровнем основного канала и уровнем текущего.</p>
<p>Обратное преобразование из цифрового сигнала в аналоговый производится с помощью 
<a href="https://ru.wikipedia.org/wiki/Цифро-аналоговый_преобразователь">цифро-аналоговых преобразователей</a>, которые могут иметь
различное устройство и принципы работы. Я опущу описание этих принципов в данной статье. </p>
<h2>Дискретизация</h2><p>Как уже было сказано, цифровой сигнал это набор значений уровня сигнала записанный через заданные промежутки времени.
Процесс преобразования неприрывного аналогового сигнала в дискретный цифровой сигнал называется дискретизацией.
Есть 2 основных характеристики цифрового сигнала - частота дискретизации и глубина дискретизации по уровню. </p>
<p><a href="https://en.wikipedia.org/wiki/Sampling_%28signal_processing%29"><img src="https://upload.wikimedia.org/wikipedia/commons/5/50/Signal_Sampling.png" alt="Рис. 3. Дискретизация сигнала." width="100%" /></a></p>
<p><em>(Рис. 3. Дискретизация сигнала. Источник: https://en.wikipedia.org/wiki/Sampling_(signal_processing))</em></p>
<p><a href="https://ru.wikipedia.org/wiki/Частота_дискретизации">Частота дискретизации</a> указывает с какими интервалами по времени
идут данные об уровне сигнала. Существует <a href="https://ru.wikipedia.org/wiki/Теорема_Котельникова">теорема Котельникова</a>
(в западной литературе её упомянают как теорему Найквиста - Шеннона, хотя встречается и название Котельникова - Шеннона),
которая утверждает, что для возможности точного восстановления аналогового сигнала из дискретного требуется, чтобы 
частота дискретизации была минимум в 2 раза выше, чем максимальная частота в аналоговом сигнале. Если брать примерный
диапазон воспринимаемых человеком частот звука 20Гц - 20КГц, то оптимальная частота дискретизации 
(<a href="https://ru.wikipedia.org/wiki/Частота_Найквиста">частота Найквиста</a>) должна быть в районе 40КГц. У стандартных 
аудио-CD частота дискретизации составляет 44.1КГц </p>
<p><a href="https://ru.wikipedia.org/wiki/Квантование_%28обработка_сигналов%29"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Quantized.signal.svg/570px-Quantized.signal.svg.png?uselang=ru" alt='Рис. 4. Квантование сигнала.' width="100%" /></a></p>
<p><em>(Рис. 4. Квантование сигнала. Источник: https://ru.wikipedia.org/wiki/Квантование<em>(обработка</em>сигналов))</em></p>
<p><a href="https://ru.wikipedia.org/wiki/Квантование_%28обработка_сигналов%29">Глубина дискретизации</a> по уровню - описывает
разрядность числа, которым описывается уровень сигнала. Эта характеристика накладывает ограничение на точность записи
уровня сигнала и на его минимальное значение. Стоит спеицально отметить, что данная характеристика не имеет отношения
к громкости - это характеристика отражающая точность записи сигнала. Стандартная глубина дискретизации на audio-CD 
16 бит. При этом разница в звучании перестаёт быть заметна большинством уже в районе 10-12 бит, если не 
использовать специальную студийную аппаратуру. Однако большая глубина дискретизации позволяет избежать появления 
шумов при дальнейшей обработке звука.</p>
<h2>Шумы</h2><p>В цифровом звуке можно выделить 3 основных источника шумов</p>
<h3>Джиттер</h3><p><a href="https://ru.wikipedia.org/wiki/Джиттер">Джиттер</a> - это случайные отклонения сигнала, как правило возникающие из-за 
нестабильности частоты задающего генератора или различной скорости распространения разных частотных составляющих 
одного сигнала. Данная проблема возникает на стадии оцифровки. Если описывать <del>&quot;на пальцах&quot;</del> &quot;на миллиметровке&quot;,
то эта проблема возникает из-за немного разного расстояния между вертикальными линиями.</p>
<h3>Шум дробления</h3><p>Шум дробления напрямую связан с глубиной дискретизации. Т.к. при оцифровке сигнала реальные значения сигнала округляются
с определённой точностью возникают слабые шумы, связанные с потерей точности. Эти шумы могут возникать не только на
стадии оцифровки, но и в процессе цифровой обработки, например если сначала уровень сигнала сильно понижается, а затем
снова повышается.</p>
<h3>Алиасинг</h3><p>При оцифровке возможна ситуация, при которой в цифровом сигнале могут появиться частотные составляющие отсутствующие в
оригинальном сигнале. Данная ошибка получила название <a href="https://ru.wikipedia.org/wiki/Алиасинг">alias</a>. Этот эффект
напрямую связан с частотой дискретизации, а точнее с <a href="https://ru.wikipedia.org/wiki/Частота_Найквиста">частотой Найквиста</a>.
Проще всего понять это рассмотрев данное изображение:
<a href="https://ru.wikipedia.org/wiki/Алиасинг"><img src='https://upload.wikimedia.org/wikipedia/commons/2/28/AliasingSines.svg?uselang=ru' alt='Рис. 5. Алиас.' width='100%' /></a></p>
<p><em>(Рис. 5. Алиас. Источник: https://ru.wikipedia.org/wiki/Алиасинг)</em></p>
<p>Красным показана частотная составляющая, частота которой выше частоты Найксвита. При оцифровке такой частотной
составляющей не удаётся записать достаточно данных для её корректного описания. В результате при воспроизведении 
получается совершенно другой сигнал - синяя кривая.</p>
<h2>Уровень сигнала</h2><p>Для начала стоит сразу понять, что когда речь идёт о цифровом сигнале можно говорить только об относительном уровне
сигнала. Абсолютный уровень сигнала зависит в первую очередь от воспроизводящей аппаратуры и он прямо пропорционален 
относительному уровню цифровго сигнала. При расчётах относительных уровней сигнала принято использовать 
<a href="https://ru.wikipedia.org/wiki/Децибел">децибелы</a>. При этом за точку отсчёта берётся сигнал с максимально возможной 
амплитудой при заданной глубине дискретизации. Этот уровень указывается как 0 dBFS (dB - децибел, 
FS = Full Scale - полная шкала). Более низкие уровни сигнала указываются как -1 dBFS, -2 dBFS и т.д. Вполне очевидно, 
что более высоких уровней просто не бывает (мы изначально берём максимально возможный уровень).</p>
<p>По началу бывает тяжело разобраться с тем, как соотносятся децибелы и реальный уровень сигнала. Тут на самом деле всё
просто. Каждые ~6 dB (Точнее 20 log(2) ~ 6.02 dB) указывают на изменение уровня сигнала в 2 раза. То есть если мы 
говорим, о сигнале с уровнем -12 dBFS - это сигнал уровень которого в 4 раза меньше, чем максимальный, -18 dBFS - в 8
раз и т.д. Если посмотреть на определение децибела, в нём указывается значение 10 log(a/a0) - тогда откуда берётся 20?
Всё дело в том, что децибел - это логарифм отношения двух одноимённых <strong>энергетических</strong> величин умноженный на 10. 
Амплитуда же не является энергетической величиной, следовательно её нужно перевести в подходящую величину. Мощность
которую переносят волны с разными амплитудами пропорциональна квадрату амплитуды, следовательно для амплитуды (если все
прочие условия, кроме амплитуды приять неизменными) формулу можно записать как 10 log(a^2 / a0^2) --&gt; 20 log(a/a0).</p>
<p><strong>PS. Стоит упомянуть про то что логарифм в данном случае берётся десятичный, в то время как большинство библиотек
под функцией с названием log подразумевает натуральный логарифм</strong></p>
<p>При различной глубине дискретизации уровень сигнала по этой шкале изменяться не будет. Сигнал с уровнем -6 dBFS 
останется сигналом с уровнем -6 dBFS. Но всё же одна характеристика изменится - динамический диапазон. Динамический 
диапазон сигнала - это разница между его минимальным и максимальным значением. Он рассчитывается по формуле 
<code>n * 20 log(2)</code>, где n - глубина дискретизации (для грубых оценок можно пользоваться более простой формулой: <code>n * 6</code>). 
Для 16 бит это ~96.33 dB, для 24 бит ~144.49 dB. Это означает, что самый большой перепад уровня, который можно описать 
с 24-битной глубиной дискретизации (144.49 dB) на 48.16 dB больше, чем самый большой перепад уровня с 16-битной глубиной 
(96.33 dB). Плюс к тому шум дробления при 24 битах на 48 dB тише.</p>
<h2>Восприятие</h2><p>Когда речь идёт о восприятия звука человеком, следует сначала разобраться в том, каким образом мы воспринимаем звук.
Очевидно, что мы слышим с помощью <a href="https://ru.wikipedia.org/wiki/Ухо">ушей</a>. Звуковые волны взаимодействуют с барабанной
перепонкой, смещая её, вибрации передаются во внутренее ухо, где их улавливают рецепторы. То на сколько смещается
барабанная перепонка зависит от такой характеристики как 
<a href="https://ru.wikipedia.org/wiki/Звуковое_давление">звуковое давление</a>. При этом 
<a href="https://ru.wikipedia.org/wiki/Громкость_звука">воспринимаемая громкость</a> зависит от звукового давления не напрямую, 
а логарифмически. Поэтому при изменении громкости принято использовать относительную шкалу SPL (уровень звукового 
давления), значения которой указываются всё в тех же децибелах. Стоит также заметить, что воспринимаемая громкость звука 
зависит не только от уровня звукового давления, но ещё и от частоты звука:</p>
<p><a href="https://ru.wikipedia.org/wiki/Громкость_звука"><img src='https://upload.wikimedia.org/wikipedia/commons/3/37/Gromkost.png?uselang=ru' alt='Рис. 6. Зависимость воспринимаемой громкости от частоты и амплитуды звука.' width="100%" /></a></p>
<p><em>(Рис. 6. Зависимость воспринимаемой громкости от частоты и амплитуды звука. Источник: https://ru.wikipedia.org/wiki/Громкость_звука)</em></p>
<h2>Громкость</h2><p>Простейшим примером обработки звука является изменение его громкости. При этом происходит просто умножение уровня
сигнала на некоторое фиксированное значение. Однако даже в таком простом деле как регулировка громкости есть один
подводный камень. Как я уже отметил ранее, воспринимаемая громкость зависит от логарифма звукового давления, а
это значит, что использование линейной шкалы громкости оказывается не очень эфективным. При линейной шкале громкости
возникает сразу 2 проблемы - для ощутимого изменения громкости, когда ползунок находится выше середины шкалы приходится 
достаточно далеко его сдвигать, при этом ближе к самому низу шкалы сдвиг меньше чем на толщину волоса может изменить
громкость в 2 раза (думаю с этим каждый сталкивался). Для решения данной проблемы используется логарифмическая шкала
громкости. При этом на всей её длинне передвижение ползунка на фиксированное расстояние меняет громкость в одинаковое
количество раз. В профессиональной записывающей и обрабатывающей аппаратуре как правило используется именно
логарифмическая шкала громкости. </p>
<h3>Математика</h3><p>Тут я пожалуй немного вернусь к математике, т.к. реализация логарифмическое шкалы оказывается не такой простой и 
очевидной вещью для многих, а найти в интернете данную формулу не так просто, как хотелось бы. Заодно покажу как просто
переводить значения громкости в dBFS и обратно. Для дальнейших объяснений это будет полезным.</p>
<pre class="prettyprint source lang-javascript"><code>// Минимальное значение громкости - на этом уровне идёт отключение звука
var EPSILON = 0.001;

// Коэфициент для преобразований в dBFS и обратно
var DBFS_COEF = 20 / Math.log(10);

// По положению на шкале вычисляет громкость
var volumeToExponent = function(value) {
    var volume = Math.pow(EPSILON, 1 - value);
    return volume > EPSILON ? volume : 0;
};

// По значению громкости вычисляет положение на шкале
var volumeFromExponent = function(volume) {
    return 1 - Math.log(Math.max(volume, EPSILON)) / Math.log(EPSILON);
};

// Перевод значения громкости в dBFS
var volumeToDBFS = function(volume) {
    return Math.log(volume) * DBFS_COEF;
};

// Перевод значения dBFS в громкость
var volumeFromDBFS = function(dbfs) {
    return Math.exp(dbfs / DBFS_COEF);
}</code></pre><h3>Цифровая обработка</h3><p>Теперь вернёмся к тому, что мы имеем цифровой, а не аналоговый сигнал. У цифрового сигнала есть 2 особенности, которые
стоит учитывать при работе с громкостью:</p>
<ul>
<li>точность, с которой указывается уровень сигнала ограничена (причём достаточно сильно. 16 бит - это в 2 раза меньше,
чем используется для стандартного числа с плавающей точкой)</li>
<li>у сигнала есть верхняя граница уровня. За эту границу уровень сигнала выйти не может.</li>
</ul>
<p>Из того что уровень сигнала имеет ограничение точности следует две вещи:</p>
<ul>
<li>уровень шумов дробления возрастает при увеличиении громкости. Для малых изменений обычно это не очень критично, 
т.к. изначальный уровень шума значительно тише ощутимого и его можно безопасно поднимать в 4-8 раз (например применять
эквалайзер с ограничением шкалы в +-12dB)</li>
<li>не стоит сначала сильно понижать уровень сигнала, а затем сильно его повышать - при этом могут появиться новые
шумы дробления, которых изначально не было.</li>
</ul>
<p>Из того, что сигнал имеет верхнее ограничение уровня следует, что нельзя безопасно увеличивать громкость выше 
единицы. При этом пики, которые окажутся выше границы будут &quot;срезаны&quot; и произойдёт потеря данных.
<a href="https://en.wikipedia.org/wiki/Clipping_%28audio%29"><img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/Clipping_waveform.svg" alt="Рис. 7. Клиппинг." width="100%" /></a></p>
<p><em>(Рис. 7. Клиппинг. Источник: https://en.wikipedia.org/wiki/Clipping_(audio))</em></p>
<p>На практике всё это означает, что стандартные для Audio-CD параметры дискретизации (16 бит, 44,1 кГц) не позволяют
производить качественную обработку звука, т.к. имеют очень малую избыточность. Для этих целей лучше использовать 
более избыточные форматы. Однако стоит учитывать, что общий размер файла пропорционален параметрам дискретизации,
поэтому выдача таких файлов для он-лайн воспроизведения - не лучшая идея.</p>
<h3>Измерение громкости</h3><p>Для того, чтобы сравнивать громкость двух разных сигналов, для начала её нужно как-то измерить. Существует по меньшей
мере 3 метрики для измерения громкости сигналов - максимальное пиковое значение, усреднённое значение уровня сигнала и
метрика ReplayGain.</p>
<p>Максимальное пиковое значение достаточно слабая метрика для оценки громкости - она никак не учитывает общий уровень
громкости - например если записать грозу, то большую часть времени на записи будет тихо шелестеть дождь и лишь пару 
раз прогремит гром. Максимальное пиковое значение уровня сигнала у такой записи будет довольно высоким, но большая 
часть записи будет иметь весьма низкий уровень сигнала. Однако эта метрика всё равно является полезной - она позволяет
вычислить максимальное усиление, которое можно применить к записи, при котором не будет потерь данных из-за &quot;обрезания&quot;
пиков.</p>
<p>Усреднённое значение уровня сигнала метрика более полезная и легко вычислимая, но всё же имеет существенные недостатки
связанные с тем, как мы воспринимаем звук. Визг цикрулярной пилы и рокот водопада, записанные с одинаковым средним
уровнем сигнала, будут восприниматься совершенно по разному.</p>
<p><a href="https://en.wikipedia.org/wiki/ReplayGain">ReplayGain</a> - метрика наиболее точно передающая воспринимаемый уровень
громкости записи, которая учитывает физиологические и психические особенности восприятия звука. Для промышленного 
выпуска записей многие звукозаписывающие студии используют именно её, также она поддерживается большинством популярных
медиа-плееров.
<em>(PS. <a href="https://ru.wikipedia.org/wiki/Replay_Gain">русская статья</a> на WIKI содержит много неточностей и фактически не
корректно описывает саму суть технологии)</em></p>
<h3>Нормализация громкости</h3><p>Если мы можем измерять громкость различных записей, мы можем её нормализовать. Идея нормализации громкости состоит в 
том, чтобы привести разные звуки к одинаковому уровню воспринимаемой громкости. Для этого используется несколько 
различных подходов. Как правило громкость стараются максимизировать, но это не всегда возможно из-за ограничений 
максимального уровня сигнала, поэтому обычно берётся некоторое значение немного меньше максимума типа -14 dBFS, к
которому пытаются привести все сигналы.</p>
<p>Иногда нормализацию громкости производят в рамках одной записи - при этом различные части записи усиливают на разные
величины, чтобы их воспринимаемаемая громкость была одинаковой. Такой подход очень часто применяется в компьютерных
видео-плеерах - звуковая дорожка многих фильмов может содержать участки с очень сильно отличающейся громкостью. При
этом возникают проблемы при просмотре фильмов без наушников в позднее время - при громкости на которой нормально слышен
шёпот главных героев, выстрелы способны перебудить соседей. А на громкости при котороый выстрели не бьют по ушам шёпот
становится вообще неразличим. При внутритрековой нормализации громкости плеер автоматически увеличивает громкость на
тихих участках и понижает на громких. Однако этот подход создаёт ощутимые артефакты воспроизведения при резких переходах
между тихим и громким звуком, а также порой завышает громкость некоторых звуков, которые по задумке должны быть фоновыми
и еле-различимыми.</p>
<p>Также внутреннюю нормализацию порой производят с целью повышения общей громкости треков. Это называется нормализацией с 
компрессией. При этом подходе среднее значение уровня сигнала максимизируется за счёт усиления всего сигнала на заданную
величину. При этом те участки, которые должны были быть подвергнуты &quot;обрезанию&quot; из-за превышения максимального уровня
усиливаются на меньшую величину, позволяя избежать этого. Этот способ увеличения громкости значительно снижает качество
звучания трека, но тем не менее многие звуко-записывающие студии не брезгают его применять.</p>
<h2>Фильтрация</h2><p>Я не стану описывать совсем все аудио-фильтры, ограничусь только стандартными, которые присутсвуют в Web Audio API. Принцип работы
всех перечисленных фильтров основан на разложении сигнала на различные частотные составляющие - это позволяет производить манипуляции
не только над общей громкость, но и над отдельными наборами частот. Разложения сигнала на частотные составляющие производится с 
помощью <a href="http://habrahabr.ru/post/196374/">быстрого преобразования Фурье</a> (к сожаленияю на 
<a href="https://ru.wikipedia.org/wiki/Быстрое_преобразование_Фурье">википедии</a> совершенно несодержательная статья написанная судя по всему
для людей, которые и так знают что такое БПФ и сами могут написать такую же бесполезную статью). Как я уже говорил во вступлении - я
не стану приводить в данной статье математику БПФ, однако не упомянуть краеугольный алогоритм для цифровой обработки сигналов было бы
неправильно.</p>
<p><em>Все графики отображают диапазон частот от 20Гц до 20000Гц. Горизонтальная ось отображает частоту, по ней применяется
логарифмический масштаб, вертикальная - магнитуду (синий график) от 0 до 2, или фазовый сдвиг (зелёный график) от -Pi
до Pi. Частота всех фильтров (632 Гц) отмечена красной чертой на графике.</em></p>
<h3>Глушащие фильтры</h3><p>Самый простой в понимании вид фильтров - они просто заглушают определённые частоты. В зависимости от типа фильтра,
применяются разные правила для выбора частот, которые заглушаются.</p>
<h4>lowpass</h4><p><img src="images/lowpass.gif" alt="Рис. 8. Фильтр lowpass." width="100%" /></p>
<p><em>(Рис. 8. Фильтр lowpass.)</em></p>
<p>Фильтр, который пропускает только частоты ниже заданной частоты.  </p>
<h4>highpass</h4><p><img src="images/highpass.gif" alt="Рис. 9. Фильтр highpass." width="100%" /></p>
<p><em>(Рис. 9. Фильтр highpass.)</em></p>
<p>Фильтр действует аналогично lowpass, за исключением того, что он пропускает частоты выше заданной, а не ниже.</p>
<h4>bandpass</h4><p><img src="images/bandpass.gif" alt="Рис. 10. Фильтр bandpass." width="100%" /></p>
<p><em>(Рис. 10. Фильтр bandpass.)</em></p>
<p>Данный фильтр более изберателен - он пропускает только определённую полосу частот.</p>
<h4>notch</h4><p><img src="images/notch.gif" alt="Рис. 11. Фильтр notch." width="100%" /></p>
<p><em>(Рис. 11. Фильтр notch.)</em></p>
<p>Фильтр является противоположностью bandpass - он пропускает все частоты, вне заданной полосы. Стоит однако отметить разность в 
графиках затухания воздействия и в фазовых характеристиках данных фильтров.</p>
<h3>Усиливающие фильтры</h3><p>Данные фильтры могут усиливать или ослабрять определённые наборы частот в зависимости от типа и настроек.</p>
<h4>lowshelf</h4><p><img src="images/lowshelf.gif" alt="Рис. 12. Фильтр lowshelf." width="100%" /></p>
<p><em>(Рис. 12. Фильтр lowshelf.)</em></p>
<p>Является более &quot;умной&quot; версией highpass - он усиливает или ослабляет частоты ниже заданной, частоты выше пропускает без
изменений.</p>
<h4>highshelf</h4><p><img src="images/highshelf.gif" alt="Рис. 13. Фильтр highshelf." width="100%" /></p>
<p><em>(Рис. 13. Фильтр highshelf.)</em></p>
<p>Является более &quot;умной&quot; версией lowpass - он усиливает или ослабляет частоты выше заданной, частоты ниже пропускает без
изменений.</p>
<h4>peaking</h4><p><img src="images/peaking.gif" alt="Рис. 14. Фильтр peaking." width="100%" /></p>
<p><em>(Рис. 14. Фильтр peaking.)</em></p>
<p>Является более &quot;умной&quot; версией notch - он усиливает или ослабляет частоты в заднном диапазоне и пропускает остальные
частоты без изменений.</p>
<h3>Фильтр allpass</h3><p><img src="images/allpass.gif" alt="Рис. 15. Фильтр allpass." width="100%" /></p>
<p><em>(Рис. 15. Фильтр allpass.)</em></p>
<p>Этот фильтр отличается от всех остальных - он не меняет амплитудные характеристики сигнала, вместо этого он делает фазовый 
сдвиг заданных частот. Фильтр задаётся центральной частотой и силой фазового сдвига.</p>
<h3>Фильтр WaveShaperNode</h3><p><a href="http://wikisound.org/Waveshaper">Вейвшейпер</a> (<a href="https://en.wikipedia.org/wiki/Waveshaper">en</a>) применяется для
формирования сложных эффектов звуковых искажений, в частности с помощью него можно реализовать эффекты 
<a href="https://ru.wikipedia.org/wiki/Дисторшн">&quot;дисторшна&quot;</a>,
<a href="https://ru.wikipedia.org/wiki/Овердрайв_%28звуковой_эффект%29">&quot;овердрайва&quot;</a> и 
<a href="https://ru.wikipedia.org/wiki/Фузз_%28эффект%29">&quot;фузза&quot;</a>. Данный фильтр применяет к входному сигналу специальную
формирующую функцию. Принципы построения подобных функций довольно сложны и выходят за рамки этой статьи.</p>
<h3>Фильтр ConvolverNode</h3><p>Фильтр производящий <a href="https://ru.wikipedia.org/wiki/Свёртка_%28математический_анализ%29">линейную свёртку</a> входного сигнала с аудио-буффером задающим некую
<a href="https://ru.wikipedia.org/wiki/Импульсная_переходная_функция">импульсную характеристику</a>. Импульсная характеристика - 
это ответ некой системы на единичный импульс. Простым языком это можно назвать &quot;фотографией&quot; звука. Если реальная
фотография содержит информацию о световых волнах, том на сколько они отражаются, поглащаются и взаимодействуют, то 
импульсная характеристика содержит аналогичную информацию о звуковых волнах. Свёртка аудио-потока с подобной
&quot;фотографией&quot; как бы накладывает эффекты окружения в котором была сняла импульсная характеристика на входной сигнал.</p>
<p>Данный фильтр реализует эффект <a href="https://ru.wikipedia.org/wiki/Реверберация">реверберации</a>. 
Существует множество библиотек готовых аудио-буферов для данного фильтра, которые реализуют различные эффекты 
(<a href="https://www.freesound.org/people/jorickhoofd/packs/9893/">1</a>, <a href="http://www.voxengo.com/impulses/">2</a>), подобные
библиотеки хорошо находятся по запросу &quot;impulse response mp3&quot;.</p>
</article>

</section>


        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a>
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>