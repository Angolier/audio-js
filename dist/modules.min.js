!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(){c=!1,s.length?u=s.concat(u):p=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(r);c=!0;for(var t=u.length;t;){for(s=u,u=[];++p<t;)s&&s[p].run();p=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,l=t.exports={},u=[],c=!1,p=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){var r,i=function(){var t=[],r=function(e){return 1===t.push(e)},i=function(){var e=t,n=0,r=t.length;for(t=[];r>n;)e[n++]()};if("function"==typeof setImmediate)return function(e){r(e)&&setImmediate(i)};if("object"==typeof e&&e.nextTick)return function(t){r(t)&&e.nextTick(i)};var o=n.MutationObserver||n.WebKitMutationObserver;if(o){var a=1,s=document.createTextNode("");return new o(i).observe(s,{characterData:!0}),function(e){r(e)&&(s.data=a*=-1)}}if(n.postMessage){var l=!0;if(n.attachEvent){var u=function(){l=!1};n.attachEvent("onmessage",u),n.postMessage("__checkAsync","*"),n.detachEvent("onmessage",u)}if(l){var c="__promise"+ +new Date,p=function(e){e.data===c&&(e.stopPropagation&&e.stopPropagation(),i())};return n.addEventListener?n.addEventListener("message",p,!0):n.attachEvent("onmessage",p),function(e){r(e)&&n.postMessage(c,"*")}}}var d=n.document;if("onreadystatechange"in d.createElement("script")){var h=function(){var e=d.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,i()},(d.documentElement||d.body).appendChild(e)};return function(e){r(e)&&h()}}return function(e){r(e)&&setTimeout(i,0)}}(),o=function(e){i(function(){throw e})},a=function(e){return"function"==typeof e},s=function(e){return null!==e&&"object"==typeof e},l=Object.prototype.toString,u=Array.isArray||function(e){return"[object Array]"===l.call(e)},c=function(e){for(var t=[],n=0,r=e.length;r>n;)t.push(n++);return t},p=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},d=function(e){var t=function(t){this.name=e,this.message=t};return t.prototype=new Error,t},h=function(e,t){return function(n){e.call(this,n,t)}},f=function(){this._promise=new E};f.prototype={promise:function(){return this._promise},resolve:function(e){this._promise.isResolved()||this._promise._resolve(e)},reject:function(e){this._promise.isResolved()||(_.isPromise(e)?(e=e.then(function(e){var t=_.defer();return t.reject(e),t.promise()}),this._promise._resolve(e)):this._promise._reject(e))},notify:function(e){this._promise.isResolved()||this._promise._notify(e)}};var m={PENDING:0,RESOLVED:1,FULFILLED:2,REJECTED:3},E=function(e){if(this._value=r,this._status=m.PENDING,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],e){var t=this,n=e.length;e(function(e){t.isResolved()||t._resolve(e)},n>1?function(e){t.isResolved()||t._reject(e)}:r,n>2?function(e){t.isResolved()||t._notify(e)}:r)}};E.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==m.PENDING},isFulfilled:function(){return this._status===m.FULFILLED},isRejected:function(){return this._status===m.REJECTED},then:function(e,t,n,r){var i=new f;return this._addCallbacks(i,e,t,n,r),i.promise()},"catch":function(e,t){return this.then(r,e,t)},fail:function(e,t){return this.then(r,e,t)},always:function(e,t){var n=this,r=function(){return e.call(this,n)};return this.then(r,r,t)},progress:function(e,t){return this.then(r,r,e,t)},spread:function(e,t,n){return this.then(function(t){return e.apply(this,t)},t,n)},done:function(e,t,n,r){this.then(e,t,n,r).fail(o)},delay:function(e){var t,n=this.then(function(n){var r=new f;return t=setTimeout(function(){r.resolve(n)},e),r.promise()});return n.always(function(){clearTimeout(t)}),n},timeout:function(e){var t=new f,n=setTimeout(function(){t.reject(new _.TimedOutError("timed out"))},e);return this.then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise().always(function(){clearTimeout(n)}),t.promise()},_vow:!0,_resolve:function(e){if(!(this._status>m.RESOLVED)){if(e===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=m.RESOLVED,e&&e._vow)return void(e.isFulfilled()?this._fulfill(e.valueOf()):e.isRejected()?this._reject(e.valueOf()):e.then(this._fulfill,this._reject,this._notify,this));if(s(e)||a(e)){var t;try{t=e.then}catch(n){return void this._reject(n)}if(a(t)){var r=this,i=!1;try{t.call(e,function(e){i||(i=!0,r._resolve(e))},function(e){i||(i=!0,r._reject(e))},function(e){r._notify(e)})}catch(n){i||this._reject(n)}return}}this._fulfill(e)}},_fulfill:function(e){this._status>m.RESOLVED||(this._status=m.FULFILLED,this._value=e,this._callCallbacks(this._fulfilledCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=r)},_reject:function(e){this._status>m.RESOLVED||(this._status=m.REJECTED,this._value=e,this._callCallbacks(this._rejectedCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=r)},_notify:function(e){this._callCallbacks(this._progressCallbacks,e)},_addCallbacks:function(e,t,n,i,o){n&&!a(n)?(o=n,n=r):i&&!a(i)&&(o=i,i=r);var s;this.isRejected()||(s={defer:e,fn:a(t)?t:r,ctx:o},this.isFulfilled()?this._callCallbacks([s],this._value):this._fulfilledCallbacks.push(s)),this.isFulfilled()||(s={defer:e,fn:n,ctx:o},this.isRejected()?this._callCallbacks([s],this._value):this._rejectedCallbacks.push(s)),this._status<=m.RESOLVED&&this._progressCallbacks.push({defer:e,fn:i,ctx:o})},_callCallbacks:function(e,t){var n=e.length;if(n){var r=this.isResolved(),o=this.isFulfilled();i(function(){for(var i,a,s,l=0;n>l;)if(i=e[l++],a=i.defer,s=i.fn){var u,c=i.ctx;try{u=c?s.call(c,t):s(t)}catch(p){a.reject(p);continue}r?a.resolve(u):a.notify(u)}else r?o?a.resolve(t):a.reject(t):a.notify(t)})}}};var y={cast:function(e){return _.cast(e)},all:function(e){return _.all(e)},race:function(e){return _.anyResolved(e)},resolve:function(e){return _.resolve(e)},reject:function(e){return _.reject(e)}};for(var v in y)y.hasOwnProperty(v)&&(E[v]=y[v]);var _={Deferred:f,Promise:E,defer:function(){return new f},when:function(e,t,n,r,i){return _.cast(e).then(t,n,r,i)},fail:function(e,t,n){return _.when(e,r,t,n)},always:function(e,t,n){return _.when(e).always(t,n)},progress:function(e,t,n){return _.when(e).progress(t,n)},spread:function(e,t,n,r){return _.when(e).spread(t,n,r)},done:function(e,t,n,r,i){_.when(e).done(t,n,r,i)},isPromise:function(e){return s(e)&&a(e.then)},cast:function(e){return e&&e._vow?e:_.resolve(e)},valueOf:function(e){return e&&a(e.valueOf)?e.valueOf():e},isFulfilled:function(e){return e&&a(e.isFulfilled)?e.isFulfilled():!0},isRejected:function(e){return e&&a(e.isRejected)?e.isRejected():!1},isResolved:function(e){return e&&a(e.isResolved)?e.isResolved():!0},resolve:function(e){var t=_.defer();return t.resolve(e),t.promise()},fulfill:function(e){var t=_.defer(),n=t.promise();return t.resolve(e),n.isFulfilled()?n:n.then(null,function(e){return e})},reject:function(e){var t=_.defer();return t.reject(e),t.promise()},invoke:function(e,t){var r,i=Math.max(arguments.length-1,0);if(i){r=Array(i);for(var o=0;i>o;)r[o++]=arguments[o]}try{return _.resolve(r?e.apply(n,r):e.call(n))}catch(a){return _.reject(a)}},all:function(e){var t=new f,n=u(e),r=n?c(e):p(e),i=r.length,o=n?[]:{};if(!i)return t.resolve(o),t.promise();var a=i;return _._forEach(e,function(e,n){o[r[n]]=e,--a||t.resolve(o)},t.reject,t.notify,t,r),t.promise()},allResolved:function(e){var t=new f,n=u(e),r=n?c(e):p(e),i=r.length,o=n?[]:{};if(!i)return t.resolve(o),t.promise();var a=function(){--i||t.resolve(e)};return _._forEach(e,a,a,t.notify,t,r),t.promise()},allPatiently:function(e){return _.allResolved(e).then(function(){var t,n,r,i,o=u(e),a=o?c(e):p(e),s=a.length,l=0;if(!s)return o?[]:{};for(;s>l;)r=a[l++],i=e[r],_.isRejected(i)?(t||(t=o?[]:{}),o?t.push(i.valueOf()):t[r]=i.valueOf()):t||((n||(n=o?[]:{}))[r]=_.valueOf(i));if(t)throw t;return n})},any:function(e){var t=new f,n=e.length;if(!n)return t.reject(Error()),t.promise();var r,i=0;return _._forEach(e,t.resolve,function(e){i||(r=e),++i===n&&t.reject(r)},t.notify,t),t.promise()},anyResolved:function(e){var t=new f,n=e.length;return n?(_._forEach(e,t.resolve,t.reject,t.notify,t),t.promise()):(t.reject(Error()),t.promise())},delay:function(e,t){return _.resolve(e).delay(t)},timeout:function(e,t){return _.resolve(e).timeout(t)},_forEach:function(e,t,n,r,i,o){for(var a=o?o.length:e.length,s=0;a>s;)_.when(e[o?o[s]:s],h(t,s),n,r,i),++s},TimedOutError:d("TimedOut")},g=!0;"object"==typeof t&&"object"==typeof t.exports&&(t.exports=_,g=!1),"object"==typeof modules&&a(modules.define)&&(modules.define("vow",function(e){e(_)}),g=!1),"function"==typeof define&&(define(function(e,t,n){n.exports=_}),g=!1),g&&(n.vow=_)}(this)}).call(this,e("_process"))},{_process:1}],3:[function(e,t,n){(function(e,r){!function(r){var i,o={NOT_RESOLVED:"NOT_RESOLVED",IN_RESOLVING:"IN_RESOLVING",RESOLVED:"RESOLVED"},a=function(){var e={trackCircularDependencies:!0,allowMultipleDeclarations:!0},t={},n=!1,f=[],m=function(e,n,r){r||(r=n,n=[]);var a=t[e];a||(a=t[e]={name:e,decl:i}),a.decl={name:e,prev:a.decl,fn:r,state:o.NOT_RESOLVED,deps:n,dependents:[],exports:i}},E=function(e,t,i){"string"==typeof e&&(e=[e]),n||(n=!0,h(w)),f.push({deps:e,cb:function(e,n){n?(i||s)(n):t.apply(r,e)}})},y=function(e){var n=t[e];return n?o[n.decl.state]:"NOT_DEFINED"},v=function(e){return!!t[e]},_=function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},g=function(){var e,n={};for(var r in t)t.hasOwnProperty(r)&&(e=t[r],(n[e.decl.state]||(n[e.decl.state]=[])).push(r));return n},w=function(){n=!1,T()},T=function(){var e,t=f,n=0;for(f=[];e=t[n++];)b(null,e.deps,[],e.cb)},b=function(e,n,r,i){var o=n.length;o||i([]);for(var a,s,u=[],c=function(e,t){if(t)return void i(null,t);if(!--o){for(var n,r=[],a=0;n=u[a++];)r.push(n.exports);i(r)}},p=0,d=o;d>p;){if(a=n[p++],"string"==typeof a){if(!t[a])return void i(null,l(a,e));s=t[a].decl}else s=a;u.push(s),A(s,r,c)}},A=function(t,n,i){if(t.state===o.RESOLVED)return void i(t.exports);if(t.state===o.IN_RESOLVING)return void(e.trackCircularDependencies&&d(t,n)?i(null,u(t,n)):t.dependents.push(i));if(t.dependents.push(i),t.prev&&!e.allowMultipleDeclarations)return void P(t,p(t));e.trackCircularDependencies&&(n=n.slice()).push(t);var a=!1,s=t.prev?t.deps.concat([t.prev]):t.deps;t.state=o.IN_RESOLVING,b(t,s,n,function(e,n){return n?void P(t,n):(e.unshift(function(e,n){return a?void i(null,c(t)):(a=!0,void(n?P(t,n):N(t,e)))}),void t.fn.apply({name:t.name,deps:t.deps,global:r},e))})},N=function(e,t){e.exports=t,e.state=o.RESOLVED;for(var n,r=0;n=e.dependents[r++];)n(t);e.dependents=i},P=function(e,t){e.state=o.NOT_RESOLVED;for(var n,r=0;n=e.dependents[r++];)n(null,t);e.dependents=[]};return{create:a,define:m,require:E,getState:y,isDefined:v,setOptions:_,getStat:g}},s=function(e){h(function(){throw e})},l=function(e,t){return Error(t?'Module "'+t.name+'": can\'t resolve dependence "'+e+'"':'Required module "'+e+"\" can't be resolved")},u=function(e,t){for(var n,r=[],i=0;n=t[i++];)r.push(n.name);return r.push(e.name),Error('Circular dependence has been detected: "'+r.join(" -> ")+'"')},c=function(e){return Error('Declaration of module "'+e.name+'" has already been provided')},p=function(e){return Error('Multiple declarations of module "'+e.name+'" have been detected')},d=function(e,t){for(var n,r=0;n=t[r++];)if(e===n)return!0;return!1},h=function(){var t=[],n=function(e){return 1===t.push(e)},i=function(){var e=t,n=0,r=t.length;for(t=[];r>n;)e[n++]()};if("object"==typeof e&&e.nextTick)return function(t){n(t)&&e.nextTick(i)};if(r.setImmediate)return function(e){n(e)&&r.setImmediate(i)};if(r.postMessage&&!r.opera){var o=!0;if(r.attachEvent){var a=function(){o=!1};r.attachEvent("onmessage",a),r.postMessage("__checkAsync","*"),r.detachEvent("onmessage",a)}if(o){var s="__modules"+ +new Date,l=function(e){e.data===s&&(e.stopPropagation&&e.stopPropagation(),i())};return r.addEventListener?r.addEventListener("message",l,!0):r.attachEvent("onmessage",l),function(e){n(e)&&r.postMessage(s,"*")}}}var u=r.document;if("onreadystatechange"in u.createElement("script")){var c=u.getElementsByTagName("head")[0],p=function(){var e=u.createElement("script");e.onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,i()},c.appendChild(e)};return function(e){n(e)&&p()}}return function(e){n(e)&&setTimeout(i,0)}}();"object"==typeof n?t.exports=a():r.modules=a()}("undefined"!=typeof window?window:r)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],4:[function(e,t,n){var r=e("./logger/logger"),i=new r("AudioPlayer"),o=e("./lib/async/events"),a=e("./lib/async/deferred"),s=e("./lib/browser/detect"),l=e("./config"),u=e("./lib/data/merge"),c=e("./lib/async/reject"),p=e("./error/audio-error"),d=e("./audio-static"),h=1,f={html5:e("./html5/audio-html5"),flash:e("./flash/audio-flash")},m="@"+s.platform.version+" "+s.platform.os+":"+s.browser.name+"/"+s.browser.version;f.flash.priority=0,f.html5.priority=l.html5.blacklist.some(function(e){return m.match(e)})?-1:1,i.debug(null,"audioTypes",f);var E=function(e,t){this.name=h++,i.debug(this,"constructor"),o.call(this),this.preferredType=e,this.overlay=t,this.state=E.STATE_INIT,this._played=0,this._lastSkip=0,this._playId=null,this._whenReady=new a,this.whenReady=this._whenReady.promise().then(function(){i.info(this,"implementation found",this.implementation.type),this.implementation.on("*",function(e,t,n){if(this._populateEvents(e,t,n),!t)switch(e){case E.EVENT_PLAY:this._setState(E.STATE_PLAYING);break;case E.EVENT_SWAP:case E.EVENT_STOP:case E.EVENT_ENDED:case E.EVENT_ERROR:this._setState(E.STATE_IDLE);break;case E.EVENT_PAUSE:this._setState(E.STATE_PAUSED);break;case E.EVENT_CRASHED:this._setState(E.STATE_CRASHED)}}.bind(this)),this._setState(E.STATE_IDLE)}.bind(this),function(e){throw i.error(this,p.NO_IMPLEMENTATION,e),this._setState(E.STATE_CRASHED),e}.bind(this)),this._init(0)};o.mixin(E),u(E,d,!0),E.info={html5:f.html5.available,flash:f.flash.available},E.audioContext=f.html5.audioContext,E.prototype._setState=function(e){i.debug(this,"_setState",e);var t=this.state!==e;this.state=e,t&&(i.info(this,"newState",e),this.trigger(E.EVENT_STATE,e))},E.prototype._init=function(e){function t(){var i=n.shift();return i?void r._initType(i).then(r._whenReady.resolve,t):void r._init(e+1)}if(e=e||0,i.info(this,"_init",e),this._whenReady.pending){e>l.audio.retry&&(i.error(this,p.NO_IMPLEMENTATION),this._whenReady.reject(new p(p.NO_IMPLEMENTATION)));var n=[f.html5,f.flash].sort(function(e,t){return e.available!==t.available?e.available?-1:1:e.AudioImplementation.type===this.preferredType?-1:t.AudioImplementation.type===this.preferredType?1:t.priority-e.priority}.bind(this)),r=this;t()}},E.prototype._initType=function(e){i.info(this,"_initType",e);var t=new a;try{this.implementation=new e.AudioImplementation(this.overlay),this.implementation.whenReady?this.implementation.whenReady.then(t.resolve,t.reject):t.resolve()}catch(n){t.reject(n)}return t.promise()},E.prototype._waitEvents=function(e,t,n){var r=new a,i=this;this[e]=r;var o=function(){t.forEach(function(e){i.off(e,r.resolve)}),n.forEach(function(e){i.off(e,r.reject)}),delete i[e]};return t.forEach(function(e){i.on(e,r.resolve)}),n.forEach(function(e){i.on(e,function(t){var n=t instanceof Error?t:new p(t||e);r.reject(n)})}),r.promise().then(o,o),r.promise()},E.prototype._populateEvents=function(e,t,n){e!==E.EVENT_PROGRESS&&i.debug(this,"_populateEvents",e,t,n);var r=(t?E.PRELOADER_EVENT:"")+e;switch(e){case E.EVENT_CRASHED:case E.EVENT_SWAP:this.trigger(e,n);break;case E.EVENT_ERROR:this.trigger(r,n);break;case E.EVENT_VOLUME:this.trigger(e,this.getVolume());break;case E.EVENT_PROGRESS:this.trigger(r,{duration:this.getDuration(t),loaded:this.getLoaded(t),position:t?0:this.getPosition(),played:t?0:this.getPlayed()});break;default:this.trigger(r)}},E.prototype._generatePlayId=function(){this._playId=Math.random().toString().slice(2)},E.prototype.initPromise=function(){return this.whenReady},E.prototype.getState=function(){return this.state},E.prototype.getType=function(){return this.implementation&&this.implementation.type},E.prototype.getSrc=function(e){return this.implementation&&this.implementation.getSrc(e)},E.prototype.play=function(e,t){i.info(this,"play",e,t),this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("play"),this._whenPause&&this._whenPause.reject("play"),this._whenStop&&this._whenStop.reject("play");var n=this._waitEvents("_whenPlay",[E.EVENT_PLAY],[E.EVENT_STOP,E.EVENT_ERROR,E.EVENT_CRASHED]);return n.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(E.STATE_PAUSED),this.implementation.play(e,t),n},E.prototype.stop=function(e){if(i.info(this,"stop",e),0!==e)return this.implementation.stop(e);this._played=0,this._lastSkip=0,this._whenPlay&&this._whenPlay.reject("stop"),this._whenPause&&this._whenPause.reject("stop");var t;return t=this._whenStop?this._whenStop.promise():this._waitEvents("_whenStop",[E.EVENT_STOP],[E.EVENT_PLAY,E.EVENT_ERROR,E.EVENT_CRASHED]),this.implementation.stop(),t},E.prototype.pause=function(){if(i.info(this,"pause"),this.state!==E.STATE_PLAYING)return c(new p(p.BAD_STATE));var e;return this._whenPlay&&this._whenPlay.reject("pause"),e=this._whenPause?this._whenPause.promise():this._waitEvents("_whenPause",[E.EVENT_PAUSE],[E.EVENT_STOP,E.EVENT_PLAY,E.EVENT_ERROR,E.EVENT_CRASHED]),this.implementation.pause(),e},E.prototype.resume=function(){if(i.info(this,"resume"),this.state===E.STATE_PLAYING&&!this._whenPause)return Promise.resolve();if(this.state!==E.STATE_IDLE&&this.state!==E.STATE_PAUSED&&this.state!==E.STATE_PLAYING)return c(new p(p.BAD_STATE));var e;return this._whenPause&&this._whenPause.reject("resume"),e=this._whenPlay?this._whenPlay.promise():this._waitEvents("_whenPlay",[E.EVENT_PLAY],[E.EVENT_STOP,E.EVENT_ERROR,E.EVENT_CRASHED]),this.implementation.resume(),e},E.prototype.playPreloaded=function(e){if(i.info(this,"playPreloaded",e),e||(e=this.getSrc(1)),!this.isPreloaded(e))return i.warn(this,"playPreloadedBadTrack",p.NOT_PRELOADED),c(new p(p.NOT_PRELOADED));this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("playPreloaded"),this._whenPause&&this._whenPause.reject("playPreloaded"),this._whenStop&&this._whenStop.reject("playPreloaded");var t=this._waitEvents("_whenPlay",[E.EVENT_PLAY],[E.EVENT_STOP,E.EVENT_ERROR,E.EVENT_CRASHED]);t.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(E.STATE_PAUSED);var n=this.implementation.playPreloaded();return n||(i.warn(this,"playPreloadedError",p.NOT_PRELOADED),this._whenPlay.reject(new p(p.NOT_PRELOADED))),t},E.prototype.preload=function(e,t){i.info(this,"preload",e,t),this._whenPreload&&this._whenPreload.reject("preload");var n=this._waitEvents("_whenPreload",[E.PRELOADER_EVENT+E.EVENT_LOADING,E.EVENT_SWAP],[E.PRELOADER_EVENT+E.EVENT_CRASHED,E.PRELOADER_EVENT+E.EVENT_ERROR,E.PRELOADER_EVENT+E.EVENT_STOP]);return n.abort=function(){this._whenPreload&&(this._whenPreload.reject.apply(this._whenPreload,arguments),this.stop(1))}.bind(this),this.implementation.preload(e,t),n},E.prototype.isPreloaded=function(e){return this.implementation.isPreloaded(e)},E.prototype.isPreloading=function(e){return this.implementation.isPreloading(e,1)},E.prototype.getPosition=function(){return this.implementation.getPosition()},E.prototype.setPosition=function(e){return i.info(this,"setPosition",e),e="flash"==this.implementation.type?Math.max(0,Math.min(this.getLoaded(),e)):Math.max(0,Math.min(this.getDuration(),e)),this._played+=this.getPosition()-this._lastSkip,this._lastSkip=e,this.implementation.setPosition(e),e},E.prototype.getDuration=function(e){return this.implementation.getDuration(e?1:0)},E.prototype.getLoaded=function(e){return this.implementation.getLoaded(e?1:0)},E.prototype.getPlayed=function(){var e=this.getPosition();return this._played+=e-this._lastSkip,this._lastSkip=e,this._played},E.prototype.getVolume=function(){return this.implementation?this.implementation.getVolume():0},E.prototype.setVolume=function(e){return i.info(this,"setVolume",e),this.implementation?this.implementation.setVolume(e):0},E.prototype.isDeviceVolume=function(){return this.implementation?this.implementation.isDeviceVolume():!0},E.prototype.toggleWebAudioAPI=function(e){return i.info(this,"toggleWebAudioAPI",e),"html5"!==this.implementation.type?(i.warn(this,"toggleWebAudioAPIFailed",this.implementation.type),!1):this.implementation.toggleWebAudioAPI(e)},E.prototype.setAudioPreprocessor=function(e){return i.info(this,"setAudioPreprocessor"),"html5"!==this.implementation.type?(i.warn(this,"setAudioPreprocessorFailed",this.implementation.type),!1):this.implementation.setAudioPreprocessor(e)},E.prototype.getPlayId=function(){return this._playId},E.prototype._logger=function(){return{index:this.implementation&&this.implementation.name,src:this.implementation&&this.implementation._logger(),type:this.implementation&&this.implementation.type}},t.exports=E},{"./audio-static":5,"./config":6,"./error/audio-error":7,"./flash/audio-flash":11,"./html5/audio-html5":21,"./lib/async/deferred":23,"./lib/async/events":24,"./lib/async/reject":26,"./lib/browser/detect":27,"./lib/data/merge":32,"./logger/logger":37}],5:[function(e,t,n){var r={};r.EVENT_PLAY="play",r.EVENT_STOP="stop",r.EVENT_PAUSE="pause",r.EVENT_PROGRESS="progress",r.EVENT_LOADING="loading",r.EVENT_LOADED="loaded",r.EVENT_VOLUME="volumechange",r.EVENT_ENDED="ended",r.EVENT_CRASHED="crashed",r.EVENT_ERROR="error",r.EVENT_STATE="state",r.EVENT_SWAP="swap",r.PRELOADER_EVENT="preloader:",r.STATE_INIT="init",r.STATE_CRASHED="crashed",r.STATE_IDLE="idle",r.STATE_PLAYING="playing",r.STATE_PAUSED="paused",t.exports=r},{}],6:[function(e,t,n){var r={audio:{retry:3},flash:{path:"dist",name:"player-2_0.swf",version:"9.0.28",playerID:"YandexAudioFlashPlayer",callback:"ya.Audio._flashCallback",initTimeout:3e3,loadTimeout:5e3,clickTimeout:1e3,heartBeatInterval:1e3},html5:{blacklist:["linux:mozilla","unix:mozilla","macos:mozilla",":opera","@NT 5","@NT 4"]}};t.exports=r},{}],7:[function(e,t,n){var r=e("../lib/class/error-class"),i=function(e){r.call(this,e)};i.prototype=r.create("AudioError"),i.NO_IMPLEMENTATION="cannot find suitable implementation",i.NOT_PRELOADED="track is not preloaded",i.BAD_STATE="action is not permited from current state",i.FLASH_BLOCKER="flash is rejected by flash blocker plugin",i.FLASH_UNKNOWN_CRASH="flash is crashed without reason",i.FLASH_INIT_TIMEOUT="flash init timed out",i.FLASH_INTERNAL_ERROR="flash internal error",i.FLASH_EMMITER_NOT_FOUND="flash event emmiter not found",i.FLASH_NOT_RESPONDING="flash player doesn't response",t.exports=i},{"../lib/class/error-class":30}],8:[function(e,t,n){e("../export");var r=e("./audio-error"),i=e("./playback-error");ya.Audio.AudioError=r,ya.Audio.PlaybackError=i},{"../export":10,"./audio-error":7,"./playback-error":9}],9:[function(e,t,n){var r=e("../lib/class/error-class"),i=function(e,t){r.call(this,e),this.src=t};i.prototype=r.create("PlaybackError"),i.CONNECTION_ABORTED="Connection aborted",i.NETWORK_ERROR="Network error",i.DECODE_ERROR="Decode error",i.BAD_DATA="Bad data",i.html5={1:i.CONNECTION_ABORTED,2:i.NETWORK_ERROR,3:i.DECODE_ERROR,4:i.BAD_DATA},t.exports=i},{"../lib/class/error-class":30}],10:[function(e,t,n){"undefined"==typeof window.ya&&(window.ya={});var r=window.ya;"undefined"==typeof r.Audio&&(r.Audio={});var i=e("./config"),o=e("./audio-player"),a=e("./lib/class/proxy");r.Audio=a.createClass(o),r.Audio.config=i,t.exports=r.Audio},{"./audio-player":4,"./config":6,"./lib/class/proxy":31}],11:[function(e,t,n){var r,i=e("../config"),o=e("../lib/browser/swfobject"),a=e("../lib/browser/detect"),s=e("../logger/logger"),l=new s("AudioFlash"),u=e("./flash-manager"),c=e("./flash-interface"),p=e("../lib/async/events"),d=1,h=o.getFlashPlayerVersion();a.flashVersion=h.major+"."+h.minor+"."+h.release,n.available=o.hasFlashPlayerVersion(i.flash.version),l.info(this,"detection",n.available);var f=function(e,t){this.name=d++,l.debug(this,"constructor"),(!r||t)&&(r=new u(e)),p.call(this),this.whenReady=r.createPlayer(this),this.whenReady.then(function(e){l.info(this,"ready",e)}.bind(this),function(e){l.error(this,"failed",e)}.bind(this))};p.mixin(f),f.type=f.prototype.type="flash",Object.keys(c.prototype).filter(function(e){return c.prototype.hasOwnProperty(e)&&"_"!==e[0]}).map(function(e){f.prototype[e]=function(){if(/^get/.test(e)||l.debug(this,e),!this.hasOwnProperty("id"))return l.warn(this,"player is not ready"),null;var t=[].slice.call(arguments);return t.unshift(this.id),r.flash[e].apply(r.flash,t)}}),f.prototype.isDeviceVolume=function(){return!1},f.prototype._logger=function(){try{return this.hasOwnProperty("id")?{main:this.getSrc(0),preloader:this.getSrc(1)}:{main:"not ready",preloader:"not ready"}}catch(e){return""}},n.AudioImplementation=f},{"../config":6,"../lib/async/events":24,"../lib/browser/detect":27,"../lib/browser/swfobject":28,"../logger/logger":37,"./flash-interface":12,"./flash-manager":13}],12:[function(e,t,n){var r=(e("../config"),e("../logger/logger")),i=new r("FlashInterface"),o=function(e){this.flash=ya.Audio._flash=e};o.prototype._callFlash=function(e){try{return this.flash.call.apply(this.flash,arguments)}catch(t){return i.error(this,"_callFlashError",t),null}},o.prototype._heartBeat=function(){this._callFlash("heartBeat",-1)},o.prototype._addPlayer=function(){return this._callFlash("addPlayer",-1)},o.prototype.setVolume=function(e,t){this._callFlash("setVolume",-1,t)},o.prototype.getVolume=function(){return this._callFlash("getVolume",-1)},o.prototype.play=function(e,t,n){this._callFlash("play",e,t,n)},o.prototype.stop=function(e,t){this._callFlash("stop",e,t||0)},o.prototype.pause=function(e){this._callFlash("pause",e)},o.prototype.resume=function(e){this._callFlash("resume",e)},o.prototype.preload=function(e,t,n,r){return this._callFlash("preload",e,t,n,null==r?1:r)},o.prototype.isPreloaded=function(e,t,n){return this._callFlash("isPreloaded",e,t,null==n?1:n)},o.prototype.isPreloading=function(e,t,n){return this._callFlash("isPreloading",e,t,null==n?1:n)},o.prototype.playPreloaded=function(e,t){return this._callFlash("playPreloaded",e,null==t?1:t)},o.prototype.getPosition=function(e){return this._callFlash("getPosition",e)},o.prototype.setPosition=function(e,t){this._callFlash("setPosition",e,t)},o.prototype.getDuration=function(e,t){return this._callFlash("getDuration",e,t||0)},o.prototype.getLoaded=function(e,t){return this._callFlash("getLoaded",e,t||0)},o.prototype.getSrc=function(e,t){return this._callFlash("getSrc",e,t||0)},t.exports=o},{"../config":6,"../logger/logger":37}],13:[function(e,t,n){var r=e("../logger/logger"),i=new r("FlashBridge"),o=e("../config"),a=e("../audio-static"),s=e("./loader"),l=e("./flash-interface"),u=e("../lib/async/deferred"),c=e("../error/audio-error"),p=e("../lib/net/error/loader-error"),d=function(e){i.debug(this,"constructor",e),this.state="init",this.overlay=e,this.emmiters=[];var t=this.deferred=new u;this.whenReady=this.deferred.promise();var n=o.flash.callback.split("."),r=n.pop(),a=window;if(n.forEach(function(e){a[e]||(a[e]={}),a=a[e]}),a[r]=this._onEvent.bind(this),this.__loadTimeout=setTimeout(this._onLoadTimeout,o.flash.loadTimeout),s(o.flash.path+"/"+o.flash.name,o.flash.version,o.flash.playerID,this._onLoad.bind(this),{},e),e){var l;e.addEventListener("mousedown",function(){l=l||setTimeout(function(){t.reject(new c(c.FLASH_NOT_RESPONDING))},o.flash.clickTimeout)},!0)}this.whenReady.then(function(e){l=l&&clearTimeout(l),i.info(this,"ready",e)}.bind(this),function(e){flashManager=null,i.error(this,"failed",e)}.bind(this))};d.EVENT_INIT="init",d.EVENT_FAIL="failed",d.prototype._onLoad=function(e){i.debug(this,"_onLoad",e),clearTimeout(this.__loadTimeout),delete this.__loadTimeout,e.success?(this.flash=new l(e.ref),"ready"===this.state?this.deferred.resolve(e.ref):this.overlay||(this.__initTimeout=setTimeout(this._onInitTimeout.bind(this),o.flash.initTimeout))):(this.state="failed",this.deferred.reject(new c(e.__fbn?c.FLASH_BLOCKER:c.FLASH_UNKNOWN_CRASH)))},d.prototype._onLoadTimeout=function(){this.state="failed",this.deferred.reject(new p(p.TIMEOUT))},d.prototype._onInitTimeout=function(){this.state="failed",this.deferred.reject(new c(c.FLASH_INIT_TIMEOUT))},d.prototype._onInit=function(){i.debug(this,"_onInit"),this.state="ready",this.__initTimeout&&(clearTimeout(this.__initTimeout),delete this.__initTimeout),this.flash&&(this.deferred.resolve(this.flash),this.__heartbeat=setInterval(this._onHeartBeat.bind(this),1e3))},d.prototype._onEvent=function(e,t,n,r){return"debug"===e&&console.debug("flashDEBUG",t,n,r),"failed"===this.state?void i.warn(this,"onEventFailed",e,t,n,r):(i.debug(this,"onEvent",e,t,n),e===d.EVENT_INIT?this._onInit():e===d.EVENT_FAIL?(i.warn(this,"failed",c.FLASH_INTERNAL_ERROR),void this.deferred.reject(new c(c.FLASH_INTERNAL_ERROR))):void(-1==t?this.emmiters.forEach(function(t){t.trigger(e,n,r)}):this.emmiters[t]?this.emmiters[t].trigger(e,n,r):i.error(this,c.FLASH_EMMITER_NOT_FOUND,t)))},d.prototype._onHeartBeat=function(){try{this.flash._heartBeat()}catch(e){i.error(this,"crashed",e),this._onEvent(a.EVENT_CRASHED,-1,e)}},d.prototype.createPlayer=function(e){i.debug(this,"createPlayer");var t=this.whenReady.then(function(){return e.id=this.flash._addPlayer(),this.emmiters[e.id]=e,e.id}.bind(this));return t.then(function(e){i.debug(this,"createPlayerSuccess",e)}.bind(this),function(e){i.error(this,"createPlayerError",e)}.bind(this)),t},t.exports=d},{"../audio-static":5,"../config":6,"../error/audio-error":7,"../lib/async/deferred":23,"../lib/net/error/loader-error":34,"../logger/logger":37,"./flash-interface":12,"./loader":16}],14:[function(e,t,n){function r(e){e.parentNode.removeChild(e)}var i=e("../lib/browser/swfobject"),o={__SWF_WRAPPER_CLASS:"fbn-swf-wrapper",__TIMEOUT:500,__TESTS:[function(e,t){return t.childNodes.length>1},function(e){return e.type&&"application/x-shockwave-flash"!=e.type},function(e){return!e.parentNode},function(e){return e.parentNode.className.indexOf("CTFnodisplay")>-1}],embedSWF:function(e,t,n,a,s,l,u,c,p,d,h){i&&i.addDomLoadEvent(function(){var f=document.getElementById(t);if(f){var m=document.createElement("div");m.className=o.__SWF_WRAPPER_CLASS,f.parentNode.replaceChild(m,f),m.appendChild(f),i.embedSWF(e,t,n,a,s,l,u,c,p,function(e){function n(e){if(h!==!1){i.removeSWF(t),r(m);var n=document.getElementById("CTFstack");n&&r(n);var o=document.body.lastChild;o&&"ujs_flashblock_placeholder"==o.className&&r(o)}e.success=!1,e.__fbn=!0,d(e)}if(e&&e.success!==!1){var a=e.ref,s=!1;try{s=a&&a.getSVGDocument&&a.getSVGDocument();
}catch(l){}s?n(e):window.setTimeout(function(){for(var t=o.__TESTS,r=0,i=t.length;i>r;r++)if(t[r](a,m))return void n(e);d(e)},o.__TIMEOUT)}else d(e)})}})}};t.exports=o},{"../lib/browser/swfobject":28}],15:[function(e,t,n){var r=e("../lib/browser/swfobject"),i={__SWF_WRAPPER_CLASS:"femb-swf-wrapper",__TIMEOUT:500,embedSWF:function(e,t,n,o,a,s,l,u,c,p){r.addDomLoadEvent(function(){var d=document.getElementById(t);if(d){var h=document.createElement("div");h.className=i.__SWF_WRAPPER_CLASS,d.parentNode.replaceChild(h,d),h.appendChild(d),r.embedSWF(e,t,n,o,a,s,l,u,c,function(e){function t(e){e.success=!1,p(e)}if(e&&e.success!==!1){var n=e.ref,r=!1;try{r=n&&n.getSVGDocument&&n.getSVGDocument()}catch(o){}r?t(e):window.setTimeout(function(){p(e)},i.__TIMEOUT)}else p(e)})}})}};t.exports=i},{"../lib/browser/swfobject":28}],16:[function(e,t,n){var r=(e("../lib/browser/swfobject"),e("./flashblocknotifier")),i=e("./flashembedder"),o=e("../lib/browser/detect"),a="windows"===o.platform.os&&"safari"===o.browser.name,s="ya-flash-player-wrapper";t.exports=function(e,t,n,o,l,u,c,p){var d=document.createElement("div");d.id="wrapper_"+n,d.innerHTML='<div id="'+n+'"></div>',c=c||"1000",p=p||"1000";var h,f,m,E;return u&&!a?(h=i,f=c,m=p,E={allowscriptaccess:"always",wmode:"transparent"},d.className=s,d.style.cssText="position: relative; width: 100%; height: 100%; overflow: hidden;",u.appendChild(d)):(h=r,f=m="1",E={allowscriptaccess:"always"},d.style.cssText="position: absolute; left: -1px; top: -1px; width: 0px; height: 0px; overflow: hidden;",document.body.appendChild(d)),h.embedSWF(e,n,f,m,t,"",l,E,{},o),d}},{"../lib/browser/detect":27,"../lib/browser/swfobject":28,"./flashblocknotifier":14,"./flashembedder":15}],17:[function(e,t,n){t.exports=[{id:"custom",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"default",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"Classical",preamp:-.5,bands:[-.5,-.5,-.5,-.5,-.5,-.5,-3.5,-3.5,-3.5,-4.5]},{id:"Club",preamp:-3.359999895095825,bands:[-.5,-.5,4,2.5,2.5,2.5,1.5,-.5,-.5,-.5]},{id:"Dance",preamp:-2.1599998474121094,bands:[4.5,3.5,1,-.5,-.5,-2.5,-3.5,-3.5,-.5,-.5]},{id:"Full Bass",preamp:-3.5999999046325684,bands:[4,4.5,4.5,2.5,.5,-2,-4,-5,-5.5,-5.5]},{id:"Full Bass & Treble",preamp:-5.039999961853027,bands:[3.5,2.5,-.5,-3.5,-2,.5,4,5.5,6,6]},{id:"Full Treble",preamp:-6,bands:[-4.5,-4.5,-4.5,-2,1,5.5,8,8,8,8]},{id:"Laptop Speakers / Headphone",preamp:-4.079999923706055,bands:[2,5.5,2.5,-1.5,-1,.5,2,4.5,6,7]},{id:"Large Hall",preamp:-3.5999999046325684,bands:[5,5,2.5,2.5,-.5,-2,-2,-2,-.5,-.5]},{id:"Live",preamp:-2.6399998664855957,bands:[-2,-.5,2,2.5,2.5,2.5,2,1,1,1]},{id:"Party",preamp:-2.6399998664855957,bands:[3.5,3.5,-.5,-.5,-.5,-.5,-.5,-.5,3.5,3.5]},{id:"Pop",preamp:-3.119999885559082,bands:[-.5,2,3.5,4,2.5,-.5,-1,-1,-.5,-.5]},{id:"Reggae",preamp:-4.079999923706055,bands:[-.5,-.5,-.5,-2.5,-.5,3,3,-.5,-.5,-.5]},{id:"Rock",preamp:-5.039999961853027,bands:[4,2,-2.5,-4,-1.5,2,4,5.5,5.5,5.5]},{id:"Ska",preamp:-5.519999980926514,bands:[-1,-2,-2,-.5,2,2.5,4,4.5,5.5,4.5]},{id:"Soft",preamp:-4.799999713897705,bands:[2,.5,-.5,-1,-.5,2,4,4.5,5.5,6]},{id:"Soft Rock",preamp:-2.6399998664855957,bands:[2,2,1,-.5,-2,-2.5,-1.5,-.5,1,4]},{id:"Techno",preamp:-3.8399999141693115,bands:[4,2.5,-.5,-2.5,-2,-.5,4,4.5,4.5,4]}]},{}],18:[function(e,t,n){var r=e("../../lib/async/events"),i=function(e,t){r.call(this),this.preamp=new o(e,"highshelf",0),this.preamp.on("*",this._onBandEvent.bind(this,this.preamp));var n;this.bands=t.map(function(r,i){var a=new o(e,0==i?"lowshelf":i+1<t.length?"peaking":"highshelf",r);return a.on("*",this._onBandEvent.bind(this,a)),n?n.filter.connect(a.filter):this.preamp.filter.connect(a.filter),n=a,a}.bind(this)),this.input=this.preamp.filter,this.output=this.bands[this.bands.length-1].filter};r.mixin(i),i.EVENT_CHANGE="change",i.DEFAULT_BANDS=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3],i.DEFAULT_PRESETS=e("./default.presets.js"),i.prototype._onBandEvent=function(e,t,n){this.trigger(t,e.getFreq(),n)},i.prototype.loadPreset=function(e){e.bands.forEach(function(e,t){this.bands[t].setValue(e)}.bind(this)),this.preamp.setValue(e.preamp)},i.prototype.savePreset=function(){return{preamp:this.preamp.getValue(),bands:this.bands.map(function(e){return e.getValue()})}},i.prototype.guessPreamp=function(){for(var e=0,t=0,n=this.bands.length;n>t;t++)e+=this.bands[t].getValue();return-e/2};var o=function(e,t,n){r.call(this),this.type=t,this.filter=e.createBiquadFilter(),this.filter.type=t,this.filter.frequency.value=n,this.filter.Q.value=1,this.filter.gain.value=0};r.mixin(o),o.prototype.getFreq=function(){return this.filter.frequency.value},o.prototype.getValue=function(){return this.filter.gain.value},o.prototype.setValue=function(e){this.filter.gain.value=e,this.trigger(i.EVENT_CHANGE,e)},t.exports=i},{"../../lib/async/events":24,"./default.presets.js":17}],19:[function(e,t,n){e("../export"),ya.Audio.fx.Equalizer=e("./equalizer")},{"../export":20,"./equalizer":18}],20:[function(e,t,n){e("../export"),ya.Audio.fx={}},{"../export":10}],21:[function(e,t,n){var r=e("../logger/logger"),i=new r("AudioHTML5"),o=e("../lib/browser/detect"),a=e("../lib/async/events"),s=e("../audio-static"),l=e("../error/playback-error"),u=1;n.available=function(){var e=!0;try{var t=document.createElement("audio"),n=t.canPlayType("audio/mpeg");n&&"no"!==n||(i.warn(this,"HTML5 detection failed with reason",n),e=!1)}catch(r){i.warn(this,"HTML5 detection failed with error",r),e=!1}return i.info(this,"detection",e),e}();try{var c=new AudioContext;i.info(this,"WenAudioAPI context created")}catch(p){c=null,i.info(this,"WenAudioAPI not detected")}var d=function(){this.name=u++,i.debug(this,"constructor"),a.call(this),this.on("*",function(e){e!==s.EVENT_PROGRESS&&i.debug(this,"onEvent",e)}.bind(this)),this.webAudioApi=!1,this.activeLoader=0,this.loaders=[],this.listeners=[],this._addLoader(),this._addLoader(),this._setActive(0)};a.mixin(d),d.type=d.prototype.type="html5",d.EVENT_NATIVE_PLAY="play",d.EVENT_NATIVE_PAUSE="pause",d.EVENT_NATIVE_TIMEUPDATE="timeupdate",d.EVENT_NATIVE_ENDED="ended",d.EVENT_NATIVE_DURATION="durationchange",d.EVENT_NATIVE_LOADING="progress",d.EVENT_NATIVE_META="loadedmetadata",d.EVENT_NATIVE_CANPLAY="canplay",d.EVENT_NATIVE_ERROR="error",d.prototype._addLoader=function(){i.debug(this,"_addLoader");var e=this,t=document.createElement("audio"),n=new a;t.loop=!1,t.preload=t.autobuffer="auto",t.startPlay=function(){t.removeEventListener(d.EVENT_NATIVE_META,t.startPlay),t.removeEventListener(d.EVENT_NATIVE_CANPLAY,t.startPlay),t._ended&&(delete t._ended,n.trigger(s.EVENT_PLAY));try{t.play(),i.debug(e,"startPlay")}catch(r){i.error(e,"crashed",r),n.trigger(s.EVENT_CRASHED,r)}};var r=0,o=function(){var e=+new Date;30>e-r||(r=e,n.trigger(s.EVENT_PROGRESS))};t.addEventListener(d.EVENT_NATIVE_PAUSE,n.trigger.bind(n,s.EVENT_PAUSE)),t.addEventListener(d.EVENT_NATIVE_PLAY,n.trigger.bind(n,s.EVENT_PLAY)),t.addEventListener(d.EVENT_NATIVE_ENDED,function(){n.trigger(s.EVENT_PROGRESS),n.trigger(s.EVENT_ENDED),t._ended=!0}),t.addEventListener(d.EVENT_NATIVE_TIMEUPDATE,o),t.addEventListener(d.EVENT_NATIVE_DURATION,o),t.addEventListener(d.EVENT_NATIVE_LOADING,function(){if(o(),t.buffered.length){var e=t.buffered.end(0)-t.buffered.start(0);t.notLoading&&e&&(t.notLoading=!1,n.trigger(s.EVENT_LOADING)),e>=e.duration-.1&&n.trigger(s.EVENT_LOADED)}}),t.addEventListener(d.EVENT_NATIVE_ERROR,function(e){if(!t.fake){var r=new l(t.error?l.html5[t.error.code]:e instanceof Error?e.message:e,t.src);n.trigger(s.EVENT_ERROR,r)}}),n.on("*",function(n,r){var i=(e.loaders.length+t.index-e.activeLoader)%e.loaders.length;e.trigger(n,i,r)}),t.index=this.loaders.push(t)-1,this.listeners.push(n);var u=this._initLoader.bind(this,t);t.__initLoader=u,document.body.addEventListener("mousedown",u),document.body.addEventListener("keydown",u),document.body.addEventListener("touchstart",u),this.webAudioApi&&this._addSource(t)},d.prototype._initLoader=function(e){e.play(),e.pause(),setTimeout(function(){e.pause()},0),document.body.removeEventListener("mousedown",e.__initLoader),document.body.removeEventListener("keydown",e.__initLoader),document.body.removeEventListener("touchstart",e.__initLoader),delete e.__initLoader},d.prototype._addSource=function(e,t){i.debug(this,"_addSource",e),t?t.disconnect():(t=c.createMediaElementSource(e),this.sources.push(t)),this.preprocessor?t.connect(this.preprocessor):t.connect(this.audioOutput)},d.prototype._setActive=function(e){i.debug(this,"_setActive",e),this.activeLoader=(this.activeLoader+e)%this.loaders.length,this.trigger(s.EVENT_SWAP,e),0!==e&&this.stop(e)},d.prototype._getLoader=function(e,t){t=t||0;var n=this.loaders[(this.activeLoader+t)%this.loaders.length];return e&&(n.removeEventListener(d.EVENT_NATIVE_META,n.startPlay),n.removeEventListener(d.EVENT_NATIVE_CANPLAY,n.startPlay)),n},d.prototype._play=function(e){i.debug(this,"_play"),e.readyState>e.HAVE_METADATA?e.startPlay():(e.addEventListener(d.EVENT_NATIVE_META,e.startPlay),e.addEventListener(d.EVENT_NATIVE_CANPLAY,e.startPlay))},d.prototype.toggleWebAudioAPI=function(e){return c?(i.info(this,"toggleWebAudioAPI",e),this.webAudioApi==e?e:(e?(this.audioOutput=c.createGain(),this.audioOutput.gain=this.volume,this.audioOutput.connect(c.destination),this.preprocessor&&this.preprocessor.output.connect(this.audioOutput),this.sources=this.sources||[],this.loaders.forEach(function(e,t){e.volume=1;var n=e.crossOrigin;if(e.crossOrigin="anonymous",this._addSource(e,this.sources[t]),!n){var r=e.currentTime,i=e.paused;e.load(),e.currentTime=r,i||e.play()}}.bind(this))):this.audioOutput&&(this.preprocessor&&this.preprocessor.output.disconnect(),this.audioOutput.disconnect(),delete this.audioOutput,this.sources.forEach(function(e){e.disconnect()}),this.loaders.forEach(function(e,t){e.volume=this.volume;var n=this.sources[t];n&&n.connect(c.destination)}.bind(this))),this.webAudioApi=e,e)):(i.warn(this,"toggleWebAudioAPIError",e),!1)},d.prototype.setAudioPreprocessor=function(e){if(!this.webAudioApi)return void i.warn(this,"setAudioPreprocessorError",e);if(i.info(this,"setAudioPreprocessor"),this.preprocessor!==e){if(this.preprocessor&&this.preprocessor.output.disconnect(),this.preprocessor=e,!e)return void this.sources.forEach(function(e){e.disconnect(),e.connect(this.audioOutput)}.bind(this));this.sources.forEach(function(t){t.disconnect(),t.connect(e.input)}),e.output.connect(this.audioOutput)}},d.prototype.play=function(e,t){i.info(this,"play",e);var n=this._getLoader(!0);n.fake=!1,n.src=e,n._src=e,n.notLoading=!0,n.load(),this._play(n)},d.prototype.pause=function(){i.info(this,"pause");var e=this._getLoader(!0);e.pause()},d.prototype.resume=function(){i.info(this,"resume");var e=this._getLoader(!0);this._play(e)},d.prototype.stop=function(e){i.info(this,"stop");var t=this._getLoader(!0,e||0);t.fake=!0,t.src="",t._src=!1,t.notLoading=!0,t.load(),this.trigger(s.EVENT_STOP,e)},d.prototype.preload=function(e,t,n){i.info(this,"preload",e,n),n=null==n?1:n;var r=this._getLoader(!0,n);r.src=e,r._src=e,r.notLoading=!0,r.load()},d.prototype.isPreloaded=function(e,t){t=null==t?1:t;var n=this._getLoader(!1,t);return n._src===e&&!n.notLoading},d.prototype.isPreloading=function(e,t){t=null==t?1:t;var n=this._getLoader(!1,t);return n._src===e},d.prototype.playPreloaded=function(e){i.info(this,"playPreloaded",e),e=null==e?1:e;var t=this._getLoader(!1,e);return t._src?(this._setActive(e),this._play(this._getLoader(!0,0)),!0):!1},d.prototype.getPosition=function(){return this._getLoader().currentTime},d.prototype.setPosition=function(e){i.info(this,"setPosition",e),this._getLoader().currentTime=e-.001},d.prototype.getDuration=function(e){return this._getLoader(!1,e).duration},d.prototype.getLoaded=function(e){var t=this._getLoader(!1,e);return t.buffered.length?t.buffered.end(0)-t.buffered.start(0):0},d.prototype.getVolume=function(){return this.volume},d.prototype.setVolume=function(e){i.info(this,"setVolume",e),this.volume=e,this.webAudioApi?this.audioOutput.gain.value=e:this.loaders.forEach(function(t){t.volume=e}),this.trigger(s.EVENT_VOLUME)},d.prototype.getSrc=function(e){return this._getLoader(!1,e)._src},d.prototype.isDeviceVolume=function(){return o.onlyDeviceVolume},d.prototype._logger=function(){try{return{main:this.getSrc(0),preloader:this.getSrc(1)}}catch(e){return""}},n.audioContext=c,n.AudioImplementation=d},{"../audio-static":5,"../error/playback-error":9,"../lib/async/events":24,"../lib/browser/detect":27,"../logger/logger":37}],22:[function(e,t,n){var r=e("./export");e("./error/export"),e("./lib/net/error/export"),e("./logger/export"),e("./fx/equalizer/export"),t.exports=r},{"./error/export":8,"./export":10,"./fx/equalizer/export":19,"./lib/net/error/export":33,"./logger/export":36}],23:[function(e,t,n){var r=e("./promise"),i=e("../noop"),o=function(){var e=this,t=new r(function(t,n){e.resolve=t,e.reject=n}),n=t.then(function(t){return e.resolved=!0,e.pending=!1,t},function(t){throw e.rejected=!0,e.pending=!1,t});n["catch"](i),this.pending=!0,this.rejected=!1,this.promise=function(){return n}};o.when=function(){var e=new o,t=[].slice.call(arguments),n=t.length,r=function(){n--,0>=n&&e.resolve()};return t.forEach(function(t){t.then(r,e.reject)}),t=null,e.promise.abort=e.reject,e.promise()},t.exports=o},{"../noop":35,"./promise":25}],24:[function(e,t,n){var r=e("../data/merge"),i="_listeners",o="_muted",a=function(){this[i]={},this[o]=!1};a.mixin=function(e){return r(e.prototype,a.prototype,!0),e},a.eventize=function(e){return r(e,a.prototype,!0),a.call(e),e},a.prototype.on=function(e,t){return this[i][e]||(this[i][e]=[]),this[i][e].push(t),this},a.prototype.off=function(e,t){if(!this[i][e])return this;if(!t)return delete this[i][e],this;for(var n=this[i][e],r=0,o=n.length;o>r;r++)if(n[r]===t||n[r].callback===t){n.splice(r,1),n.length||delete this[i][e];break}return this},a.prototype.once=function(e,t){var n=this,r=function(){n.off(e,r),t.apply(this,arguments)};return r.callback=t,n.on(e,r),this},a.prototype.trigger=function(e,t){if(this[o])return this;if(t=[].slice.call(arguments,1),"*"!==e&&a.prototype.trigger.apply(this,["*",e].concat(t)),!this[i][e])return this;for(var n=[].concat(this[i][e]),r=0,s=n.length;s>r;r++)n[r].apply(null,t);return this},a.prototype.clearListeners=function(){for(var e in this[i])this[i].hasOwnProperty(e)&&delete this[i][e];return this},a.prototype.pipeEvents=function(e){return this.on("*",a.prototype.trigger.bind(e)),this},a.prototype.muteEvents=function(){return this[o]=!0,this},a.prototype.unmuteEvents=function(){return delete this[o],this},t.exports=a},{"../data/merge":32}],25:[function(e,t,n){var r,i=e("vow"),o=e("../browser/detect");r="function"!=typeof window.Promise||"msie"===o.browser.name||"edge"===o.browser.name?i.Promise:window.Promise,t.exports=r},{"../browser/detect":27,vow:2}],26:[function(e,t,n){var r=e("../noop"),i=e("./promise");t.exports=function(e){var t=i.reject(e);return t["catch"](r),t}},{"../noop":35,"./promise":25}],27:[function(e,t,n){var r=navigator.userAgent.toLowerCase(),i=/(webkit)[ \/]([\w.]+)/,o=/(yabrowser)[ \/]([\w.]+)/,a=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,l=/(edge)\/([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,c=/^((?!chrome).)*version\/([\d\w\.]+).*(safari)/,p=c.exec(r)||o.exec(r)||l.exec(r)||i.exec(r)||a.exec(r)||s.exec(r)||r.indexOf("compatible")<0&&u.exec(r)||[],d={name:p[1]||"",version:p[2]||"0"};"safari"===p[3]&&(d.name=p[3]),"msie"===d.name&&(document.documentMode?d.documentMode=document.documentMode:(d.documentMode=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(d.documentMode=7))),"mozilla"===d.name&&"11"===d.version.split(".")[0]&&(d.name="msie");var h=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,f=/(ipad|playbook)/,m=/(android)/,E=/(mobile)/;v=h.exec(r)||[];var y=f.exec(r)||!E.exec(r)&&m.exec(r)||[];v[1]&&(v[1]=v[1].replace(/\s/g,"_"));var v={type:v[1]||"",tablet:!!y[1],mobile:v[1]&&!y[1]||!1};v.type||(v.type="pc"),v.os=v.type,"ipad"===v.type||"iphone"===v.type||"ipod"===v.type?v.os="ios":"android"===v.type?v.os="android":-1!==navigator.appVersion.indexOf("Win")?(v.os="windows",v.version=navigator.userAgent.match(/win[^ ]* ([^;]*)/i),v.version=v.version&&v.version[1]):-1!==navigator.appVersion.indexOf("Mac")?v.os="macos":-1!==navigator.appVersion.indexOf("X11")?v.os="unix":-1!==navigator.appVersion.indexOf("Linux")&&(v.os="linux");var _=!0;try{var g=document.createElement("audio");g.volume=.63,_=Math.abs(g.volume-.63)>.01}catch(w){_=!0}var T={browser:d,platform:v,onlyDeviceVolume:_};t.exports=T},{}],28:[function(e,t,n){var r=function(){function e(){if(!G){try{var e=k.getElementsByTagName("body")[0].appendChild(y("span"));e.parentNode.removeChild(e)}catch(t){return}G=!0;for(var n=B.length,r=0;n>r;r++)B[r]()}}function t(e){G?e():B[B.length]=e}function n(e){if(typeof j.addEventListener!=O)j.addEventListener("load",e,!1);else if(typeof k.addEventListener!=O)k.addEventListener("load",e,!1);else if(typeof j.attachEvent!=O)v(j,"onload",e);else if("function"==typeof j.onload){var t=j.onload;j.onload=function(){t(),e()}}else j.onload=e}function i(){M?o():a()}function o(){var e=k.getElementsByTagName("body")[0],t=y(R);t.setAttribute("type",x);var n=e.appendChild(t);if(n){var r=0;!function(){if(typeof n.GetVariable!=O){var i=n.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),$.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(10>r)return r++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,a()}()}else a()}function a(){var e=H.length;if(e>0)for(var t=0;e>t;t++){var n=H[t].id,r=H[t].callbackFn,i={success:!1,id:n};if($.pv[0]>0){var o=E(n);if(o)if(!_(H[t].swfVersion)||$.wk&&$.wk<312)if(H[t].expressInstall&&l()){var a={};a.data=H[t].expressInstall,a.width=o.getAttribute("width")||"0",a.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(a.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(a.align=o.getAttribute("align"));for(var p={},d=o.getElementsByTagName("param"),h=d.length,f=0;h>f;f++)"movie"!=d[f].getAttribute("name").toLowerCase()&&(p[d[f].getAttribute("name")]=d[f].getAttribute("value"));u(a,p,n,r)}else c(o),r&&r(i);else w(n,!0),r&&(i.success=!0,i.ref=s(n),r(i))}else if(w(n,!0),r){var m=s(n);m&&typeof m.SetVariable!=O&&(i.success=!0,i.ref=m),r(i)}}}function s(e){var t=null,n=E(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=O)t=n;else{var r=n.getElementsByTagName(R)[0];r&&(t=r)}return t}function l(){return!Y&&_("6.0.65")&&($.win||$.mac)&&!($.wk&&$.wk<312)}function u(e,t,n,r){Y=!0,N=r||null,P={success:!1,id:n};var i=E(n);if(i){"OBJECT"==i.nodeName?(b=p(i),A=null):(b=i,A=n),e.id=D,(typeof e.width==O||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==O||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),k.title=k.title.slice(0,47)+" - Flash Player Installation";var o=$.ie&&$.win?"ActiveX":"PlugIn",a="MMredirectURL="+j.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+k.title;if(typeof t.flashvars!=O?t.flashvars+="&"+a:t.flashvars=a,$.ie&&$.win&&4!=i.readyState){var s=y("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function c(e){if($.ie&&$.win&&4!=e.readyState){var t=y("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(p(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(p(e),e)}function p(e){var t=y("div");if($.win&&$.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(R)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;i>o;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||t.appendChild(r[o].cloneNode(!0))}}return t}function d(e,t,n){var r,i=E(n);if($.wk&&$.wk<312)return r;if(i)if(typeof e.id==O&&(e.id=n),$.ie&&$.win){var o="";for(var a in e)e[a]!=Object.prototype[a]&&("data"==a.toLowerCase()?t.movie=e[a]:"styleclass"==a.toLowerCase()?o+=' class="'+e[a]+'"':"classid"!=a.toLowerCase()&&(o+=" "+a+'="'+e[a]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+s+"</object>",U[U.length]=e.id,r=E(e.id)}else{var u=y(R);u.setAttribute("type",x);for(var c in e)e[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?u.setAttribute("class",e[c]):"classid"!=c.toLowerCase()&&u.setAttribute(c,e[c]));for(var p in t)t[p]!=Object.prototype[p]&&"movie"!=p.toLowerCase()&&h(u,p,t[p]);i.parentNode.replaceChild(u,i),r=u}return r}function h(e,t,n){var r=y("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function f(e){var t=E(e);t&&"OBJECT"==t.nodeName&&($.ie&&$.win?(t.style.display="none",function(){4==t.readyState?m(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function m(e){var t=E(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function E(e){var t=null;try{t=k.getElementById(e)}catch(n){}return t}function y(e){return k.createElement(e)}function v(e,t,n){e.attachEvent(t,n),W[W.length]=[e,t,n]}function _(e){var t=$.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function g(e,t,n,r){if(!$.ie||!$.mac){var i=k.getElementsByTagName("head")[0];if(i){var o=n&&"string"==typeof n?n:"screen";if(r&&(S=null,L=null),!S||L!=o){var a=y("style");a.setAttribute("type","text/css"),a.setAttribute("media",o),S=i.appendChild(a),$.ie&&$.win&&typeof k.styleSheets!=O&&k.styleSheets.length>0&&(S=k.styleSheets[k.styleSheets.length-1]),L=o}$.ie&&$.win?S&&typeof S.addRule==R&&S.addRule(e,t):S&&typeof k.createTextNode!=O&&S.appendChild(k.createTextNode(e+" {"+t+"}"))}}}function w(e,t){if(q){var n=t?"visible":"hidden";G&&E(e)?E(e).style.visibility=n:g("#"+e,"visibility:"+n)}}function T(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=O?encodeURIComponent(e):e}var b,A,N,P,S,L,O="undefined",R="object",V="Shockwave Flash",I="ShockwaveFlash.ShockwaveFlash",x="application/x-shockwave-flash",D="SWFObjectExprInst",C="onreadystatechange",j=window,k=document,F=navigator,M=!1,B=[i],H=[],U=[],W=[],G=!1,Y=!1,q=!0,$=function(){var e=typeof k.getElementById!=O&&typeof k.getElementsByTagName!=O&&typeof k.createElement!=O,t=F.userAgent.toLowerCase(),n=F.platform.toLowerCase(),r=n?/win/.test(n):/win/.test(t),i=n?/mac/.test(n):/mac/.test(t),o=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,a=!1,s=[0,0,0],l=null;if(typeof F.plugins!=O&&typeof F.plugins[V]==R)l=F.plugins[V].description,!l||typeof F.mimeTypes!=O&&F.mimeTypes[x]&&!F.mimeTypes[x].enabledPlugin||(M=!0,a=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof j.ActiveXObject!=O)try{var u=new ActiveXObject(I);u&&(l=u.GetVariable("$version"),l&&(a=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(c){}return{w3:e,pv:s,wk:o,ie:a,win:r,mac:i}}();(function(){$.w3&&((typeof k.readyState!=O&&"complete"==k.readyState||typeof k.readyState==O&&(k.getElementsByTagName("body")[0]||k.body))&&e(),G||(typeof k.addEventListener!=O&&k.addEventListener("DOMContentLoaded",e,!1),$.ie&&$.win&&(k.attachEvent(C,function(){"complete"==k.readyState&&(k.detachEvent(C,arguments.callee),e())}),j==top&&!function(){if(!G){try{k.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),$.wk&&!function(){return G?void 0:/loaded|complete/.test(k.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))})(),function(){$.ie&&$.win&&window.attachEvent("onunload",function(){for(var e=W.length,t=0;e>t;t++)W[t][0].detachEvent(W[t][1],W[t][2]);for(var n=U.length,i=0;n>i;i++)f(U[i]);for(var o in $)$[o]=null;$=null;for(var a in r)r[a]=null;r=null})}();return{registerObject:function(e,t,n,r){if($.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,H[H.length]=i,w(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){return $.w3?s(e):void 0},embedSWF:function(e,n,r,i,o,a,s,c,p,h){var f={success:!1,id:n};$.w3&&!($.wk&&$.wk<312)&&e&&n&&r&&i&&o?(w(n,!1),t(function(){r+="",i+="";var t={};if(p&&typeof p===R)for(var m in p)t[m]=p[m];t.data=e,t.width=r,t.height=i;var E={};if(c&&typeof c===R)for(var y in c)E[y]=c[y];if(s&&typeof s===R)for(var v in s)typeof E.flashvars!=O?E.flashvars+="&"+v+"="+s[v]:E.flashvars=v+"="+s[v];if(_(o)){var g=d(t,E,n);t.id==n&&w(n,!0),f.success=!0,f.ref=g}else{if(a&&l())return t.data=a,void u(t,E,n,h);w(n,!0)}h&&h(f)})):h&&h(f)},switchOffAutoHideShow:function(){q=!1},ua:$,getFlashPlayerVersion:function(){return{major:$.pv[0],minor:$.pv[1],release:$.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,n){return $.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,r){$.w3&&l()&&u(e,t,n,r)},removeSWF:function(e){$.w3&&f(e)},createCSS:function(e,t,n,r){$.w3&&g(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=k.location.search||k.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return T(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return T(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var e=E(D);e&&b&&(e.parentNode.replaceChild(b,e),A&&(w(A,!0),$.ie&&$.win&&(b.style.display="block")),N&&N(P)),Y=!1}}}}();t.exports=r},{}],29:[function(e,t,n){var r=function(e){var t=function(){};return t.prototype=e.prototype,new t};t.exports=r},{}],30:[function(e,t,n){var r=e("./clear-instance"),i=function(e,t){var n=new Error(e,t);n.name=this.name,this.message=n.message,this.stack=n.stack};i.create=function(e){var t=r(i);return t.name=e,t},i.prototype=r(Error),i.prototype.name="ErrorClass",t.exports=i},{"./clear-instance":29}],31:[function(e,t,n){var r=e("../async/events"),i=function(e){if(e){for(var t in e)"_"===t[0]||"function"!=typeof e[t]||e[t]===Object.prototype[t]||e.hasOwnProperty(t)||r.prototype.hasOwnProperty(t)||(this[t]=e[t].bind(e));e.pipeEvents&&(r.call(this),this.on=r.prototype.on,this.once=r.prototype.once,this.off=r.prototype.off,this.clearListeners=r.prototype.clearListeners,e.pipeEvents(this))}};i.exportStatic=function(e,t,n){n=n||[],Object.keys(e).forEach(function(r){e.hasOwnProperty(r)&&"_"!==r[0]&&"prototype"!==r&&-1===n.indexOf(r)&&(t[r]=e[r])})},i.createClass=function(e,t){var n=function(){var t=function(){};t.prototype=e.prototype;var n=new t;return e.apply(n,arguments),n._proxy()},r=function(){};r.prototype=(t||i).prototype,n.prototype=new r;var o;for(var a in e.prototype)o=e.prototype[a],Object.prototype[a]!=o&&"function"!=typeof o&&"_"!==a[0]&&(n.prototype[a]=o);var s=function(e){var t=i.prototype;i.prototype=n.prototype;var r=new i(e);return i.prototype=t,r};return e.prototype._proxy=function(){return this.__proxy||(this.__proxy=s(this)),this.__proxy},i.exportStatic(e,n),n},t.exports=i},{"../async/events":24}],32:[function(e,t,n){var r=function(e){var t,n,r=[].slice.call(arguments,1);if(r[r.length-1]===!0)t=e,r.pop();else{t={};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}for(var i=0,o=r.length;o>i;i++)for(n in r[i])r[i].hasOwnProperty(n)&&(t[n]=r[i][n]);return t};t.exports=r},{}],33:[function(e,t,n){e("../../../export");var r=e("./loader-error");ya.Audio.LoaderError=r},{"../../../export":10,"./loader-error":34}],34:[function(e,t,n){var r=e("../../class/error-class"),i=function(e){r.call(this,e)};i.prototype=r.create("LoaderError"),i.TIMEOUT="request timeout",i.FAILED="request failed",t.exports=i},{"../../class/error-class":30}],35:[function(e,t,n){t.exports=function(){}},{}],36:[function(e,t,n){e("../export");var r=e("./logger");ya.Audio.Logger=r},{"../export":10,"./logger":37}],37:[function(e,t,n){var r=["debug","log","info","warn","error","trace"],i=e("../lib/noop"),o=function(e){this.channel=e};o.ignores=[],o.logLevels=[],o.prototype.debug=i,o.prototype.log=i,o.prototype.info=i,o.prototype.warn=i,o.prototype.error=i,o.prototype.trace=i,o.log=function(e,t,n){var r=[].slice.call(arguments,3).map(function(e){return e&&e._logger&&e._logger()||e}),i={timestamp:+new Date,level:e,channel:t,context:n,message:r};o.ignores[t]||-1===o.logLevels.indexOf(e)||o._dumpEntry(i)},o._dumpEntry=function(e){try{var t=e.level,n=e.context&&(e.context.taskName||e.context.name),r=e.context&&(e.context._logger?e.context._logger():"");"function"!=typeof console[t]?console.log.apply(console,[t.toUpperCase(),o._formatTimestamp(e.timestamp),"["+e.channel+(n?":"+n:"")+"]",r].concat(e.message)):console[t].apply(console,[o._formatTimestamp(e.timestamp),"["+e.channel+(n?":"+n:"")+"]",r].concat(e.message))}catch(i){}},o._formatTimestamp=function(e){var t=new Date(e),n=t.getMilliseconds();return n=n>100?n:n>10?"0"+n:"00"+n,t.toLocaleTimeString()+"."+n},r.forEach(function(e){o.prototype[e]=function(){var t=[].slice.call(arguments);t.unshift(this.channel),t.unshift(e),o.log.apply(o,t)}}),t.exports=o},{"../lib/noop":35}],38:[function(e,t,n){var r=e("ym"),i=e("./index.js");window.ya||(window.ya={});var o;o=window.ya.modules?window.ya.modules:window.ya.modules=r.create(),o.define("YandexAudio",function(e){e(i)})},{"./index.js":22,ym:3}]},{},[38]);
//# sourceMappingURL=dist/modules.map.json
