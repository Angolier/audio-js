!function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return n(i?i:t)},h,h.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,i){function o(){h=!1,a.length?u=a.concat(u):c=-1,u.length&&n()}function n(){if(!h){var t=setTimeout(o);h=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,h=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function s(){}var a,l=e.exports={},u=[],h=!1,c=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new r(t,e)),1!==u.length||h||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],2:[function(t,e,i){(function(t){!function(i){var o,n=function(){var e=[],o=function(t){return 1===e.push(t)},n=function(){var t=e,i=0,o=e.length;for(e=[];o>i;)t[i++]()};if("function"==typeof setImmediate)return function(t){o(t)&&setImmediate(n)};if("object"==typeof t&&t.nextTick)return function(e){o(e)&&t.nextTick(n)};var r=i.MutationObserver||i.WebKitMutationObserver;if(r){var s=1,a=document.createTextNode("");return new r(n).observe(a,{characterData:!0}),function(t){o(t)&&(a.data=s*=-1)}}if(i.postMessage){var l=!0;if(i.attachEvent){var u=function(){l=!1};i.attachEvent("onmessage",u),i.postMessage("__checkAsync","*"),i.detachEvent("onmessage",u)}if(l){var h="__promise"+ +new Date,c=function(t){t.data===h&&(t.stopPropagation&&t.stopPropagation(),n())};return i.addEventListener?i.addEventListener("message",c,!0):i.attachEvent("onmessage",c),function(t){o(t)&&i.postMessage(h,"*")}}}var p=i.document;if("onreadystatechange"in p.createElement("script")){var d=function(){var t=p.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,n()},(p.documentElement||p.body).appendChild(t)};return function(t){o(t)&&d()}}return function(t){o(t)&&setTimeout(n,0)}}(),r=function(t){n(function(){throw t})},s=function(t){return"function"==typeof t},a=function(t){return null!==t&&"object"==typeof t},l=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===l.call(t)},h=function(t){for(var e=[],i=0,o=t.length;o>i;)e.push(i++);return e},c=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},p=function(t){var e=function(e){this.name=t,this.message=e};return e.prototype=new Error,e},d=function(t,e){return function(i){t.call(this,i,e)}},f=function(){this._promise=new m};f.prototype={promise:function(){return this._promise},resolve:function(t){this._promise.isResolved()||this._promise._resolve(t)},reject:function(t){this._promise.isResolved()||(v.isPromise(t)?(t=t.then(function(t){var e=v.defer();return e.reject(t),e.promise()}),this._promise._resolve(t)):this._promise._reject(t))},notify:function(t){this._promise.isResolved()||this._promise._notify(t)}};var _={PENDING:0,RESOLVED:1,FULFILLED:2,REJECTED:3},m=function(t){if(this._value=o,this._status=_.PENDING,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],t){var e=this,i=t.length;t(function(t){e.isResolved()||e._resolve(t)},i>1?function(t){e.isResolved()||e._reject(t)}:o,i>2?function(t){e.isResolved()||e._notify(t)}:o)}};m.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==_.PENDING},isFulfilled:function(){return this._status===_.FULFILLED},isRejected:function(){return this._status===_.REJECTED},then:function(t,e,i,o){var n=new f;return this._addCallbacks(n,t,e,i,o),n.promise()},"catch":function(t,e){return this.then(o,t,e)},fail:function(t,e){return this.then(o,t,e)},always:function(t,e){var i=this,o=function(){return t.call(this,i)};return this.then(o,o,e)},progress:function(t,e){return this.then(o,o,t,e)},spread:function(t,e,i){return this.then(function(e){return t.apply(this,e)},e,i)},done:function(t,e,i,o){this.then(t,e,i,o).fail(r)},delay:function(t){var e,i=this.then(function(i){var o=new f;return e=setTimeout(function(){o.resolve(i)},t),o.promise()});return i.always(function(){clearTimeout(e)}),i},timeout:function(t){var e=new f,i=setTimeout(function(){e.reject(new v.TimedOutError("timed out"))},t);return this.then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise().always(function(){clearTimeout(i)}),e.promise()},_vow:!0,_resolve:function(t){if(!(this._status>_.RESOLVED)){if(t===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=_.RESOLVED,t&&t._vow)return void(t.isFulfilled()?this._fulfill(t.valueOf()):t.isRejected()?this._reject(t.valueOf()):t.then(this._fulfill,this._reject,this._notify,this));if(a(t)||s(t)){var e;try{e=t.then}catch(i){return void this._reject(i)}if(s(e)){var o=this,n=!1;try{e.call(t,function(t){n||(n=!0,o._resolve(t))},function(t){n||(n=!0,o._reject(t))},function(t){o._notify(t)})}catch(i){n||this._reject(i)}return}}this._fulfill(t)}},_fulfill:function(t){this._status>_.RESOLVED||(this._status=_.FULFILLED,this._value=t,this._callCallbacks(this._fulfilledCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=o)},_reject:function(t){this._status>_.RESOLVED||(this._status=_.REJECTED,this._value=t,this._callCallbacks(this._rejectedCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=o)},_notify:function(t){this._callCallbacks(this._progressCallbacks,t)},_addCallbacks:function(t,e,i,n,r){i&&!s(i)?(r=i,i=o):n&&!s(n)&&(r=n,n=o);var a;this.isRejected()||(a={defer:t,fn:s(e)?e:o,ctx:r},this.isFulfilled()?this._callCallbacks([a],this._value):this._fulfilledCallbacks.push(a)),this.isFulfilled()||(a={defer:t,fn:i,ctx:r},this.isRejected()?this._callCallbacks([a],this._value):this._rejectedCallbacks.push(a)),this._status<=_.RESOLVED&&this._progressCallbacks.push({defer:t,fn:n,ctx:r})},_callCallbacks:function(t,e){var i=t.length;if(i){var o=this.isResolved(),r=this.isFulfilled();n(function(){for(var n,s,a,l=0;i>l;)if(n=t[l++],s=n.defer,a=n.fn){var u,h=n.ctx;try{u=h?a.call(h,e):a(e)}catch(c){s.reject(c);continue}o?s.resolve(u):s.notify(u)}else o?r?s.resolve(e):s.reject(e):s.notify(e)})}}};var y={cast:function(t){return v.cast(t)},all:function(t){return v.all(t)},race:function(t){return v.anyResolved(t)},resolve:function(t){return v.resolve(t)},reject:function(t){return v.reject(t)}};for(var E in y)y.hasOwnProperty(E)&&(m[E]=y[E]);var v={Deferred:f,Promise:m,defer:function(){return new f},when:function(t,e,i,o,n){return v.cast(t).then(e,i,o,n)},fail:function(t,e,i){return v.when(t,o,e,i)},always:function(t,e,i){return v.when(t).always(e,i)},progress:function(t,e,i){return v.when(t).progress(e,i)},spread:function(t,e,i,o){return v.when(t).spread(e,i,o)},done:function(t,e,i,o,n){v.when(t).done(e,i,o,n)},isPromise:function(t){return a(t)&&s(t.then)},cast:function(t){return t&&t._vow?t:v.resolve(t)},valueOf:function(t){return t&&s(t.valueOf)?t.valueOf():t},isFulfilled:function(t){return t&&s(t.isFulfilled)?t.isFulfilled():!0},isRejected:function(t){return t&&s(t.isRejected)?t.isRejected():!1},isResolved:function(t){return t&&s(t.isResolved)?t.isResolved():!0},resolve:function(t){var e=v.defer();return e.resolve(t),e.promise()},fulfill:function(t){var e=v.defer(),i=e.promise();return e.resolve(t),i.isFulfilled()?i:i.then(null,function(t){return t})},reject:function(t){var e=v.defer();return e.reject(t),e.promise()},invoke:function(t,e){var o,n=Math.max(arguments.length-1,0);if(n){o=Array(n);for(var r=0;n>r;)o[r++]=arguments[r]}try{return v.resolve(o?t.apply(i,o):t.call(i))}catch(s){return v.reject(s)}},all:function(t){var e=new f,i=u(t),o=i?h(t):c(t),n=o.length,r=i?[]:{};if(!n)return e.resolve(r),e.promise();var s=n;return v._forEach(t,function(t,i){r[o[i]]=t,--s||e.resolve(r)},e.reject,e.notify,e,o),e.promise()},allResolved:function(t){var e=new f,i=u(t),o=i?h(t):c(t),n=o.length,r=i?[]:{};if(!n)return e.resolve(r),e.promise();var s=function(){--n||e.resolve(t)};return v._forEach(t,s,s,e.notify,e,o),e.promise()},allPatiently:function(t){return v.allResolved(t).then(function(){var e,i,o,n,r=u(t),s=r?h(t):c(t),a=s.length,l=0;if(!a)return r?[]:{};for(;a>l;)o=s[l++],n=t[o],v.isRejected(n)?(e||(e=r?[]:{}),r?e.push(n.valueOf()):e[o]=n.valueOf()):e||((i||(i=r?[]:{}))[o]=v.valueOf(n));if(e)throw e;return i})},any:function(t){var e=new f,i=t.length;if(!i)return e.reject(Error()),e.promise();var o,n=0;return v._forEach(t,e.resolve,function(t){n||(o=t),++n===i&&e.reject(o)},e.notify,e),e.promise()},anyResolved:function(t){var e=new f,i=t.length;return i?(v._forEach(t,e.resolve,e.reject,e.notify,e),e.promise()):(e.reject(Error()),e.promise())},delay:function(t,e){return v.resolve(t).delay(e)},timeout:function(t,e){return v.resolve(t).timeout(e)},_forEach:function(t,e,i,o,n,r){for(var s=r?r.length:t.length,a=0;s>a;)v.when(t[r?r[a]:a],d(e,a),i,o,n),++a},TimedOutError:p("TimedOut")},g=!0;"object"==typeof e&&"object"==typeof e.exports&&(e.exports=v,g=!1),"object"==typeof modules&&s(modules.define)&&(modules.define("vow",function(t){t(v)}),g=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=v}),g=!1),g&&(i.vow=v)}(this)}).call(this,t("_process"))},{_process:1}],3:[function(t,e,i){var o=t("./logger/logger"),n=new o("AudioPlayer"),r=t("./lib/async/events"),s=t("./lib/async/deferred"),a=t("./lib/browser/detect"),l=t("./config"),u=t("./lib/data/merge"),h=t("./lib/async/reject"),c=t("./error/audio-error"),p=t("./audio-static"),d=1,f={html5:t("./html5/audio-html5"),flash:t("./flash/audio-flash")},_="@"+a.platform.version+" "+a.platform.os+":"+a.browser.name+"/"+a.browser.version;f.flash.priority=0,f.html5.priority=l.html5.blacklist.some(function(t){return _.match(t)})?-1:1,n.debug(null,"audioTypes",f);var m=function(t,e){this.name=d++,n.debug(this,"constructor"),r.call(this),this.preferredType=t,this.overlay=e,this.state=m.STATE_INIT,this._played=0,this._lastSkip=0,this._playId=null,this._whenReady=new s,this.whenReady=this._whenReady.promise().then(function(){n.info(this,"implementation found",this.implementation.type),this.implementation.on("*",function(t,e,i){if(this._populateEvents(t,e,i),!e)switch(t){case m.EVENT_PLAY:this._setState(m.STATE_PLAYING);break;case m.EVENT_ENDED:case m.EVENT_SWAP:case m.EVENT_STOP:case m.EVENT_ERROR:n.info(this,"onEnded",t,i),this._setState(m.STATE_IDLE);break;case m.EVENT_PAUSE:this._setState(m.STATE_PAUSED);break;case m.EVENT_CRASHED:this._setState(m.STATE_CRASHED)}}.bind(this)),this._setState(m.STATE_IDLE)}.bind(this),function(t){throw n.error(this,c.NO_IMPLEMENTATION,t),this._setState(m.STATE_CRASHED),t}.bind(this)),this._init(0)};r.mixin(m),u(m,p,!0),m.info={html5:f.html5.available,flash:f.flash.available},m.audioContext=f.html5.audioContext,m.prototype._setState=function(t){n.debug(this,"_setState",t);var e=this.state!==t;this.state=t,e&&(n.info(this,"newState",t),this.trigger(m.EVENT_STATE,t))},m.prototype._init=function(t){function e(){var n=i.shift();return n?void o._initType(n).then(o._whenReady.resolve,e):void o._init(t+1)}if(t=t||0,n.info(this,"_init",t),this._whenReady.pending){t>l.audio.retry&&(n.error(this,c.NO_IMPLEMENTATION),this._whenReady.reject(new c(c.NO_IMPLEMENTATION)));var i=[f.html5,f.flash].sort(function(t,e){return t.available!==e.available?t.available?-1:1:t.AudioImplementation.type===this.preferredType?-1:e.AudioImplementation.type===this.preferredType?1:e.priority-t.priority}.bind(this)),o=this;e()}},m.prototype._initType=function(t){n.info(this,"_initType",t);var e=new s;try{this.implementation=new t.AudioImplementation(this.overlay),this.implementation.whenReady?this.implementation.whenReady.then(e.resolve,e.reject):e.resolve()}catch(i){e.reject(i),n.warn(this,"_initTypeError",t,i)}return e.promise()},m.prototype._waitEvents=function(t,e,i){var o=new s,n=this;this[t]=o;var r=function(){e.forEach(function(t){n.off(t,o.resolve)}),i.forEach(function(t){n.off(t,o.reject)}),delete n[t]};return e.forEach(function(t){n.on(t,o.resolve)}),i.forEach(function(t){n.on(t,function(e){var i=e instanceof Error?e:new c(e||t);o.reject(i)})}),o.promise().then(r,r),o.promise()},m.prototype._populateEvents=function(t,e,i){t!==m.EVENT_PROGRESS&&n.debug(this,"_populateEvents",t,e,i);var o=(e?m.PRELOADER_EVENT:"")+t;switch(t){case m.EVENT_CRASHED:case m.EVENT_SWAP:this.trigger(t,i);break;case m.EVENT_ERROR:this.trigger(o,i);break;case m.EVENT_VOLUME:this.trigger(t,this.getVolume());break;case m.EVENT_PROGRESS:this.trigger(o,{duration:this.getDuration(e),loaded:this.getLoaded(e),position:e?0:this.getPosition(),played:e?0:this.getPlayed()});break;default:this.trigger(o)}},m.prototype.initPromise=function(){return this.whenReady},m.prototype.getState=function(){return this.state},m.prototype.getType=function(){return this.implementation&&this.implementation.type},m.prototype.getSrc=function(t){return this.implementation&&this.implementation.getSrc(t)},m.prototype.play=function(t,e){n.info(this,"play",t,e),this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("play"),this._whenPause&&this._whenPause.reject("play"),this._whenStop&&this._whenStop.reject("play");var i=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);return i.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED),this.implementation.play(t,e),i},m.prototype.restart=function(){return this.getDuration()?(this._generatePlayId(),this.setPosition(0),this.resume()):h(new c(c.BAD_STATE))},m.prototype.stop=function(t){if(n.info(this,"stop",t),0!==t)return this.implementation.stop(t);this._played=0,this._lastSkip=0,this._whenPlay&&this._whenPlay.reject("stop"),this._whenPause&&this._whenPause.reject("stop");var e;return e=this._whenStop?this._whenStop.promise():this._waitEvents("_whenStop",[m.EVENT_STOP],[m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.stop(),e},m.prototype.pause=function(){if(n.info(this,"pause"),this.state!==m.STATE_PLAYING)return h(new c(c.BAD_STATE));var t;return this._whenPlay&&this._whenPlay.reject("pause"),t=this._whenPause?this._whenPause.promise():this._waitEvents("_whenPause",[m.EVENT_PAUSE],[m.EVENT_STOP,m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.pause(),t},m.prototype.resume=function(){if(n.info(this,"resume"),this.state===m.STATE_PLAYING&&!this._whenPause)return Promise.resolve();if(this.state!==m.STATE_IDLE&&this.state!==m.STATE_PAUSED&&this.state!==m.STATE_PLAYING)return h(new c(c.BAD_STATE));var t;return this._whenPause&&this._whenPause.reject("resume"),t=this._whenPlay?this._whenPlay.promise():this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.resume(),t},m.prototype.playPreloaded=function(t){if(n.info(this,"playPreloaded",t),t||(t=this.getSrc(1)),!this.isPreloaded(t))return n.warn(this,"playPreloadedBadTrack",c.NOT_PRELOADED),h(new c(c.NOT_PRELOADED));this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("playPreloaded"),this._whenPause&&this._whenPause.reject("playPreloaded"),this._whenStop&&this._whenStop.reject("playPreloaded");var e=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);e.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED);var i=this.implementation.playPreloaded();return i||(n.warn(this,"playPreloadedError",c.NOT_PRELOADED),this._whenPlay.reject(new c(c.NOT_PRELOADED))),e},m.prototype.preload=function(t,e){n.info(this,"preload",t,e),this._whenPreload&&this._whenPreload.reject("preload");var i=this._waitEvents("_whenPreload",[m.PRELOADER_EVENT+m.EVENT_LOADING,m.EVENT_SWAP],[m.PRELOADER_EVENT+m.EVENT_CRASHED,m.PRELOADER_EVENT+m.EVENT_ERROR,m.PRELOADER_EVENT+m.EVENT_STOP]);return i.abort=function(){this._whenPreload&&(this._whenPreload.reject.apply(this._whenPreload,arguments),this.stop(1))}.bind(this),this.implementation.preload(t,e),i},m.prototype.isPreloaded=function(t){return this.implementation.isPreloaded(t)},m.prototype.isPreloading=function(t){return this.implementation.isPreloading(t,1)},m.prototype.getPosition=function(){return this.implementation.getPosition()},m.prototype.setPosition=function(t){return n.info(this,"setPosition",t),t="flash"==this.implementation.type?Math.max(0,Math.min(this.getLoaded(),t)):Math.max(0,Math.min(this.getDuration(),t)),this._played+=this.getPosition()-this._lastSkip,this._lastSkip=t,this.implementation.setPosition(t),t},m.prototype.getDuration=function(t){return this.implementation.getDuration(t?1:0)},m.prototype.getLoaded=function(t){return this.implementation.getLoaded(t?1:0)},m.prototype.getPlayed=function(){var t=this.getPosition();return this._played+=t-this._lastSkip,this._lastSkip=t,this._played},m.prototype.getVolume=function(){return this.implementation?this.implementation.getVolume():0},m.prototype.setVolume=function(t){return n.info(this,"setVolume",t),this.implementation?this.implementation.setVolume(t):0},m.prototype.isDeviceVolume=function(){return this.implementation?this.implementation.isDeviceVolume():!0},m.prototype.toggleCrossDomain=function(t){return"html5"!==this.implementation.type?(n.warn(this,"toggleCrossDomainFailed",this.implementation.type),!1):void this.implementation.toggleCrossDomain(t)},m.prototype.toggleWebAudioAPI=function(t){return n.info(this,"toggleWebAudioAPI",t),"html5"!==this.implementation.type?(n.warn(this,"toggleWebAudioAPIFailed",this.implementation.type),!1):this.implementation.toggleWebAudioAPI(t)},m.prototype.setAudioPreprocessor=function(t){return n.info(this,"setAudioPreprocessor"),"html5"!==this.implementation.type?(n.warn(this,"setAudioPreprocessorFailed",this.implementation.type),!1):this.implementation.setAudioPreprocessor(t)},m.prototype._generatePlayId=function(){this._playId=Math.random().toString().slice(2)},m.prototype.getPlayId=function(){return this._playId},m.prototype._logger=function(){return{index:this.implementation&&this.implementation.name,src:this.implementation&&this.implementation._logger(),type:this.implementation&&this.implementation.type}},e.exports=m},{"./audio-static":4,"./config":5,"./error/audio-error":6,"./flash/audio-flash":10,"./html5/audio-html5":24,"./lib/async/deferred":26,"./lib/async/events":27,"./lib/async/reject":29,"./lib/browser/detect":30,"./lib/data/merge":35,"./logger/logger":40}],4:[function(t,e,i){var o={};o.EVENT_PLAY="play",o.EVENT_STOP="stop",o.EVENT_PAUSE="pause",o.EVENT_PROGRESS="progress",o.EVENT_LOADING="loading",o.EVENT_LOADED="loaded",o.EVENT_VOLUME="volumechange",o.EVENT_ENDED="ended",o.EVENT_CRASHED="crashed",o.EVENT_ERROR="error",o.EVENT_STATE="state",o.EVENT_SWAP="swap",o.PRELOADER_EVENT="preloader:",o.STATE_INIT="init",o.STATE_CRASHED="crashed",o.STATE_IDLE="idle",o.STATE_PLAYING="playing",o.STATE_PAUSED="paused",e.exports=o},{}],5:[function(t,e,i){var o={audio:{retry:3},flash:{path:"dist",name:"player-2_0.swf",version:"9.0.28",playerID:"YandexAudioFlashPlayer",callback:"ya.Audio._flashCallback",initTimeout:3e3,loadTimeout:5e3,clickTimeout:1e3,heartBeatInterval:1e3},html5:{blacklist:["linux:mozilla","unix:mozilla","macos:mozilla",":opera","@NT 5","@NT 4"]}};e.exports=o},{}],6:[function(t,e,i){var o=t("../lib/class/error-class"),n=function(t){o.call(this,t)};n.prototype=o.create("AudioError"),n.NO_IMPLEMENTATION="cannot find suitable implementation",n.NOT_PRELOADED="track is not preloaded",n.BAD_STATE="action is not permited from current state",n.FLASH_BLOCKER="flash is rejected by flash blocker plugin",n.FLASH_UNKNOWN_CRASH="flash is crashed without reason",n.FLASH_INIT_TIMEOUT="flash init timed out",n.FLASH_INTERNAL_ERROR="flash internal error",n.FLASH_EMMITER_NOT_FOUND="flash event emmiter not found",n.FLASH_NOT_RESPONDING="flash player doesn't response",e.exports=n},{"../lib/class/error-class":33}],7:[function(t,e,i){t("../export");var o=t("./audio-error"),n=t("./playback-error");ya.Audio.AudioError=o,ya.Audio.PlaybackError=n},{"../export":9,"./audio-error":6,"./playback-error":8}],8:[function(t,e,i){var o=t("../lib/class/error-class"),n=function(t,e){o.call(this,t),this.src=e};n.prototype=o.create("PlaybackError"),n.CONNECTION_ABORTED="Connection aborted",n.NETWORK_ERROR="Network error",n.DECODE_ERROR="Decode error",n.BAD_DATA="Bad data",n.html5={1:n.CONNECTION_ABORTED,2:n.NETWORK_ERROR,3:n.DECODE_ERROR,4:n.BAD_DATA},e.exports=n},{"../lib/class/error-class":33}],9:[function(t,e,i){"undefined"==typeof window.ya&&(window.ya={});var o=window.ya;"undefined"==typeof o.Audio&&(o.Audio={});var n=t("./config"),r=t("./audio-player"),s=t("./lib/class/proxy");o.Audio=s.createClass(r),o.Audio.config=n,e.exports=o.Audio},{"./audio-player":3,"./config":5,"./lib/class/proxy":34}],10:[function(t,e,i){var o,n=t("../config"),r=t("../lib/browser/swfobject"),s=t("../lib/browser/detect"),a=t("../logger/logger"),l=new a("AudioFlash"),u=t("./flash-manager"),h=t("./flash-interface"),c=t("../lib/async/events"),p=1,d=r.getFlashPlayerVersion();s.flashVersion=d.major+"."+d.minor+"."+d.release,i.available=r.hasFlashPlayerVersion(n.flash.version),l.info(this,"detection",i.available);var f=function(t,e){this.name=p++,l.debug(this,"constructor"),(!o||e)&&(o=new u(t)),c.call(this),this.whenReady=o.createPlayer(this),this.whenReady.then(function(t){l.info(this,"ready",t)}.bind(this),function(t){l.error(this,"failed",t)}.bind(this))};c.mixin(f),f.type=f.prototype.type="flash",Object.keys(h.prototype).filter(function(t){return h.prototype.hasOwnProperty(t)&&"_"!==t[0]}).map(function(t){f.prototype[t]=function(){if(/^get/.test(t)||l.debug(this,t),!this.hasOwnProperty("id"))return l.warn(this,"player is not ready"),null;var e=[].slice.call(arguments);return e.unshift(this.id),o.flash[t].apply(o.flash,e)}}),f.prototype.isDeviceVolume=function(){return!1},f.prototype._logger=function(){try{return this.hasOwnProperty("id")?{main:this.getSrc(0),preloader:this.getSrc(1)}:{main:"not ready",preloader:"not ready"}}catch(t){return""}},i.AudioImplementation=f},{"../config":5,"../lib/async/events":27,"../lib/browser/detect":30,"../lib/browser/swfobject":31,"../logger/logger":40,"./flash-interface":11,"./flash-manager":12}],11:[function(t,e,i){var o=(t("../config"),t("../logger/logger")),n=new o("FlashInterface"),r=function(t){this.flash=ya.Audio._flash=t};r.prototype._callFlash=function(t){try{return this.flash.call.apply(this.flash,arguments)}catch(e){return n.error(this,"_callFlashError",e),null}},r.prototype._heartBeat=function(){this._callFlash("heartBeat",-1)},r.prototype._addPlayer=function(){return this._callFlash("addPlayer",-1)},r.prototype.setVolume=function(t,e){this._callFlash("setVolume",-1,e)},r.prototype.getVolume=function(){return this._callFlash("getVolume",-1)},r.prototype.play=function(t,e,i){this._callFlash("play",t,e,i)},r.prototype.stop=function(t,e){this._callFlash("stop",t,e||0)},r.prototype.pause=function(t){this._callFlash("pause",t)},r.prototype.resume=function(t){this._callFlash("resume",t)},r.prototype.getPosition=function(t){return this._callFlash("getPosition",t)},r.prototype.setPosition=function(t,e){this._callFlash("setPosition",t,e)},r.prototype.getDuration=function(t,e){return this._callFlash("getDuration",t,e||0)},r.prototype.getLoaded=function(t,e){return this._callFlash("getLoaded",t,e||0)},r.prototype.preload=function(t,e,i,o){return this._callFlash("preload",t,e,i,null==o?1:o)},r.prototype.isPreloaded=function(t,e,i){return this._callFlash("isPreloaded",t,e,null==i?1:i)},r.prototype.isPreloading=function(t,e,i){return this._callFlash("isPreloading",t,e,null==i?1:i)},r.prototype.playPreloaded=function(t,e){return this._callFlash("playPreloaded",t,null==e?1:e)},r.prototype.getSrc=function(t,e){return this._callFlash("getSrc",t,e||0)},e.exports=r},{"../config":5,"../logger/logger":40}],12:[function(t,e,i){var o=t("../logger/logger"),n=new o("FlashBridge"),r=t("../config"),s=t("../audio-static"),a=t("./loader"),l=t("./flash-interface"),u=t("../lib/async/deferred"),h=t("../error/audio-error"),c=t("../lib/net/error/loader-error"),p=function(t){n.debug(this,"constructor",t),this.state="init",this.overlay=t,this.emmiters=[];var e=this.deferred=new u;this.whenReady=this.deferred.promise();var i=r.flash.callback.split("."),o=i.pop(),s=window;if(i.forEach(function(t){s[t]||(s[t]={}),s=s[t]}),s[o]=this._onEvent.bind(this),this.__loadTimeout=setTimeout(this._onLoadTimeout.bind(this),r.flash.loadTimeout),a(r.flash.path+"/"+r.flash.name,r.flash.version,r.flash.playerID,this._onLoad.bind(this),{},t),t){var l;t.addEventListener("mousedown",function(){l=l||setTimeout(function(){e.reject(new h(h.FLASH_NOT_RESPONDING))},r.flash.clickTimeout)},!0)}this.whenReady.then(function(t){l=l&&clearTimeout(l),n.info(this,"ready",t)}.bind(this),function(t){n.error(this,"failed",t)}.bind(this))};p.EVENT_INIT="init",p.EVENT_FAIL="failed",p.prototype._onLoad=function(t){n.debug(this,"_onLoad",t),clearTimeout(this.__loadTimeout),delete this.__loadTimeout,t.success?(this.flash=new l(t.ref),"ready"===this.state?this.deferred.resolve(t.ref):this.overlay||(this.__initTimeout=setTimeout(this._onInitTimeout.bind(this),r.flash.initTimeout))):(this.state="failed",this.deferred.reject(new h(t.__fbn?h.FLASH_BLOCKER:h.FLASH_UNKNOWN_CRASH)))},p.prototype._onLoadTimeout=function(){this.state="failed",this.deferred.reject(new c(c.TIMEOUT))},p.prototype._onInitTimeout=function(){this.state="failed",this.deferred.reject(new h(h.FLASH_INIT_TIMEOUT))},p.prototype._onInit=function(){n.debug(this,"_onInit"),this.state="ready",this.__initTimeout&&(clearTimeout(this.__initTimeout),delete this.__initTimeout),this.flash&&(this.deferred.resolve(this.flash),this.__heartbeat=setInterval(this._onHeartBeat.bind(this),1e3))},p.prototype._onEvent=function(t,e,i,o){return"debug"===t&&console.debug("flashDEBUG",e,i,o),"failed"===this.state?void n.warn(this,"onEventFailed",t,e,i,o):(n.debug(this,"onEvent",t,e,i),t===p.EVENT_INIT?this._onInit():t===p.EVENT_FAIL?(n.warn(this,"failed",h.FLASH_INTERNAL_ERROR),void this.deferred.reject(new h(h.FLASH_INTERNAL_ERROR))):void(-1==e?this.emmiters.forEach(function(e){e.trigger(t,i,o)}):this.emmiters[e]?this.emmiters[e].trigger(t,i,o):n.error(this,h.FLASH_EMMITER_NOT_FOUND,e)))},p.prototype._onHeartBeat=function(){try{this.flash._heartBeat()}catch(t){n.error(this,"crashed",t),this._onEvent(s.EVENT_CRASHED,-1,t)}},p.prototype.createPlayer=function(t){n.debug(this,"createPlayer");var e=this.whenReady.then(function(){return t.id=this.flash._addPlayer(),this.emmiters[t.id]=t,t.id}.bind(this));return e.then(function(t){n.debug(this,"createPlayerSuccess",t)}.bind(this),function(t){n.error(this,"createPlayerError",t)}.bind(this)),e},e.exports=p},{"../audio-static":4,"../config":5,"../error/audio-error":6,"../lib/async/deferred":26,"../lib/net/error/loader-error":37,"../logger/logger":40,"./flash-interface":11,"./loader":15}],13:[function(t,e,i){function o(t){t.parentNode.removeChild(t)}var n=t("../lib/browser/swfobject"),r={__SWF_WRAPPER_CLASS:"fbn-swf-wrapper",__TIMEOUT:500,__TESTS:[function(t,e){return e.childNodes.length>1},function(t){return t.type&&"application/x-shockwave-flash"!=t.type},function(t){return!t.parentNode},function(t){return t.parentNode.className.indexOf("CTFnodisplay")>-1}],embedSWF:function(t,e,i,s,a,l,u,h,c,p,d){n&&n.addDomLoadEvent(function(){var f=document.getElementById(e);if(f){var _=document.createElement("div");_.className=r.__SWF_WRAPPER_CLASS,f.parentNode.replaceChild(_,f),_.appendChild(f),n.embedSWF(t,e,i,s,a,l,u,h,c,function(t){function i(t){if(d!==!1){n.removeSWF(e),o(_);var i=document.getElementById("CTFstack");i&&o(i);var r=document.body.lastChild;r&&"ujs_flashblock_placeholder"==r.className&&o(r)}t.success=!1,t.__fbn=!0,p(t)}if(t&&t.success!==!1){var s=t.ref,a=!1;try{a=s&&s.getSVGDocument&&s.getSVGDocument()}catch(l){}a?i(t):window.setTimeout(function(){for(var e=r.__TESTS,o=0,n=e.length;n>o;o++)if(e[o](s,_))return void i(t);p(t)},r.__TIMEOUT)}else p(t)})}})}};e.exports=r},{"../lib/browser/swfobject":31}],14:[function(t,e,i){var o=t("../lib/browser/swfobject"),n={__SWF_WRAPPER_CLASS:"femb-swf-wrapper",__TIMEOUT:500,embedSWF:function(t,e,i,r,s,a,l,u,h,c){o.addDomLoadEvent(function(){var p=document.getElementById(e);if(p){var d=document.createElement("div");d.className=n.__SWF_WRAPPER_CLASS,p.parentNode.replaceChild(d,p),d.appendChild(p),o.embedSWF(t,e,i,r,s,a,l,u,h,function(t){function e(t){t.success=!1,c(t)}if(t&&t.success!==!1){var i=t.ref,o=!1;try{o=i&&i.getSVGDocument&&i.getSVGDocument()}catch(r){}o?e(t):window.setTimeout(function(){c(t)},n.__TIMEOUT)}else c(t)})}})}};e.exports=n},{"../lib/browser/swfobject":31}],15:[function(t,e,i){var o=(t("../lib/browser/swfobject"),t("./flashblocknotifier")),n=t("./flashembedder"),r=t("../lib/browser/detect"),s="windows"===r.platform.os&&"safari"===r.browser.name,a="ya-flash-player-wrapper";e.exports=function(t,e,i,r,l,u,h,c){var p=document.createElement("div");p.id="wrapper_"+i,p.innerHTML='<div id="'+i+'"></div>',h=h||"1000",c=c||"1000";var d,f,_,m;return u&&!s?(d=n,f=h,_=c,m={allowscriptaccess:"always",wmode:"transparent"},p.className=a,p.style.cssText="position: relative; width: 100%; height: 100%; overflow: hidden;",u.appendChild(p)):(d=o,f=_="1",m={allowscriptaccess:"always"},p.style.cssText="position: absolute; left: -1px; top: -1px; width: 0px; height: 0px; overflow: hidden;",document.body.appendChild(p)),d.embedSWF(t,i,f,_,e,"",l,m,{},r),p}},{"../lib/browser/detect":30,"../lib/browser/swfobject":31,"./flashblocknotifier":13,"./flashembedder":14}],16:[function(t,e,i){e.exports=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3]},{}],17:[function(t,e,i){e.exports=[{id:"default",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"Classical",preamp:-.5,bands:[-.5,-.5,-.5,-.5,-.5,-.5,-3.5,-3.5,-3.5,-4.5]},{id:"Club",preamp:-3.359999895095825,bands:[-.5,-.5,4,2.5,2.5,2.5,1.5,-.5,-.5,-.5]},{id:"Dance",preamp:-2.1599998474121094,bands:[4.5,3.5,1,-.5,-.5,-2.5,-3.5,-3.5,-.5,-.5]},{id:"Full Bass",preamp:-3.5999999046325684,bands:[4,4.5,4.5,2.5,.5,-2,-4,-5,-5.5,-5.5]},{id:"Full Bass & Treble",preamp:-5.039999961853027,bands:[3.5,2.5,-.5,-3.5,-2,.5,4,5.5,6,6]},{id:"Full Treble",preamp:-6,bands:[-4.5,-4.5,-4.5,-2,1,5.5,8,8,8,8]},{id:"Laptop Speakers / Headphone",preamp:-4.079999923706055,bands:[2,5.5,2.5,-1.5,-1,.5,2,4.5,6,7]},{id:"Large Hall",preamp:-3.5999999046325684,bands:[5,5,2.5,2.5,-.5,-2,-2,-2,-.5,-.5]},{id:"Live",preamp:-2.6399998664855957,bands:[-2,-.5,2,2.5,2.5,2.5,2,1,1,1]},{id:"Party",preamp:-2.6399998664855957,bands:[3.5,3.5,-.5,-.5,-.5,-.5,-.5,-.5,3.5,3.5]},{id:"Pop",preamp:-3.119999885559082,bands:[-.5,2,3.5,4,2.5,-.5,-1,-1,-.5,-.5]},{id:"Reggae",preamp:-4.079999923706055,bands:[-.5,-.5,-.5,-2.5,-.5,3,3,-.5,-.5,-.5]},{id:"Rock",preamp:-5.039999961853027,bands:[4,2,-2.5,-4,-1.5,2,4,5.5,5.5,5.5]},{id:"Ska",preamp:-5.519999980926514,bands:[-1,-2,-2,-.5,2,2.5,4,4.5,5.5,4.5]},{id:"Soft",preamp:-4.799999713897705,bands:[2,.5,-.5,-1,-.5,2,4,4.5,5.5,6]},{id:"Soft Rock",preamp:-2.6399998664855957,bands:[2,2,1,-.5,-2,-2.5,-1.5,-.5,1,4]},{id:"Techno",preamp:-3.8399999141693115,bands:[4,2.5,-.5,-2.5,-2,-.5,4,4.5,4.5,4]}]},{}],18:[function(t,e,i){var o=t("../../lib/async/events"),n=t("./equalizer-static"),r=function(t,e,i){o.call(this),this.type=e,this.filter=t.createBiquadFilter(),
this.filter.type=e,this.filter.frequency.value=i,this.filter.Q.value=1,this.filter.gain.value=0};o.mixin(r),r.prototype.getFreq=function(){return this.filter.frequency.value},r.prototype.getValue=function(){return this.filter.gain.value},r.prototype.setValue=function(t){this.filter.gain.value=t,this.trigger(n.EVENT_CHANGE,t)},e.exports=r},{"../../lib/async/events":27,"./equalizer-static":19}],19:[function(t,e,i){var o={};o.EVENT_CHANGE="change",e.exports=o},{}],20:[function(t,e,i){var o=t("../../lib/async/events"),n=t("../../lib/data/merge"),r=t("./equalizer-static"),s=t("./equalizer-band"),a=function(t,e){o.call(this),this.preamp=new s(t,"highshelf",0),this.preamp.on("*",this._onBandEvent.bind(this,this.preamp));var i;this.bands=e.map(function(o,n){var r=new s(t,0==n?"lowshelf":n+1<e.length?"peaking":"highshelf",o);return r.on("*",this._onBandEvent.bind(this,r)),i?i.filter.connect(r.filter):this.preamp.filter.connect(r.filter),i=r,r}.bind(this)),this.input=this.preamp.filter,this.output=this.bands[this.bands.length-1].filter};o.mixin(a),n(a,r,!0),a.EVENT_CHANGE="change",a.DEFAULT_BANDS=t("./default.bands.js"),a.DEFAULT_PRESETS=t("./default.presets.js"),a.prototype._onBandEvent=function(t,e,i){this.trigger(e,t.getFreq(),i)},a.prototype.loadPreset=function(t){t.bands.forEach(function(t,e){this.bands[e].setValue(t)}.bind(this)),this.preamp.setValue(t.preamp)},a.prototype.savePreset=function(){return{preamp:this.preamp.getValue(),bands:this.bands.map(function(t){return t.getValue()})}},a.prototype.guessPreamp=function(){for(var t=0,e=0,i=this.bands.length;i>e;e++)t+=this.bands[e].getValue();return-t/2},e.exports=a},{"../../lib/async/events":27,"../../lib/data/merge":35,"./default.bands.js":16,"./default.presets.js":17,"./equalizer-band":18,"./equalizer-static":19}],21:[function(t,e,i){t("../export"),ya.Audio.fx.Equalizer=t("./equalizer")},{"../export":22,"./equalizer":20}],22:[function(t,e,i){t("../export"),ya.Audio.fx={}},{"../export":9}],23:[function(t,e,i){var o=t("../logger/logger"),n=new o("AudioHTML5Loader"),r=t("../lib/async/events"),s=t("../lib/async/deferred"),a=t("../audio-static"),l=t("../error/playback-error"),u=t("../lib/noop"),h=1,c=function(){this.name=h++,n.debug(this,"constructor"),r.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&n.debug(this,"onEvent",t)}.bind(this)),this.promises={},this.src="",this.position=0,this.lastUpdate=0,this.notLoading=!0,this.output=null,this.__startPlay=this._startPlay.bind(this),this.__restart=this._restart.bind(this),this.__startupAudio=this._startupAudio.bind(this),this.__updateProgress=this._updateProgress.bind(this),this.__onNativeLoading=this._onNativeLoading.bind(this),this.__onNativeEnded=this._onNativeEnded.bind(this),this.__onNativeError=this._onNativeError.bind(this),this.__onNativePause=this._onNativePause.bind(this),this.__onNativePlay=this.trigger.bind(this,a.EVENT_PLAY),this._initAudio()};r.mixin(c),c._updateInterval=30,c.EVENT_NATIVE_PLAY="play",c.EVENT_NATIVE_PAUSE="pause",c.EVENT_NATIVE_TIMEUPDATE="timeupdate",c.EVENT_NATIVE_ENDED="ended",c.EVENT_NATIVE_DURATION="durationchange",c.EVENT_NATIVE_LOADING="progress",c.EVENT_NATIVE_META="loadedmetadata",c.EVENT_NATIVE_CANPLAY="canplay",c.EVENT_NATIVE_ERROR="error",c.prototype._updateProgress=function(){var t=+new Date;t-this.lastUpdate<c._updateInterval||(this.lastUpdate=t,this.trigger(a.EVENT_PROGRESS))},c.prototype._onNativeLoading=function(){if(this._updateProgress(),this.audio.buffered.length){var t=this.audio.buffered.end(0)-this.audio.buffered.start(0);this.notLoading&&t&&(this.notLoading=!1,this.trigger(a.EVENT_LOADING)),t>=this.audio.duration-.1&&this.trigger(a.EVENT_LOADED)}},c.prototype._onNativeEnded=function(){this.trigger(a.EVENT_PROGRESS),this.trigger(a.EVENT_ENDED),this.ended=!0,this.playing=!1,this.audio.pause()},c.prototype._onNativeError=function(t){if(this.src){var e=new l(this.audio.error?l.html5[this.audio.error.code]:t instanceof Error?t.message:t,this.src);this.trigger(a.EVENT_ERROR,e)}},c.prototype._onNativePause=function(){this.ended||this.trigger(a.EVENT_PAUSE)},c.prototype._initAudio=function(){n.debug(this,"_initAudio"),this.muteEvents(),this.audio=document.createElement("audio"),this.audio.loop=!1,this.audio.preload=this.audio.autobuffer="auto",document.body.addEventListener("mousedown",this.__startupAudio),document.body.addEventListener("keydown",this.__startupAudio),document.body.addEventListener("touchstart",this.__startupAudio),this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.addEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.addEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._deinitAudio=function(){n.debug(this,"_deinitAudio"),this.muteEvents(),document.body.removeEventListener("mousedown",this.__startupAudio),document.body.removeEventListener("keydown",this.__startupAudio),document.body.removeEventListener("touchstart",this.__startupAudio),this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.removeEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.removeEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError),this.audio=null},c.prototype._startupAudio=function(){n.debug(this,"_startupAudio"),document.body.removeEventListener("mousedown",this.__startupAudio),document.body.removeEventListener("keydown",this.__startupAudio),document.body.removeEventListener("touchstart",this.__startupAudio),this.audio.play(),this.audio.pause(),setTimeout(function(){this.audio.pause(),this.unmuteEvents(),n.debug(this,"_startupAudio:ready")}.bind(this),0)},c.prototype._waitFor=function(t,e,i){if(!this.promises[t]){var o=new s;if(this.promises[t]=o,e.call(this))o.resolve();else{for(var n=function(){e.call(this)&&o.resolve()}.bind(this),r=function(){for(var t=0,e=i.length;e>t;t++)this.audio.removeEventListener(i[t],n)}.bind(this),a=0,l=i.length;l>a;a++)this.audio.addEventListener(i[a],n);o.promise().then(r,r)}}return this.promises[t].promise()},c.prototype._cancelWait=function(t,e){var i;(i=this.promises[t])&&(delete this.promises[t],i.reject(e))},c.prototype._abortPromises=function(t){for(var e in this.promises)this.promises.hasOwnProperty(e)&&this._cancelWait(e,t)},c._promiseMetadataEvents=[c.EVENT_NATIVE_META,c.EVENT_NATIVE_CANPLAY],c.prototype._promiseMetadataCheck=function(){return this.audio.readyState>this.audio.HAVE_METADATA},c.prototype._promiseMetadata=function(){return this._waitFor("metadata",this._promiseMetadataCheck,c._promiseMetadataEvents)},c._promiseLoadedEvents=[c.EVENT_NATIVE_LOADING],c.prototype._promiseLoadedCheck=function(){this.__loaderTimer=this.__loaderTimer&&clearTimeout(this.__loaderTimer)||setTimeout(function(){this._cancelWait("loaded","timeout")}.bind(this),2e3);var t=Math.min(this.position+30,this.audio.duration);return this.audio.buffered.length&&this.audio.buffered.end(0)-this.audio.buffered.start(0)>=t},c.prototype._promiseLoaded=function(){var t=this._waitFor("loaded",this._promiseLoadedCheck,c._promiseLoadedEvents);return t.cleanTimer||(t.cleanTimer=function(){this.__loaderTimer=clearTimeout(this.__loaderTimer)}.bind(this),t.then(t.cleanTimer,t.cleanTimer)),t},c._promisePlayingEvents=[c.EVENT_NATIVE_TIMEUPDATE],c.prototype._promisePlayingCheck=function(){var t=Math.min(this.position+.2,this.audio.duration);return this.audio.currentTime>=t},c.prototype._promisePlaying=function(){return this._waitFor("playing",this._promisePlayingCheck,c._promisePlayingEvents)},c.prototype._promiseStartPlaying=function(){if(!this.promises.startPlaying){var t=new s;this.promises.startPlaying=t;var e,i=this._cancelWait.bind(this,"startPlaying"),o=function(){clearTimeout(e)};this._promisePlaying().then(function(){t.resolve(),n.info(this,"startPlaying:success")}.bind(this),i),this._promiseLoaded().then(function(){e=setTimeout(function(){t.reject("timeout"),this._cancelWait("playing","timeout"),n.warn(this,"startPlaying:failed")}.bind(this),2e3)}.bind(this),i),this._promisePlaying().then(o,o),t.promise().then(o,o)}return this.promises.startPlaying.promise()},c.prototype.load=function(t){n.debug(this,"load",t),this._abortPromises("load"),this.ended=!1,this.playing=!1,this.notLoading=!0,this.position=0,this.src=t,this.audio.src=t,this.audio.load()},c.prototype.stop=function(){n.debug(this,"stop"),this._abortPromises("stop"),this.load("")},c.prototype._startPlay=function(){n.debug(this,"_startPlay"),this.audio.currentTime=this.position,this.playing&&(this.audio.play(),this._promiseStartPlaying().then(u,this.__restart))},c.prototype._restart=function(t){if(n.info(this,"_restart",t),!t||"timeout"===t){var e=this.position,i=this.playing;this.load(this.src),i?this.play(e):this.setPosition(e)}},c.prototype.play=function(t){n.debug(this,"play",t),this.playing||(this.ended=!1,this.playing=!0,this.position=null==t?this.position||0:t,this._promiseMetadata().then(this.__startPlay,u))},c.prototype.pause=function(){n.debug(this,"pause"),this.playing=!1,this._cancelWait("startPlaying","pause"),this.audio.pause(),this.position=this.audio.currentTime},c.prototype.setPosition=function(t){n.debug(this,"setPosition",t),this.position=t,this._promiseMetadata().then(function(){this.audio.currentTime=this.position}.bind(this),u)},c.prototype.toggleCrossDomain=function(t){t?this.audio.crossOrigin="anonymous":this.audio.removeAttribute("crossOrigin"),this._restart()},c.prototype.createSource=function(t){if(!this.output){n.debug(this,"createSource");var e=!this.audio.crossOrigin;this.audio.crossOrigin="anonymous",this.output=t.createMediaElementSource(this.audio),this.output.connect(t.destination),e&&this._restart()}},c.prototype.destroySource=function(){this.output&&(n.warn(this,"destroySource"),this.output.disconnect(),this.output=null,this._abortPromises(),this._deinitAudio(),this._initAudio(),this._startupAudio(),this._restart())},c.prototype.destroy=function(){n.debug(this,"destroy"),this.output&&(this.output.disconnect(),this.output=null),this._abortPromises(),this._deinitAudio(),this.__restart=null,this.__startPlay=null,this.promises=null},c.prototype._logger=function(){return{src:this.src,playing:this.playing,ended:this.ended,notLoading:this.notLoading,position:this.position}},e.exports=c},{"../audio-static":4,"../error/playback-error":8,"../lib/async/deferred":26,"../lib/async/events":27,"../lib/noop":38,"../logger/logger":40}],24:[function(t,e,i){var o=t("../logger/logger"),n=new o("AudioHTML5"),r=t("../lib/browser/detect"),s=t("../lib/async/events"),a=t("../audio-static"),l=(t("../error/playback-error"),t("./audio-html5-loader")),u=1;i.available=function(){var t=!0;try{var e=document.createElement("audio"),i=e.canPlayType("audio/mpeg");i&&"no"!==i||(n.warn(this,"HTML5 detection failed with reason",i),t=!1)}catch(o){n.warn(this,"HTML5 detection failed with error",o),t=!1}return n.info(this,"detection",t),t}();try{var h=new AudioContext;n.info(this,"WenAudioAPI context created")}catch(c){h=null,n.info(this,"WenAudioAPI not detected")}var p=function(){this.name=u++,n.debug(this,"constructor"),s.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&n.debug(this,"onEvent",t)}.bind(this)),this.webAudioApi=!1,this.activeLoader=0,this.volume=1,this.loaders=[],this._addLoader(),this._addLoader(),this._setActive(0)};s.mixin(p),p.type=p.prototype.type="html5",p.prototype._addLoader=function(){n.debug(this,"_addLoader");var t=this,e=new l;e.index=this.loaders.push(e)-1,e.on("*",function(i,o){var n=(t.loaders.length+e.index-t.activeLoader)%t.loaders.length;t.trigger(i,n,o)}),this.webAudioApi&&e.createSource(h)},p.prototype._setActive=function(t){n.debug(this,"_setActive",t),this.activeLoader=(this.activeLoader+t)%this.loaders.length,this.trigger(a.EVENT_SWAP,t),0!==t&&this.stop(t)},p.prototype._getLoader=function(t){return t=t||0,this.loaders[(this.activeLoader+t)%this.loaders.length]},p.prototype.toggleCrossDomain=function(t){this.loaders.forEach(function(e){e.toggleCrossDomain(t)})},p.prototype.toggleWebAudioAPI=function(t){return h?(n.info(this,"toggleWebAudioAPI",t),this.webAudioApi==t?t:(t?(this.audioOutput=h.createGain(),this.audioOutput.gain.value=this.volume,this.audioOutput.connect(h.destination),this.preprocessor&&this.preprocessor.output.connect(this.audioOutput),this.loaders.forEach(function(t){t.audio.volume=1,t.createSource(h),t.output.disconnect(),t.output.connect(this.preprocessor?this.preprocessor.input:this.audioOutput)}.bind(this))):this.audioOutput&&(this.preprocessor&&this.preprocessor.output.disconnect(),this.audioOutput.disconnect(),delete this.audioOutput,this.loaders.forEach(function(t){t.audio.volume=this.volume,t.output.disconnect(),t.output.connect(h.destination)}.bind(this))),this.webAudioApi=t,t)):(n.warn(this,"toggleWebAudioAPIError",t),!1)},p.prototype.setAudioPreprocessor=function(t){return this.webAudioApi?(n.info(this,"setAudioPreprocessor"),this.preprocessor===t?!0:(this.preprocessor&&this.preprocessor.output.disconnect(),this.preprocessor=t,t?(this.loaders.forEach(function(e){e.output.disconnect(),e.output.connect(t.input)}),t.output.connect(this.audioOutput),!0):(this.loaders.forEach(function(t){t.output.disconnect(),t.output.connect(this.audioOutput)}.bind(this)),!0))):(n.warn(this,"setAudioPreprocessorError",t),!1)},p.prototype.play=function(t,e){n.info(this,"play",t);var i=this._getLoader();i.load(t),i.play(0)},p.prototype.pause=function(){n.info(this,"pause");var t=this._getLoader();t.pause()},p.prototype.resume=function(){n.info(this,"resume");var t=this._getLoader();t.play()},p.prototype.stop=function(t){n.info(this,"stop");var e=this._getLoader(t||0);e.stop(),this.trigger(a.EVENT_STOP,t)},p.prototype.getPosition=function(){return this._getLoader().audio.currentTime},p.prototype.setPosition=function(t){n.info(this,"setPosition",t),this._getLoader().setPosition(t-.001)},p.prototype.getDuration=function(t){return this._getLoader(t).audio.duration},p.prototype.getLoaded=function(t){var e=this._getLoader(t);return e.audio.buffered.length?e.audio.buffered.end(0)-e.audio.buffered.start(0):0},p.prototype.getVolume=function(){return this.volume},p.prototype.setVolume=function(t){n.info(this,"setVolume",t),this.volume=t,this.webAudioApi?this.audioOutput.gain.value=t:this.loaders.forEach(function(e){e.audio.volume=t}),this.trigger(a.EVENT_VOLUME)},p.prototype.preload=function(t,e,i){n.info(this,"preload",t,i),i=null==i?1:i;var o=this._getLoader(i);o.load(t)},p.prototype.isPreloaded=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t&&!i.notLoading},p.prototype.isPreloading=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t},p.prototype.playPreloaded=function(t){n.info(this,"playPreloaded",t),t=null==t?1:t;var e=this._getLoader(t);return e.src?(this._setActive(t),e.play(),!0):!1},p.prototype.getSrc=function(t){return this._getLoader(t).src},p.prototype.isDeviceVolume=function(){return r.onlyDeviceVolume},p.prototype._logger=function(){try{return{main:this.getSrc(0),preloader:this.getSrc(1)}}catch(t){return""}},i.audioContext=h,i.AudioImplementation=p},{"../audio-static":4,"../error/playback-error":8,"../lib/async/events":27,"../lib/browser/detect":30,"../logger/logger":40,"./audio-html5-loader":23}],25:[function(t,e,i){var o=t("./export");t("./error/export"),t("./lib/net/error/export"),t("./logger/export"),t("./fx/equalizer/export"),e.exports=o},{"./error/export":7,"./export":9,"./fx/equalizer/export":21,"./lib/net/error/export":36,"./logger/export":39}],26:[function(t,e,i){var o=t("./promise"),n=t("../noop"),r=function(){var t=this,e=new o(function(e,i){t.resolve=e,t.reject=i}),i=e.then(function(e){return t.resolved=!0,t.pending=!1,e},function(e){throw t.rejected=!0,t.pending=!1,e});i["catch"](n),this.pending=!0,this.rejected=!1,this.promise=function(){return i}};r.when=function(){var t=new r,e=[].slice.call(arguments),i=e.length,o=function(){i--,0>=i&&t.resolve()};return e.forEach(function(e){e.then(o,t.reject)}),e=null,t.promise.abort=t.reject,t.promise()},e.exports=r},{"../noop":38,"./promise":28}],27:[function(t,e,i){var o=t("../data/merge"),n="_listeners",r="_muted",s=function(){this[n]={},this[r]=!1};s.mixin=function(t){return o(t.prototype,s.prototype,!0),t},s.eventize=function(t){return o(t,s.prototype,!0),s.call(t),t},s.prototype.on=function(t,e){return this[n][t]||(this[n][t]=[]),this[n][t].push(e),this},s.prototype.off=function(t,e){if(!this[n][t])return this;if(!e)return delete this[n][t],this;for(var i=this[n][t],o=0,r=i.length;r>o;o++)if(i[o]===e||i[o].callback===e){i.splice(o,1),i.length||delete this[n][t];break}return this},s.prototype.once=function(t,e){var i=this,o=function(){i.off(t,o),e.apply(this,arguments)};return o.callback=e,i.on(t,o),this},s.prototype.clearListeners=function(){for(var t in this[n])this[n].hasOwnProperty(t)&&delete this[n][t];return this},s.prototype.trigger=function(t,e){if(this[r])return this;if(e=[].slice.call(arguments,1),"*"!==t&&s.prototype.trigger.apply(this,["*",t].concat(e)),!this[n][t])return this;for(var i=[].concat(this[n][t]),o=0,a=i.length;a>o;o++)i[o].apply(null,e);return this},s.prototype.pipeEvents=function(t){return this.on("*",s.prototype.trigger.bind(t)),this},s.prototype.muteEvents=function(){return this[r]=!0,this},s.prototype.unmuteEvents=function(){return delete this[r],this},e.exports=s},{"../data/merge":35}],28:[function(t,e,i){var o,n=t("vow"),r=t("../browser/detect");o="function"!=typeof window.Promise||"msie"===r.browser.name||"edge"===r.browser.name?n.Promise:window.Promise,e.exports=o},{"../browser/detect":30,vow:2}],29:[function(t,e,i){var o=t("../noop"),n=t("./promise"),r=function(t){var e=n.reject(t);return e["catch"](o),e};e.exports=r},{"../noop":38,"./promise":28}],30:[function(t,e,i){var o=navigator.userAgent.toLowerCase(),n=/(webkit)[ \/]([\w.]+)/,r=/(yabrowser)[ \/]([\w.]+)/,s=/(opr|opera)(?:.*version)?[ \/]([\w.]+)/,a=/(msie) ([\w.]+)/,l=/(edge)\/([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,h=/^((?!chrome).)*version\/([\d\w\.]+).*(safari)/,c=h.exec(o)||r.exec(o)||l.exec(o)||s.exec(o)||n.exec(o)||a.exec(o)||o.indexOf("compatible")<0&&u.exec(o)||[],p={name:c[1]||"",version:c[2]||"0"};"safari"===c[3]&&(p.name=c[3]),"msie"===p.name&&(document.documentMode?p.documentMode=document.documentMode:(p.documentMode=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(p.documentMode=7))),"opr"===p.name&&(p.name="opera"),"mozilla"===p.name&&"11"===p.version.split(".")[0]&&(p.name="msie");var d=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,f=/(ipad|playbook)/,_=/(android)/,m=/(mobile)/;E=d.exec(o)||[];var y=f.exec(o)||!m.exec(o)&&_.exec(o)||[];E[1]&&(E[1]=E[1].replace(/\s/g,"_"));var E={type:E[1]||"",tablet:!!y[1],mobile:E[1]&&!y[1]||!1};E.type||(E.type="pc"),E.os=E.type,"ipad"===E.type||"iphone"===E.type||"ipod"===E.type?E.os="ios":"android"===E.type?E.os="android":-1!==navigator.appVersion.indexOf("Win")?(E.os="windows",E.version=navigator.userAgent.match(/win[^ ]* ([^;]*)/i),E.version=E.version&&E.version[1]):-1!==navigator.appVersion.indexOf("Mac")?E.os="macos":-1!==navigator.appVersion.indexOf("X11")?E.os="unix":-1!==navigator.appVersion.indexOf("Linux")&&(E.os="linux");var v=!0;try{var g=document.createElement("audio");g.volume=.63,v=Math.abs(g.volume-.63)>.01}catch(b){v=!0}var T={browser:p,platform:E,onlyDeviceVolume:v};e.exports=T},{}],31:[function(t,e,i){var o=function(){function t(){if(!G){try{var t=j.getElementsByTagName("body")[0].appendChild(y("span"));t.parentNode.removeChild(t)}catch(e){return}G=!0;for(var i=U.length,o=0;i>o;o++)U[o]()}}function e(t){G?t():U[U.length]=t}function i(t){if(typeof k.addEventListener!=V)k.addEventListener("load",t,!1);else if(typeof j.addEventListener!=V)j.addEventListener("load",t,!1);else if(typeof k.attachEvent!=V)E(k,"onload",t);else if("function"==typeof k.onload){var e=k.onload;k.onload=function(){e(),t()}}else k.onload=t}function n(){M?r():s()}function r(){var t=j.getElementsByTagName("body")[0],e=y(O);e.setAttribute("type",x);var i=t.appendChild(e);if(i){var o=0;!function(){if(typeof i.GetVariable!=V){var n=i.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),Y.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(10>o)return o++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,s()}()}else s()}function s(){var t=B.length;if(t>0)for(var e=0;t>e;e++){var i=B[e].id,o=B[e].callbackFn,n={success:!1,id:i};if(Y.pv[0]>0){var r=m(i);if(r)if(!v(B[e].swfVersion)||Y.wk&&Y.wk<312)if(B[e].expressInstall&&l()){var s={};s.data=B[e].expressInstall,s.width=r.getAttribute("width")||"0",s.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(s.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(s.align=r.getAttribute("align"));for(var c={},p=r.getElementsByTagName("param"),d=p.length,f=0;d>f;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(c[p[f].getAttribute("name")]=p[f].getAttribute("value"));u(s,c,i,o)}else h(r),o&&o(n);else b(i,!0),o&&(n.success=!0,n.ref=a(i),o(n))}else if(b(i,!0),o){var _=a(i);_&&typeof _.SetVariable!=V&&(n.success=!0,n.ref=_),o(n)}}}function a(t){var e=null,i=m(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=V)e=i;else{var o=i.getElementsByTagName(O)[0];o&&(e=o)}return e}function l(){return!q&&v("6.0.65")&&(Y.win||Y.mac)&&!(Y.wk&&Y.wk<312)}function u(t,e,i,o){q=!0,N=o||null,P={success:!1,id:i};var n=m(i);if(n){"OBJECT"==n.nodeName?(w=c(n),A=null):(w=n,A=i),t.id=D,(typeof t.width==V||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==V||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var r=Y.ie&&Y.win?"ActiveX":"PlugIn",s="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+j.title;if(typeof e.flashvars!=V?e.flashvars+="&"+s:e.flashvars=s,Y.ie&&Y.win&&4!=n.readyState){var a=y("div");i+="SWFObjectNew",a.setAttribute("id",i),n.parentNode.insertBefore(a,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}p(t,e,i)}}function h(t){if(Y.ie&&Y.win&&4!=t.readyState){var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=y("div");if(Y.win&&Y.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(O)[0];if(i){var o=i.childNodes;if(o)for(var n=o.length,r=0;n>r;r++)1==o[r].nodeType&&"PARAM"==o[r].nodeName||8==o[r].nodeType||e.appendChild(o[r].cloneNode(!0))}}return e}function p(t,e,i){var o,n=m(i);if(Y.wk&&Y.wk<312)return o;if(n)if(typeof t.id==V&&(t.id=i),Y.ie&&Y.win){var r="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?r+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(r+=" "+s+'="'+t[s]+'"'));var a="";for(var l in e)e[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+e[l]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+a+"</object>",H[H.length]=t.id,o=m(t.id)}else{var u=y(O);u.setAttribute("type",x);for(var h in t)t[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?u.setAttribute("class",t[h]):"classid"!=h.toLowerCase()&&u.setAttribute(h,t[h]));for(var c in e)e[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&d(u,c,e[c]);n.parentNode.replaceChild(u,n),o=u}return o}function d(t,e,i){var o=y("param");o.setAttribute("name",e),o.setAttribute("value",i),t.appendChild(o)}function f(t){var e=m(t);e&&"OBJECT"==e.nodeName&&(Y.ie&&Y.win?(e.style.display="none",function(){4==e.readyState?_(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function _(t){var e=m(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}function m(t){var e=null;try{e=j.getElementById(t)}catch(i){}return e}function y(t){return j.createElement(t)}function E(t,e,i){t.attachEvent(e,i),W[W.length]=[t,e,i]}function v(t){var e=Y.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]?!0:!1}function g(t,e,i,o){if(!Y.ie||!Y.mac){var n=j.getElementsByTagName("head")[0];if(n){var r=i&&"string"==typeof i?i:"screen";if(o&&(L=null,S=null),!L||S!=r){var s=y("style");s.setAttribute("type","text/css"),s.setAttribute("media",r),L=n.appendChild(s),Y.ie&&Y.win&&typeof j.styleSheets!=V&&j.styleSheets.length>0&&(L=j.styleSheets[j.styleSheets.length-1]),S=r}Y.ie&&Y.win?L&&typeof L.addRule==O&&L.addRule(t,e):L&&typeof j.createTextNode!=V&&L.appendChild(j.createTextNode(t+" {"+e+"}"))}}}function b(t,e){if(z){var i=e?"visible":"hidden";G&&m(t)?m(t).style.visibility=i:g("#"+t,"visibility:"+i)}}function T(t){var e=/[\\\"<>\.;]/,i=null!=e.exec(t);return i&&typeof encodeURIComponent!=V?encodeURIComponent(t):t}var w,A,N,P,L,S,V="undefined",O="object",R="Shockwave Flash",I="ShockwaveFlash.ShockwaveFlash",x="application/x-shockwave-flash",D="SWFObjectExprInst",C="onreadystatechange",k=window,j=document,F=navigator,M=!1,U=[n],B=[],H=[],W=[],G=!1,q=!1,z=!0,Y=function(){var t=typeof j.getElementById!=V&&typeof j.getElementsByTagName!=V&&typeof j.createElement!=V,e=F.userAgent.toLowerCase(),i=F.platform.toLowerCase(),o=i?/win/.test(i):/win/.test(e),n=i?/mac/.test(i):/mac/.test(e),r=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,a=[0,0,0],l=null;if(typeof F.plugins!=V&&typeof F.plugins[R]==O)l=F.plugins[R].description,!l||typeof F.mimeTypes!=V&&F.mimeTypes[x]&&!F.mimeTypes[x].enabledPlugin||(M=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k.ActiveXObject!=V)try{var u=new ActiveXObject(I);u&&(l=u.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(h){}return{w3:t,pv:a,wk:r,ie:s,win:o,mac:n}}();(function(){Y.w3&&((typeof j.readyState!=V&&"complete"==j.readyState||typeof j.readyState==V&&(j.getElementsByTagName("body")[0]||j.body))&&t(),G||(typeof j.addEventListener!=V&&j.addEventListener("DOMContentLoaded",t,!1),Y.ie&&Y.win&&(j.attachEvent(C,function(){"complete"==j.readyState&&(j.detachEvent(C,arguments.callee),t())}),k==top&&!function(){if(!G){try{j.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t()}}()),Y.wk&&!function(){return G?void 0:/loaded|complete/.test(j.readyState)?void t():void setTimeout(arguments.callee,0)}(),i(t)))})(),function(){Y.ie&&Y.win&&window.attachEvent("onunload",function(){for(var t=W.length,e=0;t>e;e++)W[e][0].detachEvent(W[e][1],W[e][2]);for(var i=H.length,n=0;i>n;n++)f(H[n]);for(var r in Y)Y[r]=null;Y=null;for(var s in o)o[s]=null;o=null})}();return{registerObject:function(t,e,i,o){if(Y.w3&&t&&e){var n={};n.id=t,n.swfVersion=e,n.expressInstall=i,n.callbackFn=o,B[B.length]=n,b(t,!1)}else o&&o({success:!1,id:t})},getObjectById:function(t){return Y.w3?a(t):void 0},embedSWF:function(t,i,o,n,r,s,a,h,c,d){var f={success:!1,id:i};Y.w3&&!(Y.wk&&Y.wk<312)&&t&&i&&o&&n&&r?(b(i,!1),e(function(){o+="",n+="";var e={};if(c&&typeof c===O)for(var _ in c)e[_]=c[_];e.data=t,e.width=o,e.height=n;var m={};if(h&&typeof h===O)for(var y in h)m[y]=h[y];if(a&&typeof a===O)for(var E in a)typeof m.flashvars!=V?m.flashvars+="&"+E+"="+a[E]:m.flashvars=E+"="+a[E];if(v(r)){var g=p(e,m,i);e.id==i&&b(i,!0),f.success=!0,f.ref=g}else{if(s&&l())return e.data=s,void u(e,m,i,d);b(i,!0)}d&&d(f)})):d&&d(f)},switchOffAutoHideShow:function(){z=!1},ua:Y,getFlashPlayerVersion:function(){return{major:Y.pv[0],minor:Y.pv[1],release:Y.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(t,e,i){return Y.w3?p(t,e,i):void 0},showExpressInstall:function(t,e,i,o){Y.w3&&l()&&u(t,e,i,o)},removeSWF:function(t){Y.w3&&f(t)},createCSS:function(t,e,i,o){Y.w3&&g(t,e,i,o)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=j.location.search||j.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return T(e);for(var i=e.split("&"),o=0;o<i.length;o++)if(i[o].substring(0,i[o].indexOf("="))==t)return T(i[o].substring(i[o].indexOf("=")+1))}return""},expressInstallCallback:function(){if(q){var t=m(D);t&&w&&(t.parentNode.replaceChild(w,t),A&&(b(A,!0),Y.ie&&Y.win&&(w.style.display="block")),N&&N(P)),q=!1}}}}();e.exports=o},{}],32:[function(t,e,i){var o=function(t){var e=function(){};return e.prototype=t.prototype,new e};e.exports=o},{}],33:[function(t,e,i){var o=t("./clear-instance"),n=function(t,e){var i=new Error(t,e);i.name=this.name,this.message=i.message,this.stack=i.stack};n.create=function(t){var e=o(n);return e.name=t,e},n.prototype=o(Error),n.prototype.name="ErrorClass",e.exports=n},{"./clear-instance":32}],34:[function(t,e,i){var o=t("../async/events"),n=function(t){if(t){for(var e in t)"_"===e[0]||"function"!=typeof t[e]||t[e]===Object.prototype[e]||t.hasOwnProperty(e)||o.prototype.hasOwnProperty(e)||(this[e]=t[e].bind(t));t.pipeEvents&&(o.call(this),this.on=o.prototype.on,this.once=o.prototype.once,this.off=o.prototype.off,this.clearListeners=o.prototype.clearListeners,t.pipeEvents(this))}};n.exportStatic=function(t,e,i){i=i||[],Object.keys(t).forEach(function(o){t.hasOwnProperty(o)&&"_"!==o[0]&&"prototype"!==o&&-1===i.indexOf(o)&&(e[o]=t[o])})},n.createClass=function(t,e){var i=function(){var e=function(){};e.prototype=t.prototype;var i=new e;return t.apply(i,arguments),i._proxy()},o=function(){};o.prototype=(e||n).prototype,i.prototype=new o;var r;for(var s in t.prototype)r=t.prototype[s],Object.prototype[s]!=r&&"function"!=typeof r&&"_"!==s[0]&&(i.prototype[s]=r);var a=function(t){var e=n.prototype;n.prototype=i.prototype;var o=new n(t);return n.prototype=e,o};return t.prototype._proxy=function(){return this.__proxy||(this.__proxy=a(this)),this.__proxy},n.exportStatic(t,i),i},e.exports=n},{"../async/events":27}],35:[function(t,e,i){var o=function(t){var e,i,o=[].slice.call(arguments,1);if(o[o.length-1]===!0)e=t,o.pop();else{e={};for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}for(var n=0,r=o.length;r>n;n++)for(i in o[n])o[n].hasOwnProperty(i)&&(e[i]=o[n][i]);return e};e.exports=o},{}],36:[function(t,e,i){t("../../../export");var o=t("./loader-error");ya.Audio.LoaderError=o},{"../../../export":9,"./loader-error":37}],37:[function(t,e,i){var o=t("../../class/error-class"),n=function(t){o.call(this,t)};n.prototype=o.create("LoaderError"),n.TIMEOUT="request timeout",n.FAILED="request failed",e.exports=n},{"../../class/error-class":33}],38:[function(t,e,i){var o=function(){};e.exports=o},{}],39:[function(t,e,i){t("../export");var o=t("./logger");ya.Audio.Logger=o},{"../export":9,"./logger":40}],40:[function(t,e,i){var o=["debug","log","info","warn","error","trace"],n=t("../lib/noop"),r=function(t){this.channel=t};r.ignores=[],r.logLevels=[],r.prototype.debug=n,r.prototype.log=n,r.prototype.info=n,r.prototype.warn=n,r.prototype.error=n,r.prototype.trace=n,o.forEach(function(t){r.prototype[t]=function(){var e=[].slice.call(arguments);e.unshift(this.channel),e.unshift(t),r.log.apply(r,e)}}),r.log=function(t,e,i){var o=[].slice.call(arguments,3).map(function(t){return t&&t._logger&&t._logger()||t}),n={timestamp:+new Date,level:t,channel:e,context:i,
message:o};r.ignores[e]||-1===r.logLevels.indexOf(t)||r._dumpEntry(n)},r._dumpEntry=function(t){try{var e=t.level,i=t.context&&(t.context.taskName||t.context.name),o=t.context&&(t.context._logger?t.context._logger():"");"function"!=typeof console[e]?console.log.apply(console,[e.toUpperCase(),r._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",o].concat(t.message)):console[e].apply(console,[r._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",o].concat(t.message))}catch(n){}},r._formatTimestamp=function(t){var e=new Date(t),i=e.getMilliseconds();return i=i>100?i:i>10?"0"+i:"00"+i,e.toLocaleTimeString()+"."+i},e.exports=r},{"../lib/noop":38}]},{},[25]);
//# sourceMappingURL=dist/index.map.json
