!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){function n(){h=!1,a.length?l=a.concat(l):c=-1,l.length&&o()}function o(){if(!h){var t=setTimeout(n);h=!0;for(var e=l.length;e;){for(a=l,l=[];++c<e;)a&&a[c].run();c=-1,e=l.length}a=null,h=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},l=[],h=!1,c=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new r(t,e)),1!==l.length||h||setTimeout(o,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],2:[function(t,e,i){(function(t){!function(i){var n,o=function(){var e=[],n=function(t){return 1===e.push(t)},o=function(){var t=e,i=0,n=e.length;for(e=[];n>i;)t[i++]()};if("function"==typeof setImmediate)return function(t){n(t)&&setImmediate(o)};if("object"==typeof t&&t.nextTick)return function(e){n(e)&&t.nextTick(o)};var r=i.MutationObserver||i.WebKitMutationObserver;if(r){var s=1,a=document.createTextNode("");return new r(o).observe(a,{characterData:!0}),function(t){n(t)&&(a.data=s*=-1)}}if(i.postMessage){var u=!0;if(i.attachEvent){var l=function(){u=!1};i.attachEvent("onmessage",l),i.postMessage("__checkAsync","*"),i.detachEvent("onmessage",l)}if(u){var h="__promise"+ +new Date,c=function(t){t.data===h&&(t.stopPropagation&&t.stopPropagation(),o())};return i.addEventListener?i.addEventListener("message",c,!0):i.attachEvent("onmessage",c),function(t){n(t)&&i.postMessage(h,"*")}}}var p=i.document;if("onreadystatechange"in p.createElement("script")){var d=function(){var t=p.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,o()},(p.documentElement||p.body).appendChild(t)};return function(t){n(t)&&d()}}return function(t){n(t)&&setTimeout(o,0)}}(),r=function(t){o(function(){throw t})},s=function(t){return"function"==typeof t},a=function(t){return null!==t&&"object"==typeof t},u=Object.prototype.toString,l=Array.isArray||function(t){return"[object Array]"===u.call(t)},h=function(t){for(var e=[],i=0,n=t.length;n>i;)e.push(i++);return e},c=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},p=function(t){var e=function(e){this.name=t,this.message=e};return e.prototype=new Error,e},d=function(t,e){return function(i){t.call(this,i,e)}},f=function(){this._promise=new m};f.prototype={promise:function(){return this._promise},resolve:function(t){this._promise.isResolved()||this._promise._resolve(t)},reject:function(t){this._promise.isResolved()||(v.isPromise(t)?(t=t.then(function(t){var e=v.defer();return e.reject(t),e.promise()}),this._promise._resolve(t)):this._promise._reject(t))},notify:function(t){this._promise.isResolved()||this._promise._notify(t)}};var _={PENDING:0,RESOLVED:1,FULFILLED:2,REJECTED:3},m=function(t){if(this._value=n,this._status=_.PENDING,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],t){var e=this,i=t.length;t(function(t){e.isResolved()||e._resolve(t)},i>1?function(t){e.isResolved()||e._reject(t)}:n,i>2?function(t){e.isResolved()||e._notify(t)}:n)}};m.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==_.PENDING},isFulfilled:function(){return this._status===_.FULFILLED},isRejected:function(){return this._status===_.REJECTED},then:function(t,e,i,n){var o=new f;return this._addCallbacks(o,t,e,i,n),o.promise()},"catch":function(t,e){return this.then(n,t,e)},fail:function(t,e){return this.then(n,t,e)},always:function(t,e){var i=this,n=function(){return t.call(this,i)};return this.then(n,n,e)},progress:function(t,e){return this.then(n,n,t,e)},spread:function(t,e,i){return this.then(function(e){return t.apply(this,e)},e,i)},done:function(t,e,i,n){this.then(t,e,i,n).fail(r)},delay:function(t){var e,i=this.then(function(i){var n=new f;return e=setTimeout(function(){n.resolve(i)},t),n.promise()});return i.always(function(){clearTimeout(e)}),i},timeout:function(t){var e=new f,i=setTimeout(function(){e.reject(new v.TimedOutError("timed out"))},t);return this.then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise().always(function(){clearTimeout(i)}),e.promise()},_vow:!0,_resolve:function(t){if(!(this._status>_.RESOLVED)){if(t===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=_.RESOLVED,t&&t._vow)return void(t.isFulfilled()?this._fulfill(t.valueOf()):t.isRejected()?this._reject(t.valueOf()):t.then(this._fulfill,this._reject,this._notify,this));if(a(t)||s(t)){var e;try{e=t.then}catch(i){return void this._reject(i)}if(s(e)){var n=this,o=!1;try{e.call(t,function(t){o||(o=!0,n._resolve(t))},function(t){o||(o=!0,n._reject(t))},function(t){n._notify(t)})}catch(i){o||this._reject(i)}return}}this._fulfill(t)}},_fulfill:function(t){this._status>_.RESOLVED||(this._status=_.FULFILLED,this._value=t,this._callCallbacks(this._fulfilledCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=n)},_reject:function(t){this._status>_.RESOLVED||(this._status=_.REJECTED,this._value=t,this._callCallbacks(this._rejectedCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=n)},_notify:function(t){this._callCallbacks(this._progressCallbacks,t)},_addCallbacks:function(t,e,i,o,r){i&&!s(i)?(r=i,i=n):o&&!s(o)&&(r=o,o=n);var a;this.isRejected()||(a={defer:t,fn:s(e)?e:n,ctx:r},this.isFulfilled()?this._callCallbacks([a],this._value):this._fulfilledCallbacks.push(a)),this.isFulfilled()||(a={defer:t,fn:i,ctx:r},this.isRejected()?this._callCallbacks([a],this._value):this._rejectedCallbacks.push(a)),this._status<=_.RESOLVED&&this._progressCallbacks.push({defer:t,fn:o,ctx:r})},_callCallbacks:function(t,e){var i=t.length;if(i){var n=this.isResolved(),r=this.isFulfilled();o(function(){for(var o,s,a,u=0;i>u;)if(o=t[u++],s=o.defer,a=o.fn){var l,h=o.ctx;try{l=h?a.call(h,e):a(e)}catch(c){s.reject(c);continue}n?s.resolve(l):s.notify(l)}else n?r?s.resolve(e):s.reject(e):s.notify(e)})}}};var E={cast:function(t){return v.cast(t)},all:function(t){return v.all(t)},race:function(t){return v.anyResolved(t)},resolve:function(t){return v.resolve(t)},reject:function(t){return v.reject(t)}};for(var y in E)E.hasOwnProperty(y)&&(m[y]=E[y]);var v={Deferred:f,Promise:m,defer:function(){return new f},when:function(t,e,i,n,o){return v.cast(t).then(e,i,n,o)},fail:function(t,e,i){return v.when(t,n,e,i)},always:function(t,e,i){return v.when(t).always(e,i)},progress:function(t,e,i){return v.when(t).progress(e,i)},spread:function(t,e,i,n){return v.when(t).spread(e,i,n)},done:function(t,e,i,n,o){v.when(t).done(e,i,n,o)},isPromise:function(t){return a(t)&&s(t.then)},cast:function(t){return t&&t._vow?t:v.resolve(t)},valueOf:function(t){return t&&s(t.valueOf)?t.valueOf():t},isFulfilled:function(t){return t&&s(t.isFulfilled)?t.isFulfilled():!0},isRejected:function(t){return t&&s(t.isRejected)?t.isRejected():!1},isResolved:function(t){return t&&s(t.isResolved)?t.isResolved():!0},resolve:function(t){var e=v.defer();return e.resolve(t),e.promise()},fulfill:function(t){var e=v.defer(),i=e.promise();return e.resolve(t),i.isFulfilled()?i:i.then(null,function(t){return t})},reject:function(t){var e=v.defer();return e.reject(t),e.promise()},invoke:function(t,e){var n,o=Math.max(arguments.length-1,0);if(o){n=Array(o);for(var r=0;o>r;)n[r++]=arguments[r]}try{return v.resolve(n?t.apply(i,n):t.call(i))}catch(s){return v.reject(s)}},all:function(t){var e=new f,i=l(t),n=i?h(t):c(t),o=n.length,r=i?[]:{};if(!o)return e.resolve(r),e.promise();var s=o;return v._forEach(t,function(t,i){r[n[i]]=t,--s||e.resolve(r)},e.reject,e.notify,e,n),e.promise()},allResolved:function(t){var e=new f,i=l(t),n=i?h(t):c(t),o=n.length,r=i?[]:{};if(!o)return e.resolve(r),e.promise();var s=function(){--o||e.resolve(t)};return v._forEach(t,s,s,e.notify,e,n),e.promise()},allPatiently:function(t){return v.allResolved(t).then(function(){var e,i,n,o,r=l(t),s=r?h(t):c(t),a=s.length,u=0;if(!a)return r?[]:{};for(;a>u;)n=s[u++],o=t[n],v.isRejected(o)?(e||(e=r?[]:{}),r?e.push(o.valueOf()):e[n]=o.valueOf()):e||((i||(i=r?[]:{}))[n]=v.valueOf(o));if(e)throw e;return i})},any:function(t){var e=new f,i=t.length;if(!i)return e.reject(Error()),e.promise();var n,o=0;return v._forEach(t,e.resolve,function(t){o||(n=t),++o===i&&e.reject(n)},e.notify,e),e.promise()},anyResolved:function(t){var e=new f,i=t.length;return i?(v._forEach(t,e.resolve,e.reject,e.notify,e),e.promise()):(e.reject(Error()),e.promise())},delay:function(t,e){return v.resolve(t).delay(e)},timeout:function(t,e){return v.resolve(t).timeout(e)},_forEach:function(t,e,i,n,o,r){for(var s=r?r.length:t.length,a=0;s>a;)v.when(t[r?r[a]:a],d(e,a),i,n,o),++a},TimedOutError:p("TimedOut")},g=!0;"object"==typeof e&&"object"==typeof e.exports&&(e.exports=v,g=!1),"object"==typeof modules&&s(modules.define)&&(modules.define("vow",function(t){t(v)}),g=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=v}),g=!1),g&&(i.vow=v)}(this)}).call(this,t("_process"))},{_process:1}],3:[function(t,e,i){var n=t("./logger/logger"),o=new n("AudioPlayer"),r=t("./lib/async/events"),s=t("./lib/async/deferred"),a=t("./lib/browser/detect"),u=t("./config"),l=t("./lib/data/merge"),h=t("./lib/async/reject"),c=t("./error/audio-error"),p=t("./audio-static"),d=1,f={html5:t("./html5/audio-html5"),flash:t("./flash/audio-flash")},_="@"+a.platform.version+" "+a.platform.os+":"+a.browser.name+"/"+a.browser.version;f.flash.priority=0,f.html5.priority=u.html5.blacklist.some(function(t){return _.match(t)})?-1:1,setTimeout(function(){o.info({flash:{available:f.flash.available,priority:f.flash.priority},html5:{available:f.html5.available,priority:f.html5.priority,audioContext:!!f.html5.audioContext}},"audioTypes")},0);var m=function(t,e){this.name=d++,o.debug(this,"constructor"),r.call(this),this.preferredType=t,this.overlay=e,this.state=m.STATE_INIT,this._played=0,this._lastSkip=0,this._playId=null,this._whenReady=new s,this.whenReady=this._whenReady.promise().then(function(){o.info(this,"implementation found",this.implementation.type),this.implementation.on("*",function(t,e,i){if(this._populateEvents(t,e,i),!e)switch(t){case m.EVENT_PLAY:this._setState(m.STATE_PLAYING);break;case m.EVENT_ENDED:case m.EVENT_SWAP:case m.EVENT_STOP:case m.EVENT_ERROR:o.info(this,"onEnded",t,i),this._setState(m.STATE_IDLE);break;case m.EVENT_PAUSE:this._setState(m.STATE_PAUSED);break;case m.EVENT_CRASHED:this._setState(m.STATE_CRASHED)}}.bind(this)),this._setState(m.STATE_IDLE)}.bind(this),function(t){throw o.error(this,c.NO_IMPLEMENTATION,t),this._setState(m.STATE_CRASHED),t}.bind(this)),this._init(0)};r.mixin(m),l(m,p,!0),m.info={html5:f.html5.available,flash:f.flash.available},m.audioContext=f.html5.audioContext,m.prototype._setState=function(t){o.debug(this,"_setState",t);var e=this.state!==t;this.state=t,e&&(o.info(this,"newState",t),this.trigger(m.EVENT_STATE,t))},m.prototype._init=function(t){function e(){var o=i.shift();return o?void n._initType(o).then(n._whenReady.resolve,e):void n._init(t+1)}if(t=t||0,o.info(this,"_init",t),this._whenReady.pending){t>u.audio.retry&&(o.error(this,c.NO_IMPLEMENTATION),this._whenReady.reject(new c(c.NO_IMPLEMENTATION)));var i=[f.html5,f.flash].sort(function(t,e){return t.available!==e.available?t.available?-1:1:t.AudioImplementation.type===this.preferredType?-1:e.AudioImplementation.type===this.preferredType?1:e.priority-t.priority}.bind(this)),n=this;e()}},m.prototype._initType=function(t){o.info(this,"_initType",t);var e=new s;try{this.implementation=new t.AudioImplementation(this.overlay),this.implementation.whenReady?this.implementation.whenReady.then(e.resolve,e.reject):e.resolve()}catch(i){e.reject(i),o.warn(this,"_initTypeError",t,i)}return e.promise()},m.prototype._waitEvents=function(t,e,i){var n=new s,o=this;this[t]=n;var r=function(){e.forEach(function(t){o.off(t,n.resolve)}),i.forEach(function(t){o.off(t,n.reject)}),delete o[t]};return e.forEach(function(t){o.on(t,n.resolve)}),i.forEach(function(t){o.on(t,function(e){var i=e instanceof Error?e:new c(e||t);n.reject(i)})}),n.promise().then(r,r),n.promise()},m.prototype._populateEvents=function(t,e,i){t!==m.EVENT_PROGRESS&&o.debug(this,"_populateEvents",t,e,i);var n=(e?m.PRELOADER_EVENT:"")+t;switch(t){case m.EVENT_CRASHED:case m.EVENT_SWAP:this.trigger(t,i);break;case m.EVENT_ERROR:o.error(this,"error",n,i),this.trigger(n,i);break;case m.EVENT_VOLUME:this.trigger(t,this.getVolume());break;case m.EVENT_PROGRESS:this.trigger(n,{duration:this.getDuration(e),loaded:this.getLoaded(e),position:e?0:this.getPosition(),played:e?0:this.getPlayed()});break;default:this.trigger(n)}},m.prototype.initPromise=function(){return this.whenReady},m.prototype.getState=function(){return this.state},m.prototype.getType=function(){return this.implementation&&this.implementation.type},m.prototype.getSrc=function(t){return this.implementation&&this.implementation.getSrc(t)},m.prototype.play=function(t,e){o.info(this,"play",t,e),this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("play"),this._whenPause&&this._whenPause.reject("play"),this._whenStop&&this._whenStop.reject("play");var i=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);return i.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED),this.implementation.play(t,e),i},m.prototype.restart=function(){return this.getDuration()?(this._generatePlayId(),this.setPosition(0),this.resume()):h(new c(c.BAD_STATE))},m.prototype.stop=function(t){if(o.info(this,"stop",t),0!==t)return this.implementation.stop(t);this._played=0,this._lastSkip=0,this._whenPlay&&this._whenPlay.reject("stop"),this._whenPause&&this._whenPause.reject("stop");var e;return e=this._whenStop?this._whenStop.promise():this._waitEvents("_whenStop",[m.EVENT_STOP],[m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.stop(),e},m.prototype.pause=function(){if(o.info(this,"pause"),this.state!==m.STATE_PLAYING)return h(new c(c.BAD_STATE));var t;return this._whenPlay&&this._whenPlay.reject("pause"),t=this._whenPause?this._whenPause.promise():this._waitEvents("_whenPause",[m.EVENT_PAUSE],[m.EVENT_STOP,m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.pause(),t},m.prototype.resume=function(){if(o.info(this,"resume"),this.state===m.STATE_PLAYING&&!this._whenPause)return Promise.resolve();if(this.state!==m.STATE_IDLE&&this.state!==m.STATE_PAUSED&&this.state!==m.STATE_PLAYING)return h(new c(c.BAD_STATE));var t;return this._whenPause&&this._whenPause.reject("resume"),this._whenPlay?t=this._whenPlay.promise():(t=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]),t.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this)),this.implementation.resume(),t},m.prototype.playPreloaded=function(t){if(o.info(this,"playPreloaded",t),t||(t=this.getSrc(1)),!this.isPreloaded(t))return o.warn(this,"playPreloadedBadTrack",c.NOT_PRELOADED),h(new c(c.NOT_PRELOADED));this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("playPreloaded"),this._whenPause&&this._whenPause.reject("playPreloaded"),this._whenStop&&this._whenStop.reject("playPreloaded");var e=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);e.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED);var i=this.implementation.playPreloaded();return i||(o.warn(this,"playPreloadedError",c.NOT_PRELOADED),this._whenPlay.reject(new c(c.NOT_PRELOADED))),e},m.prototype.preload=function(t,e){if("msie"===a.browser.name&&"9"==a.browser.version[0])return h(new c(c.NOT_PRELOADED));o.info(this,"preload",t,e),this._whenPreload&&this._whenPreload.reject("preload");var i=this._waitEvents("_whenPreload",[m.PRELOADER_EVENT+m.EVENT_LOADING,m.EVENT_SWAP],[m.PRELOADER_EVENT+m.EVENT_CRASHED,m.PRELOADER_EVENT+m.EVENT_ERROR,m.PRELOADER_EVENT+m.EVENT_STOP]);return i.abort=function(){this._whenPreload&&(this._whenPreload.reject.apply(this._whenPreload,arguments),this.stop(1))}.bind(this),this.implementation.preload(t,e),i},m.prototype.isPreloaded=function(t){return this.implementation.isPreloaded(t)},m.prototype.isPreloading=function(t){return this.implementation.isPreloading(t,1)},m.prototype.getPosition=function(){return this.implementation.getPosition()||0},m.prototype.setPosition=function(t){return o.info(this,"setPosition",t),t="flash"==this.implementation.type?Math.max(0,Math.min(this.getLoaded()-1,t)):Math.max(0,Math.min(this.getDuration()-1,t)),this._played+=this.getPosition()-this._lastSkip,this._lastSkip=t,this.implementation.setPosition(t),t},m.prototype.getDuration=function(t){return this.implementation.getDuration(t?1:0)||0},m.prototype.getLoaded=function(t){return this.implementation.getLoaded(t?1:0)||0},m.prototype.getPlayed=function(){var t=this.getPosition();return this._played+=t-this._lastSkip,this._lastSkip=t,this._played},m.prototype.getVolume=function(){return this.implementation?this.implementation.getVolume():0},m.prototype.setVolume=function(t){return o.info(this,"setVolume",t),this.implementation?this.implementation.setVolume(t):0},m.prototype.isDeviceVolume=function(){return this.implementation?this.implementation.isDeviceVolume():!0},m.prototype.toggleCrossDomain=function(t){return"html5"!==this.implementation.type?(o.warn(this,"toggleCrossDomainFailed",this.implementation.type),!1):void this.implementation.toggleCrossDomain(t)},m.prototype.toggleWebAudioAPI=function(t){return o.info(this,"toggleWebAudioAPI",t),"html5"!==this.implementation.type?(o.warn(this,"toggleWebAudioAPIFailed",this.implementation.type),!1):this.implementation.toggleWebAudioAPI(t)},m.prototype.setAudioPreprocessor=function(t){return o.info(this,"setAudioPreprocessor"),"html5"!==this.implementation.type?(o.warn(this,"setAudioPreprocessorFailed",this.implementation.type),!1):this.implementation.setAudioPreprocessor(t)},m.prototype._generatePlayId=function(){this._playId=Math.random().toString().slice(2)},m.prototype.getPlayId=function(){return this._playId},m.prototype._logger=function(){return{index:this.implementation&&this.implementation.name,src:this.implementation&&this.implementation._logger(),type:this.implementation&&this.implementation.type}},e.exports=m},{"./audio-static":4,"./config":5,"./error/audio-error":6,"./flash/audio-flash":10,"./html5/audio-html5":26,"./lib/async/deferred":28,"./lib/async/events":29,"./lib/async/reject":31,"./lib/browser/detect":32,"./lib/data/merge":37,"./logger/logger":42}],4:[function(t,e,i){var n={};n.EVENT_PLAY="play",n.EVENT_STOP="stop",n.EVENT_PAUSE="pause",n.EVENT_PROGRESS="progress",n.EVENT_LOADING="loading",n.EVENT_LOADED="loaded",n.EVENT_VOLUME="volumechange",n.EVENT_ENDED="ended",n.EVENT_CRASHED="crashed",n.EVENT_ERROR="error",n.EVENT_STATE="state",n.EVENT_SWAP="swap",n.PRELOADER_EVENT="preloader:",n.STATE_INIT="init",n.STATE_CRASHED="crashed",n.STATE_IDLE="idle",n.STATE_PLAYING="playing",n.STATE_PAUSED="paused",e.exports=n},{}],5:[function(t,e,i){var n={audio:{retry:3},flash:{path:"dist",name:"player-2_1.swf",version:"9.0.28",playerID:"YandexAudioFlashPlayer",callback:"ya.music.Audio._flashCallback",initTimeout:3e3,loadTimeout:5e3,clickTimeout:1e3,heartBeatInterval:1e3},html5:{blacklist:["linux:mozilla","unix:mozilla","macos:mozilla",":opera/12","@NT 5","@NT 4",":msie/9"]}};e.exports=n},{}],6:[function(t,e,i){var n=t("../lib/class/error-class"),o=function(t){n.call(this,t)};o.prototype=n.create("AudioError"),o.NO_IMPLEMENTATION="cannot find suitable implementation",o.NOT_PRELOADED="track is not preloaded",o.BAD_STATE="action is not permited from current state",o.FLASH_BLOCKER="flash is rejected by flash blocker plugin",o.FLASH_UNKNOWN_CRASH="flash is crashed without reason",o.FLASH_INIT_TIMEOUT="flash init timed out",o.FLASH_INTERNAL_ERROR="flash internal error",o.FLASH_EMMITER_NOT_FOUND="flash event emmiter not found",o.FLASH_NOT_RESPONDING="flash player doesn't response",e.exports=o},{"../lib/class/error-class":35}],7:[function(t,e,i){t("../export");var n=t("./audio-error"),o=t("./playback-error");ya.music.Audio.AudioError=n,ya.music.Audio.PlaybackError=o},{"../export":9,"./audio-error":6,"./playback-error":8}],8:[function(t,e,i){var n=t("../lib/class/error-class"),o=function(t,e){n.call(this,t),this.src=e};o.prototype=n.create("PlaybackError"),o.CONNECTION_ABORTED="Connection aborted",o.NETWORK_ERROR="Network error",o.DECODE_ERROR="Decode error",o.BAD_DATA="Bad data",o.html5={1:o.CONNECTION_ABORTED,2:o.NETWORK_ERROR,3:o.DECODE_ERROR,4:o.BAD_DATA},e.exports=o},{"../lib/class/error-class":35}],9:[function(t,e,i){"undefined"==typeof window.ya&&(window.ya={});var n=window.ya;"undefined"==typeof n.music&&(n.music={}),"undefined"==typeof n.music.Audio&&(n.music.Audio={});var o=t("./config"),r=t("./audio-player"),s=t("./lib/class/proxy");n.music.Audio=s.createClass(r),n.music.Audio.config=o,e.exports=n.music.Audio},{"./audio-player":3,"./config":5,"./lib/class/proxy":36}],10:[function(t,e,i){var n,o=t("../config"),r=t("../lib/browser/swfobject"),s=t("../lib/browser/detect"),a=t("../logger/logger"),u=new a("AudioFlash"),l=t("./flash-manager"),h=t("./flash-interface"),c=t("../lib/async/events"),p=1,d=r.getFlashPlayerVersion();s.flashVersion=d.major+"."+d.minor+"."+d.release,i.available=r.hasFlashPlayerVersion(o.flash.version),u.info(this,"detection",i.available);var f=function(t,e){this.name=p++,u.debug(this,"constructor"),(!n||e)&&(n=new l(t)),c.call(this),this.whenReady=n.createPlayer(this),this.whenReady.then(function(t){u.info(this,"ready",t)}.bind(this),function(t){u.error(this,"failed",t)}.bind(this))};c.mixin(f),f.type=f.prototype.type="flash",Object.keys(h.prototype).filter(function(t){return h.prototype.hasOwnProperty(t)&&"_"!==t[0]}).map(function(t){f.prototype[t]=function(){if(/^get/.test(t)||u.debug(this,t),!this.hasOwnProperty("id"))return u.warn(this,"player is not ready"),null;var e=[].slice.call(arguments);return e.unshift(this.id),n.flash[t].apply(n.flash,e)}}),f.prototype.isDeviceVolume=function(){return!1},f.prototype._logger=function(){try{return this.hasOwnProperty("id")?{main:this.getSrc(0),preloader:this.getSrc(1)}:{main:"not ready",preloader:"not ready"}}catch(t){return""}},i.AudioImplementation=f},{"../config":5,"../lib/async/events":29,"../lib/browser/detect":32,"../lib/browser/swfobject":33,"../logger/logger":42,"./flash-interface":11,"./flash-manager":12}],11:[function(t,e,i){var n=t("../logger/logger"),o=new n("FlashInterface"),r=function(t){this.flash=ya.music.Audio._flash=t};r.prototype._callFlash=function(t){try{return this.flash.call.apply(this.flash,arguments)}catch(e){return o.error(this,"_callFlashError",e,arguments[0],arguments[1],arguments[2]),null}},r.prototype._heartBeat=function(){this._callFlash("heartBeat",-1)},r.prototype._addPlayer=function(){return this._callFlash("addPlayer",-1)},r.prototype.setVolume=function(t,e){this._callFlash("setVolume",-1,e)},r.prototype.getVolume=function(){return this._callFlash("getVolume",-1)},r.prototype.play=function(t,e,i){this._callFlash("play",t,e,i)},r.prototype.stop=function(t,e){this._callFlash("stop",t,e||0)},r.prototype.pause=function(t){this._callFlash("pause",t)},r.prototype.resume=function(t){this._callFlash("resume",t)},r.prototype.getPosition=function(t){return this._callFlash("getPosition",t)},r.prototype.setPosition=function(t,e){this._callFlash("setPosition",t,e)},r.prototype.getDuration=function(t,e){return this._callFlash("getDuration",t,e||0)},r.prototype.getLoaded=function(t,e){return this._callFlash("getLoaded",t,e||0)},r.prototype.preload=function(t,e,i,n){return this._callFlash("preload",t,e,i,null==n?1:n)},r.prototype.isPreloaded=function(t,e,i){return this._callFlash("isPreloaded",t,e,null==i?1:i)},r.prototype.isPreloading=function(t,e,i){return this._callFlash("isPreloading",t,e,null==i?1:i)},r.prototype.playPreloaded=function(t,e){return this._callFlash("playPreloaded",t,null==e?1:e)},r.prototype.getSrc=function(t,e){return this._callFlash("getSrc",t,e||0)},e.exports=r},{"../logger/logger":42}],12:[function(t,e,i){var n=t("../logger/logger"),o=new n("FlashManager"),r=t("../config"),s=t("../audio-static"),a=t("./loader"),u=t("./flash-interface"),l=t("../lib/async/promise"),h=t("../lib/async/deferred"),c=t("../error/audio-error"),p=t("../lib/net/error/loader-error"),d=function(t){o.debug(this,"constructor",t),this.state="init",this.overlay=t,this.emmiters=[];var e=this.deferred=new h;this.whenReady=this.deferred.promise();var i=r.flash.callback.split("."),n=i.pop(),s=window;if(i.forEach(function(t){s[t]||(s[t]={}),s=s[t]}),s[n]=this._onEvent.bind(this),this.__loadTimeout=setTimeout(this._onLoadTimeout.bind(this),r.flash.loadTimeout),a(r.flash.path+"/"+r.flash.name,r.flash.version,r.flash.playerID,this._onLoad.bind(this),{},t),t){var u;t.addEventListener("mousedown",function(){u=u||setTimeout(function(){e.reject(new c(c.FLASH_NOT_RESPONDING))},r.flash.clickTimeout)},!0)}this.whenReady.then(function(t){u=u&&clearTimeout(u),o.info(this,"ready",t)}.bind(this),function(t){o.error(this,"failed",t)}.bind(this))};d.EVENT_INIT="init",d.EVENT_FAIL="failed",d.EVENT_ERROR="error",d.EVENT_DEBUG="debug",d.prototype._onLoad=function(t){o.debug(this,"_onLoad",t),clearTimeout(this.__loadTimeout),delete this.__loadTimeout,t.success?(this.flash=new u(t.ref),"ready"===this.state?this.deferred.resolve(t.ref):this.overlay||(this.__initTimeout=setTimeout(this._onInitTimeout.bind(this),r.flash.initTimeout))):(this.state="failed",this.deferred.reject(new c(t.__fbn?c.FLASH_BLOCKER:c.FLASH_UNKNOWN_CRASH)))},d.prototype._onLoadTimeout=function(){this.state="failed",this.deferred.reject(new p(p.TIMEOUT))},d.prototype._onInitTimeout=function(){this.state="failed",this.deferred.reject(new c(c.FLASH_INIT_TIMEOUT))},d.prototype._onInit=function(){o.debug(this,"_onInit"),this.state="ready",this.__initTimeout&&(clearTimeout(this.__initTimeout),delete this.__initTimeout),this.flash&&(this.deferred.resolve(this.flash),this.__heartbeat=setInterval(this._onHeartBeat.bind(this),1e3))},d.prototype._onEvent=function(t,e,i,n){return"failed"===this.state?void o.warn(this,"onEventFailed",t,e,i,n):(t===d.EVENT_DEBUG?o.info(this,"flashDEBUG",e,i,n):t===d.EVENT_ERROR?o.warn(this,"flashError",e,i,n):o.debug(this,"onEvent",t,e,i),t===d.EVENT_INIT?this._onInit():t===d.EVENT_FAIL?(o.warn(this,"failed",c.FLASH_INTERNAL_ERROR),void this.deferred.reject(new c(c.FLASH_INTERNAL_ERROR))):void(-1==e?l.resolve().then(function(){this.emmiters.forEach(function(e){e.trigger(t,i,n)})}.bind(this)):this.emmiters[e]?l.resolve().then(function(){this.emmiters[e].trigger(t,i,n)}.bind(this)):o.error(this,c.FLASH_EMMITER_NOT_FOUND,e)))},d.prototype._onHeartBeat=function(){try{this.flash._heartBeat()}catch(t){o.error(this,"crashed",t),this._onEvent(s.EVENT_CRASHED,-1,t)}},d.prototype.createPlayer=function(t){o.debug(this,"createPlayer");var e=this.whenReady.then(function(){return t.id=this.flash._addPlayer(),this.emmiters[t.id]=t,t.id}.bind(this));return e.then(function(t){o.debug(this,"createPlayerSuccess",t)}.bind(this),function(t){o.error(this,"createPlayerError",t)}.bind(this)),e},e.exports=d},{"../audio-static":4,"../config":5,"../error/audio-error":6,"../lib/async/deferred":28,"../lib/async/promise":30,"../lib/net/error/loader-error":39,"../logger/logger":42,"./flash-interface":11,"./loader":15}],13:[function(t,e,i){function n(t){t.parentNode.removeChild(t)}var o=t("../lib/browser/swfobject"),r={__SWF_WRAPPER_CLASS:"fbn-swf-wrapper",__TIMEOUT:500,__TESTS:[function(t,e){return e.childNodes.length>1},function(t){return t.type&&"application/x-shockwave-flash"!=t.type},function(t){return!t.parentNode},function(t){return t.parentNode.className.indexOf("CTFnodisplay")>-1}],embedSWF:function(t,e,i,s,a,u,l,h,c,p,d){o&&o.addDomLoadEvent(function(){var f=document.getElementById(e);if(f){var _=document.createElement("div");_.className=r.__SWF_WRAPPER_CLASS,f.parentNode.replaceChild(_,f),_.appendChild(f),o.embedSWF(t,e,i,s,a,u,l,h,c,function(t){function i(t){if(d!==!1){o.removeSWF(e),n(_);var i=document.getElementById("CTFstack");i&&n(i);var r=document.body.lastChild;r&&"ujs_flashblock_placeholder"==r.className&&n(r)}t.success=!1,t.__fbn=!0,p(t)}if(t&&t.success!==!1){var s=t.ref,a=!1;try{a=s&&s.getSVGDocument&&s.getSVGDocument()}catch(u){}a?i(t):window.setTimeout(function(){for(var e=r.__TESTS,n=0,o=e.length;o>n;n++)if(e[n](s,_))return void i(t);p(t)},r.__TIMEOUT)}else p(t)})}})}};e.exports=r},{"../lib/browser/swfobject":33}],14:[function(t,e,i){var n=t("../lib/browser/swfobject"),o={__SWF_WRAPPER_CLASS:"femb-swf-wrapper",__TIMEOUT:500,embedSWF:function(t,e,i,r,s,a,u,l,h,c){n.addDomLoadEvent(function(){var p=document.getElementById(e);if(p){var d=document.createElement("div");d.className=o.__SWF_WRAPPER_CLASS,p.parentNode.replaceChild(d,p),d.appendChild(p),n.embedSWF(t,e,i,r,s,a,u,l,h,function(t){function e(t){t.success=!1,c(t)}if(t&&t.success!==!1){var i=t.ref,n=!1;try{n=i&&i.getSVGDocument&&i.getSVGDocument()}catch(r){}n?e(t):window.setTimeout(function(){c(t)},o.__TIMEOUT)}else c(t)})}})}};e.exports=o},{"../lib/browser/swfobject":33}],15:[function(t,e,i){var n=t("./flashblocknotifier"),o=t("./flashembedder"),r=t("../lib/browser/detect"),s="windows"===r.platform.os&&"safari"===r.browser.name,a="ya-flash-player-wrapper";e.exports=function(t,e,i,r,u,l,h,c){var p=document.createElement("div");p.id="wrapper_"+i,p.innerHTML='<div id="'+i+'"></div>',h=h||"1000",c=c||"1000";var d,f,_,m;return l&&!s?(d=o,f=h,_=c,m={allowscriptaccess:"always",wmode:"transparent"},p.className=a,p.style.cssText="position: relative; width: 100%; height: 100%; overflow: hidden;",l.appendChild(p)):(d=n,f=_="1",m={allowscriptaccess:"always"},p.style.cssText="position: absolute; left: -1px; top: -1px; width: 0px; height: 0px; overflow: hidden;",document.body.appendChild(p)),d.embedSWF(t,i,f,_,e,"",u,m,{},r),p}},{"../lib/browser/detect":32,"./flashblocknotifier":13,"./flashembedder":14}],16:[function(t,e,i){e.exports=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3]},{}],17:[function(t,e,i){e.exports=[{id:"default",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"Classical",preamp:-.5,bands:[-.5,-.5,-.5,-.5,-.5,-.5,-3.5,-3.5,-3.5,-4.5]},{id:"Club",preamp:-3.359999895095825,bands:[-.5,-.5,4,2.5,2.5,2.5,1.5,-.5,-.5,-.5]},{id:"Dance",preamp:-2.1599998474121094,bands:[4.5,3.5,1,-.5,-.5,-2.5,-3.5,-3.5,-.5,-.5]},{id:"Full Bass",preamp:-3.5999999046325684,bands:[4,4.5,4.5,2.5,.5,-2,-4,-5,-5.5,-5.5]},{id:"Full Bass & Treble",preamp:-5.039999961853027,bands:[3.5,2.5,-.5,-3.5,-2,.5,4,5.5,6,6]},{id:"Full Treble",preamp:-6,bands:[-4.5,-4.5,-4.5,-2,1,5.5,8,8,8,8]},{id:"Laptop Speakers / Headphone",preamp:-4.079999923706055,bands:[2,5.5,2.5,-1.5,-1,.5,2,4.5,6,7]},{id:"Large Hall",preamp:-3.5999999046325684,bands:[5,5,2.5,2.5,-.5,-2,-2,-2,-.5,-.5]},{id:"Live",preamp:-2.6399998664855957,bands:[-2,-.5,2,2.5,2.5,2.5,2,1,1,1]},{id:"Party",preamp:-2.6399998664855957,bands:[3.5,3.5,-.5,-.5,-.5,-.5,-.5,-.5,3.5,3.5]
},{id:"Pop",preamp:-3.119999885559082,bands:[-.5,2,3.5,4,2.5,-.5,-1,-1,-.5,-.5]},{id:"Reggae",preamp:-4.079999923706055,bands:[-.5,-.5,-.5,-2.5,-.5,3,3,-.5,-.5,-.5]},{id:"Rock",preamp:-5.039999961853027,bands:[4,2,-2.5,-4,-1.5,2,4,5.5,5.5,5.5]},{id:"Ska",preamp:-5.519999980926514,bands:[-1,-2,-2,-.5,2,2.5,4,4.5,5.5,4.5]},{id:"Soft",preamp:-4.799999713897705,bands:[2,.5,-.5,-1,-.5,2,4,4.5,5.5,6]},{id:"Soft Rock",preamp:-2.6399998664855957,bands:[2,2,1,-.5,-2,-2.5,-1.5,-.5,1,4]},{id:"Techno",preamp:-3.8399999141693115,bands:[4,2.5,-.5,-2.5,-2,-.5,4,4.5,4.5,4]}]},{}],18:[function(t,e,i){var n=t("../../lib/async/events"),o=t("./equalizer-static"),r=function(t,e,i){n.call(this),this.type=e,this.filter=t.createBiquadFilter(),this.filter.type=e,this.filter.frequency.value=i,this.filter.Q.value=1,this.filter.gain.value=0};n.mixin(r),r.prototype.getFreq=function(){return this.filter.frequency.value},r.prototype.getValue=function(){return this.filter.gain.value},r.prototype.setValue=function(t){this.filter.gain.value=t,this.trigger(o.EVENT_CHANGE,t)},e.exports=r},{"../../lib/async/events":29,"./equalizer-static":19}],19:[function(t,e,i){var n={};n.EVENT_CHANGE="change",e.exports=n},{}],20:[function(t,e,i){var n=t("../../lib/async/events"),o=t("../../lib/data/merge"),r=t("./equalizer-static"),s=t("./equalizer-band"),a=function(t,e){n.call(this),this.preamp=new s(t,"highshelf",0),this.preamp.on("*",this._onBandEvent.bind(this,this.preamp)),e=e||a.DEFAULT_BANDS;var i;this.bands=e.map(function(n,o){var r=new s(t,0==o?"lowshelf":o+1<e.length?"peaking":"highshelf",n);return r.on("*",this._onBandEvent.bind(this,r)),i?i.filter.connect(r.filter):this.preamp.filter.connect(r.filter),i=r,r}.bind(this)),this.input=this.preamp.filter,this.output=this.bands[this.bands.length-1].filter};n.mixin(a),o(a,r,!0),a.DEFAULT_BANDS=t("./default.bands.js"),a.DEFAULT_PRESETS=t("./default.presets.js"),a.prototype._onBandEvent=function(t,e,i){this.trigger(e,t.getFreq(),i)},a.prototype.loadPreset=function(t){t.bands.forEach(function(t,e){this.bands[e].setValue(t)}.bind(this)),this.preamp.setValue(t.preamp)},a.prototype.savePreset=function(){return{preamp:this.preamp.getValue(),bands:this.bands.map(function(t){return t.getValue()})}},a.prototype.guessPreamp=function(){for(var t=0,e=0,i=this.bands.length;i>e;e++)t+=this.bands[e].getValue();return-t/2},e.exports=a},{"../../lib/async/events":29,"../../lib/data/merge":37,"./default.bands.js":16,"./default.presets.js":17,"./equalizer-band":18,"./equalizer-static":19}],21:[function(t,e,i){t("../export"),ya.music.Audio.fx.Equalizer=t("./equalizer")},{"../export":22,"./equalizer":20}],22:[function(t,e,i){t("../export"),ya.music.Audio.fx={}},{"../export":9}],23:[function(t,e,i){t("../export"),ya.music.Audio.fx.volumeLib=t("./volume-lib")},{"../export":22,"./volume-lib":24}],24:[function(t,e,i){var n={};n.EPSILON=.01,n._DBFS_COEF=20/Math.log(10),n.toExponent=function(t){var e=Math.pow(n.EPSILON,1-t);return e>n.EPSILON?e:0},n.fromExponent=function(t){return 1-Math.log(Math.max(t,n.EPSILON))/Math.log(n.EPSILON)},n.toDBFS=function(t){return Math.log(t)*n._DBFS_COEF},n.fromDBFS=function(t){return Math.exp(t/n._DBFS_COEF)},e.exports=n},{}],25:[function(t,e,i){var n=t("../logger/logger"),o=new n("AudioHTML5Loader"),r=t("../lib/async/events"),s=t("../lib/async/deferred"),a=t("../audio-static"),u=t("../error/playback-error"),l=t("../lib/noop"),h=1,c=function(){this.name=h++,o.debug(this,"constructor"),r.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&o.debug(this,"onEvent",t)}.bind(this)),this.promises={},this.src="",this.position=0,this.lastUpdate=0,this.notLoading=!0,this.output=null,this.__startPlay=this._startPlay.bind(this),this.__restart=this._restart.bind(this),this.__startupAudio=this._startupAudio.bind(this),this.__updateProgress=this._updateProgress.bind(this),this.__onNativeLoading=this._onNativeLoading.bind(this),this.__onNativeEnded=this._onNativeEnded.bind(this),this.__onNativeError=this._onNativeError.bind(this),this.__onNativePause=this._onNativePause.bind(this),this.__onNativePlay=this.trigger.bind(this,a.EVENT_PLAY),this._initAudio()};r.mixin(c),c._updateInterval=30,c.EVENT_NATIVE_PLAY="play",c.EVENT_NATIVE_PAUSE="pause",c.EVENT_NATIVE_TIMEUPDATE="timeupdate",c.EVENT_NATIVE_ENDED="ended",c.EVENT_NATIVE_DURATION="durationchange",c.EVENT_NATIVE_LOADING="progress",c.EVENT_NATIVE_META="loadedmetadata",c.EVENT_NATIVE_CANPLAY="canplay",c.EVENT_NATIVE_ERROR="error",c._defaultInitListener=function(){},c._defaultInitListener.step="user",c.prototype._updateProgress=function(){var t=+new Date;t-this.lastUpdate<c._updateInterval||(this.lastUpdate=t,this.trigger(a.EVENT_PROGRESS))},c.prototype._onNativeLoading=function(){if(this._updateProgress(),this.audio.buffered.length){var t=this.audio.buffered.end(0)-this.audio.buffered.start(0);this.notLoading&&t&&(this.notLoading=!1,this.trigger(a.EVENT_LOADING)),t>=this.audio.duration-.1&&this.trigger(a.EVENT_LOADED)}},c.prototype._onNativeEnded=function(){this.trigger(a.EVENT_PROGRESS),this.trigger(a.EVENT_ENDED),this.ended=!0,this.playing=!1,this.audio.pause()},c.prototype._onNativeError=function(t){if(this.src){if(2==this.audio.error.code)return o.warn(this,"Network error. Restarting...",this.src),void this._restart();var e=new u(this.audio.error?u.html5[this.audio.error.code]:t instanceof Error?t.message:t,this.src);this.trigger(a.EVENT_ERROR,e)}},c.prototype._onNativePause=function(){this.ended||this.trigger(a.EVENT_PAUSE)},c.prototype._initUserEvents=function(){document.body.addEventListener("mousedown",this.__startupAudio,!0),document.body.addEventListener("keydown",this.__startupAudio,!0),document.body.addEventListener("touchstart",this.__startupAudio,!0)},c.prototype._deinitUserEvents=function(){document.body.removeEventListener("mousedown",this.__startupAudio,!0),document.body.removeEventListener("keydown",this.__startupAudio,!0),document.body.removeEventListener("touchstart",this.__startupAudio,!0)},c.prototype._initNativeEvents=function(){this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.addEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.addEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._deinitNativeEvents=function(){this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.removeEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.removeEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._initAudio=function(){o.debug(this,"_initAudio"),this.muteEvents(),this.audio=document.createElement("audio"),this.audio.loop=!1,this.audio.preload=this.audio.autobuffer="auto",this.audio.autoplay=!1,this.audio.src="",this._initUserEvents(),this.__initListener=c._defaultInitListener,this._initNativeEvents()},c.prototype._deinitAudio=function(){o.debug(this,"_deinitAudio"),this.muteEvents(),this._deinitUserEvents(),this._deinitNativeEvents(),this.audio=null},c.prototype._startupAudio=function(){o.info(this,"_startupAudio"),this._deinitUserEvents(),this.__initListener=function(t){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.__initListener=function(){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),delete this.__initListener,this.unmuteEvents(),o.info(this,"_startupAudio:ready"))}.bind(this),this.__initListener.step="pause",this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),this.audio.pause(),o.info(this,"_startupAudio:play",t.type))}.bind(this),this.__initListener.step="play",this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.audio.load(),this.audio.play()},c.prototype._breakStartup=function(t){this._deinitUserEvents(),this.unmuteEvents(),this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),o.warn(this,"_startupAudio:interrupted",this.__initListener.step,t),delete this.__initListener)},c.prototype._waitFor=function(t,e,i){if(!this.promises[t]){var n=new s;if(this.promises[t]=n,e.call(this))n.resolve();else{for(var o=function(){e.call(this)&&n.resolve()}.bind(this),r=function(){for(var t=0,e=i.length;e>t;t++)this.audio.removeEventListener(i[t],o)}.bind(this),a=0,u=i.length;u>a;a++)this.audio.addEventListener(i[a],o);n.promise().then(r,r)}}return this.promises[t].promise()},c.prototype._cancelWait=function(t,e){var i;(i=this.promises[t])&&(delete this.promises[t],i.reject(e))},c.prototype._abortPromises=function(t){for(var e in this.promises)this.promises.hasOwnProperty(e)&&this._cancelWait(e,t)},c._promiseMetadataEvents=[c.EVENT_NATIVE_META,c.EVENT_NATIVE_CANPLAY],c.prototype._promiseMetadataCheck=function(){return this.audio.readyState>this.audio.HAVE_METADATA},c.prototype._promiseMetadata=function(){return this._waitFor("metadata",this._promiseMetadataCheck,c._promiseMetadataEvents)},c._promiseLoadedEvents=[c.EVENT_NATIVE_LOADING],c.prototype._promiseLoadedCheck=function(){this.__loaderTimer=this.__loaderTimer&&clearTimeout(this.__loaderTimer)||setTimeout(function(){this._cancelWait("loaded","timeout")}.bind(this),5e3);var t=Math.min(this.position+45,this.audio.duration);return this.audio.buffered.length&&this.audio.buffered.end(0)-this.audio.buffered.start(0)>=t},c.prototype._promiseLoaded=function(){var t=this._waitFor("loaded",this._promiseLoadedCheck,c._promiseLoadedEvents);return t.cleanTimer||(t.cleanTimer=function(){this.__loaderTimer=clearTimeout(this.__loaderTimer)}.bind(this),t.then(t.cleanTimer,t.cleanTimer)),t},c._promisePlayingEvents=[c.EVENT_NATIVE_TIMEUPDATE],c.prototype._promisePlayingCheck=function(){var t=Math.min(this.position+.2,this.audio.duration);return this.audio.currentTime>=t},c.prototype._promisePlaying=function(){return this._waitFor("playing",this._promisePlayingCheck,c._promisePlayingEvents)},c.prototype._promiseStartPlaying=function(){if(!this.promises.startPlaying){var t=new s;this.promises.startPlaying=t;var e,i=function(t){n=!0,this._cancelWait("startPlaying",t)}.bind(this),n=!1,r=function(){clearTimeout(e)};this._promisePlaying().then(function(){n=!0,t.resolve(),o.info(this,"startPlaying:success")}.bind(this),i),this._promiseLoaded().then(function(){n||(e=setTimeout(function(){t.reject("timeout"),this._cancelWait("playing","timeout"),o.warn(this,"startPlaying:failed")}.bind(this),5e3))}.bind(this),i),this._promisePlaying().then(r,r),t.promise().then(r,r)}return this.promises.startPlaying.promise()},c.prototype.load=function(t){o.debug(this,"load",t),this._abortPromises("load"),this._breakStartup("load"),this.ended=!1,this.playing=!1,this.notLoading=!0,this.position=0,this.src=t,this.audio.src=t,this.audio.load()},c.prototype.stop=function(){o.debug(this,"stop"),this._abortPromises("stop"),this._breakStartup("stop"),this.load("")},c.prototype._startPlay=function(){o.debug(this,"_startPlay"),this.audio.currentTime=this.position,this.playing&&(this._breakStartup("startPlay"),this.audio.play(),this._promiseStartPlaying().then(l,this.__restart))},c.prototype._restart=function(t){if(o.info(this,"_restart",t,this.position,this.playing),!t||"timeout"===t){var e=this.position,i=this.playing;this.load(this.src),i?this.play(e):this.setPosition(e)}},c.prototype.play=function(t){o.debug(this,"play",t),this.playing||(this._breakStartup("play"),this.ended=!1,this.playing=!0,this.position=null==t?this.position||0:t,this._promiseMetadata().then(this.__startPlay,l))},c.prototype.pause=function(){o.debug(this,"pause"),this.playing=!1,this._cancelWait("startPlaying","pause"),this._breakStartup("pause"),this.audio.pause(),this.position=this.audio.currentTime},c.prototype.setPosition=function(t){return o.debug(this,"setPosition",t),isFinite(t)?(this.position=t,void this._promiseMetadata().then(function(){this.audio.currentTime=this.position}.bind(this),l)):void o.warn(this,"setPositionFailed",t)},c.prototype.toggleCrossDomain=function(t){t?this.audio.crossOrigin="anonymous":this.audio.removeAttribute("crossOrigin"),this._restart()},c.prototype.createSource=function(t){if(!this.output){o.debug(this,"createSource");var e=!this.audio.crossOrigin;this.audio.crossOrigin="anonymous",this.output=t.createMediaElementSource(this.audio),this.output.connect(t.destination),e&&this._restart()}},c.prototype.destroySource=function(){this.output&&(o.warn(this,"destroySource"),this.output.disconnect(),this.output=null,this._abortPromises("destroy"),this._deinitAudio(),this._initAudio(),this._startupAudio(),this._restart())},c.prototype.destroy=function(){o.debug(this,"destroy"),this.output&&(this.output.disconnect(),this.output=null),this._abortPromises(),this._deinitAudio(),this.__restart=null,this.__startPlay=null,this.promises=null},c.prototype._logger=function(){return{init:!!this.__initListener&&this.__initListener.step,src:this.src,playing:this.playing,ended:this.ended,notLoading:this.notLoading,position:this.position}},e.exports=c},{"../audio-static":4,"../error/playback-error":8,"../lib/async/deferred":28,"../lib/async/events":29,"../lib/noop":40,"../logger/logger":42}],26:[function(t,e,i){var n=t("../logger/logger"),o=new n("AudioHTML5"),r=t("../lib/browser/detect"),s=t("../lib/async/events"),a=t("../audio-static"),u=t("./audio-html5-loader"),l=1;if(i.available=function(){var t=!0;try{var e=document.createElement("audio"),i=e.canPlayType("audio/mpeg");i&&"no"!==i||(o.warn(this,"HTML5 detection failed with reason",i),t=!1)}catch(n){o.warn(this,"HTML5 detection failed with error",n),t=!1}return o.info(this,"detection",t),t}(),r.platform.mobile||r.platform.tablet)h=null,o.info(this,"WebAudioAPI not allowed for mobile");else try{var h=new AudioContext;o.info(this,"WebAudioAPI context created")}catch(c){h=null,o.info(this,"WebAudioAPI not detected")}var p=function(){this.name=l++,o.debug(this,"constructor"),s.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&o.debug(this,"onEvent",t)}.bind(this)),this.webAudioApi=!1,this.activeLoader=0,this.volume=1,this.loaders=[],this._addLoader(),this._addLoader(),this._setActive(0)};s.mixin(p),p.type=p.prototype.type="html5",p.prototype._addLoader=function(){o.debug(this,"_addLoader");var t=this,e=new u;e.index=this.loaders.push(e)-1,e.on("*",function(i,n){var o=(t.loaders.length+e.index-t.activeLoader)%t.loaders.length;t.trigger(i,o,n)}),this.webAudioApi&&e.createSource(h)},p.prototype._setActive=function(t){o.debug(this,"_setActive",t),this.activeLoader=(this.activeLoader+t)%this.loaders.length,this.trigger(a.EVENT_SWAP,t),0!==t&&this.stop(t)},p.prototype._getLoader=function(t){return t=t||0,this.loaders[(this.activeLoader+t)%this.loaders.length]},p.prototype.toggleCrossDomain=function(t){this.loaders.forEach(function(e){e.toggleCrossDomain(t)})},p.prototype.toggleWebAudioAPI=function(t){return h?(o.info(this,"toggleWebAudioAPI",t),this.webAudioApi==t?t:(t?(this.audioOutput=h.createGain(),this.audioOutput.gain.value=this.volume,this.audioOutput.connect(h.destination),this.preprocessor&&this.preprocessor.output.connect(this.audioOutput),this.loaders.forEach(function(t){t.audio.volume=1,t.createSource(h),t.output.disconnect(),t.output.connect(this.preprocessor?this.preprocessor.input:this.audioOutput)}.bind(this))):this.audioOutput&&(this.preprocessor&&this.preprocessor.output.disconnect(),this.audioOutput.disconnect(),delete this.audioOutput,this.loaders.forEach(function(t){t.audio.volume=this.volume,t.output.disconnect(),t.output.connect(h.destination)}.bind(this))),this.webAudioApi=t,t)):(o.warn(this,"toggleWebAudioAPIError",t),!1)},p.prototype.setAudioPreprocessor=function(t){return this.webAudioApi?(o.info(this,"setAudioPreprocessor"),this.preprocessor===t?!0:(this.preprocessor&&this.preprocessor.output.disconnect(),this.preprocessor=t,t?(this.loaders.forEach(function(e){e.output.disconnect(),e.output.connect(t.input)}),t.output.connect(this.audioOutput),!0):(this.loaders.forEach(function(t){t.output.disconnect(),t.output.connect(this.audioOutput)}.bind(this)),!0))):(o.warn(this,"setAudioPreprocessorError",t),!1)},p.prototype.play=function(t,e){o.info(this,"play",t);var i=this._getLoader();i.load(t),i.play(0)},p.prototype.pause=function(){o.info(this,"pause");var t=this._getLoader();t.pause()},p.prototype.resume=function(){o.info(this,"resume");var t=this._getLoader();t.play()},p.prototype.stop=function(t){o.info(this,"stop");var e=this._getLoader(t||0);e.stop(),this.trigger(a.EVENT_STOP,t)},p.prototype.getPosition=function(){return this._getLoader().audio.currentTime},p.prototype.setPosition=function(t){o.info(this,"setPosition",t),this._getLoader().setPosition(t-.001)},p.prototype.getDuration=function(t){return this._getLoader(t).audio.duration},p.prototype.getLoaded=function(t){var e=this._getLoader(t);return e.audio.buffered.length?e.audio.buffered.end(0)-e.audio.buffered.start(0):0},p.prototype.getVolume=function(){return this.volume},p.prototype.setVolume=function(t){o.info(this,"setVolume",t),this.volume=t,this.webAudioApi?this.audioOutput.gain.value=t:this.loaders.forEach(function(e){e.audio.volume=t}),this.trigger(a.EVENT_VOLUME)},p.prototype.preload=function(t,e,i){o.info(this,"preload",t,i),i=null==i?1:i;var n=this._getLoader(i);n.load(t)},p.prototype.isPreloaded=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t&&!i.notLoading},p.prototype.isPreloading=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t},p.prototype.playPreloaded=function(t){o.info(this,"playPreloaded",t),t=null==t?1:t;var e=this._getLoader(t);return e.src?(this._setActive(t),e.play(),!0):!1},p.prototype.getSrc=function(t){return this._getLoader(t).src},p.prototype.isDeviceVolume=function(){return r.onlyDeviceVolume},p.prototype._logger=function(){try{return{main:this.getSrc(0),preloader:this.getSrc(1)}}catch(t){return""}},i.audioContext=h,i.AudioImplementation=p},{"../audio-static":4,"../lib/async/events":29,"../lib/browser/detect":32,"../logger/logger":42,"./audio-html5-loader":25}],27:[function(t,e,i){var n=t("./export");t("./error/export"),t("./lib/net/error/export"),t("./logger/export"),t("./fx/equalizer/export"),t("./fx/volume/export"),e.exports=n},{"./error/export":7,"./export":9,"./fx/equalizer/export":21,"./fx/volume/export":23,"./lib/net/error/export":38,"./logger/export":41}],28:[function(t,e,i){var n=t("./promise"),o=t("../noop"),r=function(){var t=this,e=new n(function(e,i){t.resolve=e,t.reject=i}),i=e.then(function(e){return t.resolved=!0,t.pending=!1,e},function(e){throw t.rejected=!0,t.pending=!1,e});i["catch"](o),this.pending=!0,this.rejected=!1,this.promise=function(){return i}};r.when=function(){var t=new r,e=[].slice.call(arguments),i=e.length,n=function(){i--,0>=i&&t.resolve()};return e.forEach(function(e){e.then(n,t.reject)}),e=null,t.promise.abort=t.reject,t.promise()},e.exports=r},{"../noop":40,"./promise":30}],29:[function(t,e,i){var n=t("../data/merge"),o="_listeners",r="_muted",s=function(){this[o]={},this[r]=!1};s.mixin=function(t){return n(t.prototype,s.prototype,!0),t},s.eventize=function(t){return n(t,s.prototype,!0),s.call(t),t},s.prototype.on=function(t,e){return this[o][t]||(this[o][t]=[]),this[o][t].push(e),this},s.prototype.off=function(t,e){if(!this[o][t])return this;if(!e)return delete this[o][t],this;for(var i=this[o][t],n=0,r=i.length;r>n;n++)if(i[n]===e||i[n].callback===e){i.splice(n,1),i.length||delete this[o][t];break}return this},s.prototype.once=function(t,e){var i=this,n=function(){i.off(t,n),e.apply(this,arguments)};return n.callback=e,i.on(t,n),this},s.prototype.clearListeners=function(){for(var t in this[o])this[o].hasOwnProperty(t)&&delete this[o][t];return this},s.prototype.trigger=function(t,e){if(this[r])return this;if(e=[].slice.call(arguments,1),"*"!==t&&s.prototype.trigger.apply(this,["*",t].concat(e)),!this[o][t])return this;for(var i=[].concat(this[o][t]),n=0,a=i.length;a>n;n++)i[n].apply(null,e);return this},s.prototype.pipeEvents=function(t){return this.on("*",s.prototype.trigger.bind(t)),this},s.prototype.muteEvents=function(){return this[r]=!0,this},s.prototype.unmuteEvents=function(){return delete this[r],this},e.exports=s},{"../data/merge":37}],30:[function(t,e,i){var n,o=t("vow"),r=t("../browser/detect");n="function"!=typeof window.Promise||"msie"===r.browser.name||"edge"===r.browser.name?o.Promise:window.Promise,e.exports=n},{"../browser/detect":32,vow:2}],31:[function(t,e,i){var n=t("../noop"),o=t("./promise"),r=function(t){var e=o.reject(t);return e["catch"](n),e};e.exports=r},{"../noop":40,"./promise":30}],32:[function(t,e,i){var n=navigator.userAgent.toLowerCase(),o=/(webkit)[ \/]([\w.]+)/,r=/(yabrowser)[ \/]([\w.]+)/,s=/(opr|opera)(?:.*version)?[ \/]([\w.]+)/,a=/(msie) ([\w.]+)/,u=/(edge)\/([\w.]+)/,l=/(mozilla)(?:.*? rv:([\w.]+))?/,h=/^((?!chrome).)*version\/([\d\w\.]+).*(safari)/,c=h.exec(n)||r.exec(n)||u.exec(n)||s.exec(n)||o.exec(n)||a.exec(n)||n.indexOf("compatible")<0&&l.exec(n)||[],p={name:c[1]||"",version:c[2]||"0"};"safari"===c[3]&&(p.name=c[3]),"msie"===p.name&&(document.documentMode?p.documentMode=document.documentMode:(p.documentMode=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(p.documentMode=7))),"opr"===p.name&&(p.name="opera"),"mozilla"===p.name&&"11"===p.version.split(".")[0]&&(p.name="msie");var d=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,f=/(ipad|playbook)/,_=/(android)/,m=/(mobile)/;y=d.exec(n)||[];var E=f.exec(n)||!m.exec(n)&&_.exec(n)||[];y[1]&&(y[1]=y[1].replace(/\s/g,"_"));var y={type:y[1]||"",tablet:!!E[1],mobile:y[1]&&!E[1]||!1};y.type||(y.type="pc"),y.os=y.type,"ipad"===y.type||"iphone"===y.type||"ipod"===y.type?y.os="ios":"android"===y.type?y.os="android":-1!==navigator.appVersion.indexOf("Win")?(y.os="windows",y.version=navigator.userAgent.match(/win[^ ]* ([^;]*)/i),y.version=y.version&&y.version[1]):-1!==navigator.appVersion.indexOf("Mac")?y.os="macos":-1!==navigator.appVersion.indexOf("X11")?y.os="unix":-1!==navigator.appVersion.indexOf("Linux")&&(y.os="linux");var v=!0;try{var g=document.createElement("audio");g.volume=.63,v=Math.abs(g.volume-.63)>.01}catch(T){v=!0}var b={browser:p,platform:y,onlyDeviceVolume:v};e.exports=b},{}],33:[function(t,e,i){var n=function(){function t(){if(!G){try{var t=j.getElementsByTagName("body")[0].appendChild(E("span"));t.parentNode.removeChild(t)}catch(e){return}G=!0;for(var i=U.length,n=0;i>n;n++)U[n]()}}function e(t){G?t():U[U.length]=t}function i(t){if(typeof k.addEventListener!=V)k.addEventListener("load",t,!1);else if(typeof j.addEventListener!=V)j.addEventListener("load",t,!1);else if(typeof k.attachEvent!=V)y(k,"onload",t);else if("function"==typeof k.onload){var e=k.onload;k.onload=function(){e(),t()}}else k.onload=t}function o(){M?r():s()}function r(){var t=j.getElementsByTagName("body")[0],e=E(R);e.setAttribute("type",x);var i=t.appendChild(e);if(i){var n=0;!function(){if(typeof i.GetVariable!=V){var o=i.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),z.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(10>n)return n++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,s()}()}else s()}function s(){var t=B.length;if(t>0)for(var e=0;t>e;e++){var i=B[e].id,n=B[e].callbackFn,o={success:!1,id:i};if(z.pv[0]>0){var r=m(i);if(r)if(!v(B[e].swfVersion)||z.wk&&z.wk<312)if(B[e].expressInstall&&u()){var s={};s.data=B[e].expressInstall,s.width=r.getAttribute("width")||"0",s.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(s.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(s.align=r.getAttribute("align"));for(var c={},p=r.getElementsByTagName("param"),d=p.length,f=0;d>f;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(c[p[f].getAttribute("name")]=p[f].getAttribute("value"));l(s,c,i,n)}else h(r),n&&n(o);else T(i,!0),n&&(o.success=!0,o.ref=a(i),n(o))}else if(T(i,!0),n){var _=a(i);_&&typeof _.SetVariable!=V&&(o.success=!0,o.ref=_),n(o)}}}function a(t){var e=null,i=m(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=V)e=i;else{var n=i.getElementsByTagName(R)[0];n&&(e=n)}return e}function u(){return!Y&&v("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function l(t,e,i,n){Y=!0,N=n||null,P={success:!1,id:i};var o=m(i);if(o){"OBJECT"==o.nodeName?(w=c(o),A=null):(w=o,A=i),t.id=D,(typeof t.width==V||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==V||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var r=z.ie&&z.win?"ActiveX":"PlugIn",s="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+j.title;if(typeof e.flashvars!=V?e.flashvars+="&"+s:e.flashvars=s,z.ie&&z.win&&4!=o.readyState){var a=E("div");i+="SWFObjectNew",a.setAttribute("id",i),o.parentNode.insertBefore(a,o),o.style.display="none",function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}p(t,e,i)}}function h(t){if(z.ie&&z.win&&4!=t.readyState){var e=E("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=E("div");if(z.win&&z.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(R)[0];if(i){var n=i.childNodes;if(n)for(var o=n.length,r=0;o>r;r++)1==n[r].nodeType&&"PARAM"==n[r].nodeName||8==n[r].nodeType||e.appendChild(n[r].cloneNode(!0))}}return e}function p(t,e,i){var n,o=m(i);if(z.wk&&z.wk<312)return n;if(o)if(typeof t.id==V&&(t.id=i),z.ie&&z.win){var r="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?r+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(r+=" "+s+'="'+t[s]+'"'));var a="";for(var u in e)e[u]!=Object.prototype[u]&&(a+='<param name="'+u+'" value="'+e[u]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+a+"</object>",W[W.length]=t.id,n=m(t.id)}else{var l=E(R);l.setAttribute("type",x);for(var h in t)t[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?l.setAttribute("class",t[h]):"classid"!=h.toLowerCase()&&l.setAttribute(h,t[h]));for(var c in e)e[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&d(l,c,e[c]);o.parentNode.replaceChild(l,o),n=l}return n}function d(t,e,i){var n=E("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}function f(t){var e=m(t);e&&"OBJECT"==e.nodeName&&(z.ie&&z.win?(e.style.display="none",function(){4==e.readyState?_(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function _(t){var e=m(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}function m(t){var e=null;try{e=j.getElementById(t)}catch(i){}return e}function E(t){return j.createElement(t)}function y(t,e,i){t.attachEvent(e,i),H[H.length]=[t,e,i]}function v(t){var e=z.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]?!0:!1}function g(t,e,i,n){if(!z.ie||!z.mac){var o=j.getElementsByTagName("head")[0];if(o){var r=i&&"string"==typeof i?i:"screen";if(n&&(L=null,S=null),!L||S!=r){var s=E("style");s.setAttribute("type","text/css"),s.setAttribute("media",r),L=o.appendChild(s),z.ie&&z.win&&typeof j.styleSheets!=V&&j.styleSheets.length>0&&(L=j.styleSheets[j.styleSheets.length-1]),S=r}z.ie&&z.win?L&&typeof L.addRule==R&&L.addRule(t,e):L&&typeof j.createTextNode!=V&&L.appendChild(j.createTextNode(t+" {"+e+"}"))}}}function T(t,e){if(q){var i=e?"visible":"hidden";G&&m(t)?m(t).style.visibility=i:g("#"+t,"visibility:"+i)}}function b(t){var e=/[\\\"<>\.;]/,i=null!=e.exec(t);return i&&typeof encodeURIComponent!=V?encodeURIComponent(t):t}var w,A,N,P,L,S,V="undefined",R="object",O="Shockwave Flash",I="ShockwaveFlash.ShockwaveFlash",x="application/x-shockwave-flash",D="SWFObjectExprInst",C="onreadystatechange",k=window,j=document,F=navigator,M=!1,U=[o],B=[],W=[],H=[],G=!1,Y=!1,q=!0,z=function(){var t=typeof j.getElementById!=V&&typeof j.getElementsByTagName!=V&&typeof j.createElement!=V,e=F.userAgent.toLowerCase(),i=F.platform.toLowerCase(),n=i?/win/.test(i):/win/.test(e),o=i?/mac/.test(i):/mac/.test(e),r=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,a=[0,0,0],u=null;if(typeof F.plugins!=V&&typeof F.plugins[O]==R)u=F.plugins[O].description,!u||typeof F.mimeTypes!=V&&F.mimeTypes[x]&&!F.mimeTypes[x].enabledPlugin||(M=!0,s=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k.ActiveXObject!=V)try{var l=new ActiveXObject(I);l&&(u=l.GetVariable("$version"),u&&(s=!0,u=u.split(" ")[1].split(","),a=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)]))}catch(h){}return{w3:t,pv:a,wk:r,ie:s,win:n,mac:o}}();return function(){z.w3&&((typeof j.readyState!=V&&"complete"==j.readyState||typeof j.readyState==V&&(j.getElementsByTagName("body")[0]||j.body))&&t(),G||(typeof j.addEventListener!=V&&j.addEventListener("DOMContentLoaded",t,!1),z.ie&&z.win&&(j.attachEvent(C,function(){"complete"==j.readyState&&(j.detachEvent(C,arguments.callee),t())}),k==top&&!function(){if(!G){try{j.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}t()}}()),z.wk&&!function(){return G?void 0:/loaded|complete/.test(j.readyState)?void t():void setTimeout(arguments.callee,0)}(),i(t)))}(),function(){z.ie&&z.win&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;t>e;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var i=W.length,o=0;i>o;o++)f(W[o]);for(var r in z)z[r]=null;z=null;for(var s in n)n[s]=null;n=null})}(),{registerObject:function(t,e,i,n){if(z.w3&&t&&e){var o={};o.id=t,o.swfVersion=e,o.expressInstall=i,o.callbackFn=n,B[B.length]=o,T(t,!1)}else n&&n({success:!1,id:t})},getObjectById:function(t){return z.w3?a(t):void 0},embedSWF:function(t,i,n,o,r,s,a,h,c,d){var f={success:!1,id:i};z.w3&&!(z.wk&&z.wk<312)&&t&&i&&n&&o&&r?(T(i,!1),e(function(){n+="",o+="";var e={};if(c&&typeof c===R)for(var _ in c)e[_]=c[_];e.data=t,e.width=n,e.height=o;var m={};if(h&&typeof h===R)for(var E in h)m[E]=h[E];if(a&&typeof a===R)for(var y in a)typeof m.flashvars!=V?m.flashvars+="&"+y+"="+a[y]:m.flashvars=y+"="+a[y];if(v(r)){var g=p(e,m,i);e.id==i&&T(i,!0),f.success=!0,f.ref=g}else{if(s&&u())return e.data=s,void l(e,m,i,d);T(i,!0)}d&&d(f)})):d&&d(f)},switchOffAutoHideShow:function(){q=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(t,e,i){return z.w3?p(t,e,i):void 0;
},showExpressInstall:function(t,e,i,n){z.w3&&u()&&l(t,e,i,n)},removeSWF:function(t){z.w3&&f(t)},createCSS:function(t,e,i,n){z.w3&&g(t,e,i,n)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=j.location.search||j.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return b(e);for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==t)return b(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var t=m(D);t&&w&&(t.parentNode.replaceChild(w,t),A&&(T(A,!0),z.ie&&z.win&&(w.style.display="block")),N&&N(P)),Y=!1}}}}();e.exports=n},{}],34:[function(t,e,i){var n=function(t){var e=function(){};return e.prototype=t.prototype,new e};e.exports=n},{}],35:[function(t,e,i){var n=t("./clear-instance"),o=function(t,e){var i=new Error(t,e);i.name=this.name,this.message=i.message,this.stack=i.stack};o.create=function(t){var e=n(o);return e.name=t,e},o.prototype=n(Error),o.prototype.name="ErrorClass",e.exports=o},{"./clear-instance":34}],36:[function(t,e,i){var n=t("../async/events"),o=function(t){if(t){for(var e in t)"_"===e[0]||"function"!=typeof t[e]||t[e]===Object.prototype[e]||t.hasOwnProperty(e)||n.prototype.hasOwnProperty(e)||(this[e]=t[e].bind(t));t.pipeEvents&&(n.call(this),this.on=n.prototype.on,this.once=n.prototype.once,this.off=n.prototype.off,this.clearListeners=n.prototype.clearListeners,t.pipeEvents(this))}};o.exportStatic=function(t,e,i){i=i||[],Object.keys(t).forEach(function(n){t.hasOwnProperty(n)&&"_"!==n[0]&&"prototype"!==n&&-1===i.indexOf(n)&&(e[n]=t[n])})},o.createClass=function(t,e){var i=function(){var e=function(){};e.prototype=t.prototype;var i=new e;return t.apply(i,arguments),i._proxy()},n=function(){};n.prototype=(e||o).prototype,i.prototype=new n;var r;for(var s in t.prototype)r=t.prototype[s],Object.prototype[s]!=r&&"function"!=typeof r&&"_"!==s[0]&&(i.prototype[s]=r);var a=function(t){var e=o.prototype;o.prototype=i.prototype;var n=new o(t);return o.prototype=e,n};return t.prototype._proxy=function(){return this.__proxy||(this.__proxy=a(this)),this.__proxy},o.exportStatic(t,i),i},e.exports=o},{"../async/events":29}],37:[function(t,e,i){var n=function(t){var e,i,n=[].slice.call(arguments,1);if(n[n.length-1]===!0)e=t,n.pop();else{e={};for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}for(var o=0,r=n.length;r>o;o++)for(i in n[o])n[o].hasOwnProperty(i)&&(e[i]=n[o][i]);return e};e.exports=n},{}],38:[function(t,e,i){t("../../../export");var n=t("./loader-error");ya.music.Audio.LoaderError=n},{"../../../export":9,"./loader-error":39}],39:[function(t,e,i){var n=t("../../class/error-class"),o=function(t){n.call(this,t)};o.prototype=n.create("LoaderError"),o.TIMEOUT="request timeout",o.FAILED="request failed",e.exports=o},{"../../class/error-class":35}],40:[function(t,e,i){var n=function(){};e.exports=n},{}],41:[function(t,e,i){t("../export");var n=t("./logger");ya.music.Audio.Logger=n},{"../export":9,"./logger":42}],42:[function(t,e,i){var n=["debug","log","info","warn","error","trace"],o=t("../lib/noop"),r=function(t){this.channel=t};r.ignores=[],r.logLevels=[],r.prototype.debug=o,r.prototype.log=o,r.prototype.info=o,r.prototype.warn=o,r.prototype.error=o,r.prototype.trace=o,n.forEach(function(t){r.prototype[t]=function(){var e=[].slice.call(arguments);e.unshift(this.channel),e.unshift(t),r.log.apply(r,e)}}),r.log=function(t,e,i){var n=[].slice.call(arguments,3).map(function(t){return t&&t._logger&&t._logger()||t}),o={timestamp:+new Date,level:t,channel:e,context:i,message:n};r.ignores[e]||-1===r.logLevels.indexOf(t)||r._dumpEntry(o)},r._dumpEntry=function(t){try{var e=t.level,i=t.context&&(t.context.taskName||t.context.name),n=t.context&&(t.context._logger?t.context._logger():"");"function"!=typeof console[e]?console.log.apply(console,[e.toUpperCase(),r._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",n].concat(t.message)):console[e].apply(console,[r._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",n].concat(t.message))}catch(o){}},r._formatTimestamp=function(t){var e=new Date(t),i=e.getMilliseconds();return i=i>100?i:i>10?"0"+i:"00"+i,e.toLocaleTimeString()+"."+i},e.exports=r},{"../lib/noop":40}]},{},[27]);
//# sourceMappingURL=dist/index.map.json
